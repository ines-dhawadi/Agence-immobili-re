(this.webpackJsonp=this.webpackJsonp||[]).push([[17],{"00fb7fb562cda5715a9f":function(e,t,r){var n=r("32a60d6694948040be96");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("1e4534d1d62a11482e97")(n,o);n.locals&&(e.exports=n.locals)},"32a60d6694948040be96":function(e,t,r){(t=e.exports=r("c138e55a31f3f8960e99")(!1)).push([e.i,"/* stylelint-disable property-no-unknown */\n\n/* stylelint-enable */\n/* Shorthand properties */\n/* Customised flex properties */\n.src-external_sources--styles-tribute-container-23n-U {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: auto;\n  max-height: 300px;\n  max-width: 500px;\n  overflow: auto;\n  display: block;\n  z-index: 999999;\n  background: #fff;\n  border: solid 1px #b9bdc4; }\n  .src-external_sources--styles-tribute-container-23n-U ul {\n    margin: 0;\n    margin-top: 2px;\n    padding: 0;\n    list-style: none; }\n  .src-external_sources--styles-tribute-container-23n-U li {\n    padding: 5px 5px;\n    cursor: pointer; }\n    .src-external_sources--styles-tribute-container-23n-U li.src-external_sources--styles-highlight-1O2bG {\n      background: #eff9ff; }\n    .src-external_sources--styles-tribute-container-23n-U li span {\n      font-weight: bold; }\n    .src-external_sources--styles-tribute-container-23n-U li.src-external_sources--styles-no-match-3Lgbx {\n      cursor: default; }\n  .src-external_sources--styles-tribute-container-23n-U .src-external_sources--styles-menu-highlighted-2isUA {\n    font-weight: bold; }\n\n.src-external_sources--styles-createModalHeader-1gdxA {\n  padding-right: 25px;\n  padding-left: 25px;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 80px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-left: 40px;\n  border-bottom: solid 1px #e2e4e7; }\n  .src-external_sources--styles-createModalHeader-1gdxA .src-external_sources--styles-title-WQ8z0 {\n    font-family: 'Lato', 'sans-serif';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 24px;\n    line-height: 30px; }\n  .src-external_sources--styles-createModalHeader-1gdxA .src-external_sources--styles-closeIcon-3P5-I:hover {\n    fill: #4caae4;\n    color: #4caae4; }\n  .src-external_sources--styles-createModalHeader-1gdxA .src-external_sources--styles-externalSourcesPicker-1aaju {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    color: #343b46; }\n    .src-external_sources--styles-createModalHeader-1gdxA .src-external_sources--styles-externalSourcesPicker-1aaju .src-external_sources--styles-sourceWrapper-2mOUf {\n      margin-right: 40px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex; }\n      .src-external_sources--styles-createModalHeader-1gdxA .src-external_sources--styles-externalSourcesPicker-1aaju .src-external_sources--styles-sourceWrapper-2mOUf:last-child {\n        margin-right: 0; }\n      .src-external_sources--styles-createModalHeader-1gdxA .src-external_sources--styles-externalSourcesPicker-1aaju .src-external_sources--styles-sourceWrapper-2mOUf .src-external_sources--styles-sourceIcon-3ppQP {\n        height: 30px;\n        margin-right: 10px; }\n      .src-external_sources--styles-createModalHeader-1gdxA .src-external_sources--styles-externalSourcesPicker-1aaju .src-external_sources--styles-sourceWrapper-2mOUf:hover {\n        color: #4caae4;\n        fill: #4caae4; }\n",""]),t.locals={zindexCanvasTooltip:"10","tribute-container":"src-external_sources--styles-tribute-container-23n-U",highlight:"src-external_sources--styles-highlight-1O2bG","no-match":"src-external_sources--styles-no-match-3Lgbx","menu-highlighted":"src-external_sources--styles-menu-highlighted-2isUA",createModalHeader:"src-external_sources--styles-createModalHeader-1gdxA",title:"src-external_sources--styles-title-WQ8z0",closeIcon:"src-external_sources--styles-closeIcon-3P5-I",externalSourcesPicker:"src-external_sources--styles-externalSourcesPicker-1aaju",sourceWrapper:"src-external_sources--styles-sourceWrapper-2mOUf",sourceIcon:"src-external_sources--styles-sourceIcon-3ppQP"}},"33a4798f833885c2ccfc":function(e,t,r){(t=e.exports=r("c138e55a31f3f8960e99")(!1)).push([e.i,"/* stylelint-disable property-no-unknown */\n\n/* stylelint-enable */\n/* Shorthand properties */\n/* Customised flex properties */\n.src-external_sources-components-grid_components--grid-tribute-container-2O2np {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: auto;\n  max-height: 300px;\n  max-width: 500px;\n  overflow: auto;\n  display: block;\n  z-index: 999999;\n  background: #fff;\n  border: solid 1px #b9bdc4; }\n  .src-external_sources-components-grid_components--grid-tribute-container-2O2np ul {\n    margin: 0;\n    margin-top: 2px;\n    padding: 0;\n    list-style: none; }\n  .src-external_sources-components-grid_components--grid-tribute-container-2O2np li {\n    padding: 5px 5px;\n    cursor: pointer; }\n    .src-external_sources-components-grid_components--grid-tribute-container-2O2np li.src-external_sources-components-grid_components--grid-highlight-3qBXF {\n      background: #eff9ff; }\n    .src-external_sources-components-grid_components--grid-tribute-container-2O2np li span {\n      font-weight: bold; }\n    .src-external_sources-components-grid_components--grid-tribute-container-2O2np li.src-external_sources-components-grid_components--grid-no-match-2aXfZ {\n      cursor: default; }\n  .src-external_sources-components-grid_components--grid-tribute-container-2O2np .src-external_sources-components-grid_components--grid-menu-highlighted-1onqV {\n    font-weight: bold; }\n\n.src-external_sources-components-grid_components--grid-header_container-3HF_m {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 20px 15px 0 30px;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n  margin-bottom: 10px; }\n\n.src-external_sources-components-grid_components--grid-header-2omIu {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  text-align: left; }\n\n.src-external_sources-components-grid_components--grid-header_title-15ojg {\n  text-align: left;\n  font-family: 'Lato', 'sans-serif';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 30px;\n  color: #343b46;\n  padding-right: 20px; }\n\n.src-external_sources-components-grid_components--grid-header_user-1WdlD {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n  .src-external_sources-components-grid_components--grid-header_user-1WdlD .src-external_sources-components-grid_components--grid-header_image-3MiDA {\n    width: auto;\n    height: 30px;\n    margin-right: 10px; }\n  .src-external_sources-components-grid_components--grid-header_user-1WdlD div {\n    text-align: left; }\n    .src-external_sources-components-grid_components--grid-header_user-1WdlD div .src-external_sources-components-grid_components--grid-header_username-2dDx2 {\n      font-family: 'Lato', 'sans-serif';\n      font-style: normal;\n      font-weight: 400;\n      font-size: 14px;\n      line-height: 20px;\n      color: #343b46; }\n    .src-external_sources-components-grid_components--grid-header_user-1WdlD div .src-external_sources-components-grid_components--grid-header_link-3dcrD a {\n      font-family: 'Lato', 'sans-serif';\n      font-style: normal;\n      font-weight: 400;\n      font-size: 14px;\n      line-height: 20px;\n      color: #4caae4;\n      text-decoration: none;\n      cursor: pointer; }\n\n.src-external_sources-components-grid_components--grid-folder_image-TmJxz,\n.src-external_sources-components-grid_components--grid-photo-1ytLr {\n  background: #d9dbdf center/cover no-repeat;\n  overflow: hidden; }\n\n.src-external_sources-components-grid_components--grid-header_back_link-3pVO3 {\n  font-family: 'Lato', 'sans-serif';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 22px;\n  color: #4caae4;\n  text-align: left;\n  cursor: pointer;\n  display: inline-block;\n  margin: 0 7px 5px 0;\n  max-width: 300px;\n  overflow: hidden;\n  white-space: nowrap;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis; }\n  .src-external_sources-components-grid_components--grid-header_back_link-3pVO3:not(:first-child) {\n    padding-left: 7px;\n    border-left: solid 1px #d9dbdf; }\n\n.src-external_sources-components-grid_components--grid-folder_image-TmJxz {\n  width: 235px;\n  height: 180px; }\n\n.src-external_sources-components-grid_components--grid-folder_name-11m2C {\n  overflow: hidden;\n  white-space: nowrap;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n  text-align: left;\n  border-top: none;\n  line-height: 40px;\n  padding: 0 10px; }\n\n.src-external_sources-components-grid_components--grid-folder-14Ipx {\n  max-width: 235px;\n  cursor: pointer;\n  margin: 15px;\n  -webkit-box-shadow: 0 1px 3px 0 rgba(52, 59, 70, 0.33);\n          box-shadow: 0 1px 3px 0 rgba(52, 59, 70, 0.33); }\n  .src-external_sources-components-grid_components--grid-folder-14Ipx .src-external_sources-components-grid_components--grid-overlay-1rFsk {\n    height: 180px; }\n\n.src-external_sources-components-grid_components--grid-photo-1ytLr {\n  width: 170px;\n  height: 170px;\n  margin: 7px; }\n\n.src-external_sources-components-grid_components--grid-overlay-1rFsk {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0; }\n  .src-external_sources-components-grid_components--grid-overlay-1rFsk .src-external_sources-components-grid_components--grid-overlay_title-1fYni {\n    font-family: 'Lato', 'sans-serif';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 22px;\n    text-align: left;\n    white-space: nowrap;\n    -o-text-overflow: ellipsis;\n       text-overflow: ellipsis;\n    position: absolute;\n    overflow: hidden;\n    left: 10px;\n    right: 10px;\n    bottom: 10px;\n    color: #fff;\n    margin-right: 10px;\n    display: none; }\n  .src-external_sources-components-grid_components--grid-overlay-1rFsk .src-external_sources-components-grid_components--grid-overlay_icon-3yg9Z {\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    display: none; }\n\n.src-external_sources-components-grid_components--grid-card_wrapper-84q4x {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding-bottom: 15px;\n  padding-left: 15px; }\n\n.src-external_sources-components-grid_components--grid-photo_wrapper-Mj43f {\n  padding-left: 23px;\n  padding-top: 6px; }\n\n.src-external_sources-components-grid_components--grid-card-3r9kB {\n  position: relative; }\n  .src-external_sources-components-grid_components--grid-card-3r9kB:hover .src-external_sources-components-grid_components--grid-overlay-1rFsk {\n    background: rgba(52, 59, 70, 0.6); }\n  .src-external_sources-components-grid_components--grid-card-3r9kB:hover .src-external_sources-components-grid_components--grid-overlay_icon-3yg9Z {\n    display: block;\n    cursor: pointer;\n    fill: #fff; }\n  .src-external_sources-components-grid_components--grid-card-3r9kB:hover .src-external_sources-components-grid_components--grid-overlay_title-1fYni {\n    display: block; }\n  .src-external_sources-components-grid_components--grid-card-3r9kB:hover .src-external_sources-components-grid_components--grid-folder_name-11m2C {\n    color: #3694cd;\n    background: #f8f9f9; }\n  .src-external_sources-components-grid_components--grid-card-3r9kB:active .src-external_sources-components-grid_components--grid-overlay-1rFsk {\n    background: rgba(52, 59, 70, 0.8); }\n  .src-external_sources-components-grid_components--grid-card-3r9kB:active .src-external_sources-components-grid_components--grid-folder_name-11m2C {\n    color: #217eb6; }\n\n.src-external_sources-components-grid_components--grid-card_selected-m3Ql0 .src-external_sources-components-grid_components--grid-overlay_title-1fYni {\n  display: block; }\n\n.src-external_sources-components-grid_components--grid-card_selected-m3Ql0 .src-external_sources-components-grid_components--grid-overlay-1rFsk {\n  background: rgba(52, 59, 70, 0.8); }\n  .src-external_sources-components-grid_components--grid-card_selected-m3Ql0 .src-external_sources-components-grid_components--grid-overlay-1rFsk::before {\n    content: ' ';\n    position: absolute;\n    background: #fff;\n    top: 10px;\n    left: 10px;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%; }\n\n.src-external_sources-components-grid_components--grid-card_selected-m3Ql0:hover .src-external_sources-components-grid_components--grid-overlay_icon-3yg9Z,\n.src-external_sources-components-grid_components--grid-card_selected-m3Ql0 .src-external_sources-components-grid_components--grid-overlay_icon-3yg9Z {\n  display: block;\n  fill: #6db9e9;\n  color: #fff; }\n\n.src-external_sources-components-grid_components--grid-photo_image-q-FXU {\n  width: 170px;\n  height: 170px;\n  background-size: cover;\n  background-position: 50% 50%; }\n",""]),t.locals={zindexCanvasTooltip:"10","tribute-container":"src-external_sources-components-grid_components--grid-tribute-container-2O2np",highlight:"src-external_sources-components-grid_components--grid-highlight-3qBXF","no-match":"src-external_sources-components-grid_components--grid-no-match-2aXfZ","menu-highlighted":"src-external_sources-components-grid_components--grid-menu-highlighted-1onqV",header_container:"src-external_sources-components-grid_components--grid-header_container-3HF_m",header:"src-external_sources-components-grid_components--grid-header-2omIu",header_title:"src-external_sources-components-grid_components--grid-header_title-15ojg",header_user:"src-external_sources-components-grid_components--grid-header_user-1WdlD",header_image:"src-external_sources-components-grid_components--grid-header_image-3MiDA",header_username:"src-external_sources-components-grid_components--grid-header_username-2dDx2",header_link:"src-external_sources-components-grid_components--grid-header_link-3dcrD",folder_image:"src-external_sources-components-grid_components--grid-folder_image-TmJxz",photo:"src-external_sources-components-grid_components--grid-photo-1ytLr",header_back_link:"src-external_sources-components-grid_components--grid-header_back_link-3pVO3",folder_name:"src-external_sources-components-grid_components--grid-folder_name-11m2C",folder:"src-external_sources-components-grid_components--grid-folder-14Ipx",overlay:"src-external_sources-components-grid_components--grid-overlay-1rFsk",overlay_title:"src-external_sources-components-grid_components--grid-overlay_title-1fYni",overlay_icon:"src-external_sources-components-grid_components--grid-overlay_icon-3yg9Z",card_wrapper:"src-external_sources-components-grid_components--grid-card_wrapper-84q4x",photo_wrapper:"src-external_sources-components-grid_components--grid-photo_wrapper-Mj43f",card:"src-external_sources-components-grid_components--grid-card-3r9kB",card_selected:"src-external_sources-components-grid_components--grid-card_selected-m3Ql0",photo_image:"src-external_sources-components-grid_components--grid-photo_image-q-FXU"}},"41c43e9d9f856ad6cac8":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30.1",height:"30.1",viewBox:"0 0 30.1001 30.09998"},t),o.a.createElement("path",{d:"M15.05 6.05a9 9 0 1 1-9 9 8.94 8.94 0 0 1 9-9m0-2a11 11 0 1 0 7.778 3.222A11 11 0 0 0 15.05 4.05z"}))}},"551b88718ac7ec8b14ab":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30.1",height:"30.1",viewBox:"0 0 30.1001 30.09998"},t),o.a.createElement("path",{d:"M22.828 7.272a11 11 0 1 0 3.222 7.778 11 11 0 0 0-3.222-7.778zM20.85 11.65l-6 8a1 1 0 0 1-.73.398 1.026 1.026 0 0 1-.07.002 1 1 0 0 1-.707-.293l-3-3a1 1 0 0 1 1.414-1.414l2.185 2.185 5.308-7.078a1 1 0 1 1 1.6 1.2z"}))}},"7ce68d119ad44a131245":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},t),o.a.createElement("path",{d:"M15.017 8.138L8.51 12.276l6.508 4.138-6.508 4.138L2 16.379l6.509-4.138L2 8.138 8.509 4zM8.474 21.862l6.509-4.138 6.508 4.138L14.983 26zm6.543-5.483l6.509-4.138-6.509-4.103L21.491 4 28 8.138l-6.509 4.138L28 16.414l-6.509 4.138z",fill:"#c5c9cf"}))}},"80a9b41d5cbaef3b7daf":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},t),o.a.createElement("path",{d:"M26.925 15.428A.241.241 0 0 0 27 15.25a.25.25 0 0 0-.25-.25H15v6.25h6.25z",fill:"#b2b8c0"}),o.a.createElement("path",{fill:"#8c94a0",d:"M15 15v6.25h6.25L15 15z"}),o.a.createElement("path",{d:"M14.572 26.925a.241.241 0 0 0 .178.075.25.25 0 0 0 .25-.25V15H8.75v6.25z",fill:"#9fa6b0"}),o.a.createElement("path",{fill:"#788290",d:"M8.75 15v6.25L15 15H8.75z"}),o.a.createElement("path",{d:"M3.075 14.572A.241.241 0 0 0 3 14.75a.25.25 0 0 0 .25.25H15V8.75H8.75z",fill:"#c5c9cf"}),o.a.createElement("path",{fill:"#9fa6b0",d:"M15 15V8.75H8.75L15 15z"}),o.a.createElement("path",{d:"M15.428 3.075A.241.241 0 0 0 15.25 3a.25.25 0 0 0-.25.25V15h6.25V8.75z",fill:"#8c94a0"}),o.a.createElement("path",{fill:"#6f7a89",d:"M21.25 15V8.75L15 15h6.25z"}),o.a.createElement("path",{fill:"#f2f0f3",d:"M14.25 14.25L15 12.5l.75 1.75 1.75.75-1.75.75L15 17.5l-.75-1.75L12.5 15l1.75-.75z"}))}},"84822891718313fd9a73":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},t),o.a.createElement("path",{fill:"none",d:"M10.752 19.175h8.496L15 11.799l-4.248 7.376z"}),o.a.createElement("path",{fill:"#b2b8c0",d:"M27 19.175H10.752L6.822 26h16.356L27 19.175z"}),o.a.createElement("path",{fill:"#9fa6b0",d:"M15 11.799L11.084 5 3 19.175 6.822 26l3.93-6.825L15 11.799z"}),o.a.createElement("path",{fill:"#c5c9cf",d:"M15 11.799l4.248 7.376H27L18.916 5h-7.832L15 11.799z"}))}},"8775fc32abea0be33efe":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"requiredPermissions",(function(){return Ke})),r.d(n,"requiredPermissionsForPhotos",(function(){return $e})),r.d(n,"ensureFBAPI",(function(){return tt})),r.d(n,"fetchFBLoginStatus",(function(){return rt})),r.d(n,"fetchFBUserProfile",(function(){return nt})),r.d(n,"fetchFBUserPermissions",(function(){return ot})),r.d(n,"fetchFBUserProfilePicture",(function(){return at})),r.d(n,"showLoginDialog",(function(){return st})),r.d(n,"logout",(function(){return ct})),r.d(n,"getAlbums",(function(){return it})),r.d(n,"getAlbumCoverPhoto",(function(){return lt})),r.d(n,"getAlbumPhotos",(function(){return ft})),r.d(n,"getAlbumDetails",(function(){return pt})),r.d(n,"shareLinkToFacebook",(function(){return ht})),r.d(n,"getFacebookAdsManagerAccounts",(function(){return gt})),r.d(n,"createImageInFacebookAdsManager",(function(){return mt}));var o={};r.r(o),r.d(o,"loadDropboxSDK",(function(){return St})),r.d(o,"ensureDropboxAPI",(function(){return wt})),r.d(o,"usersGetCurrentAccount",(function(){return jt})),r.d(o,"authTokenRevoke",(function(){return xt})),r.d(o,"filesListFolder",(function(){return kt})),r.d(o,"filesGetMetadata",(function(){return Pt})),r.d(o,"filesGetThumbnail",(function(){return _t})),r.d(o,"filesGetThumbnailBatch",(function(){return It})),r.d(o,"filesDownload",(function(){return Lt}));var a={};r.r(a),r.d(a,"flickrOauthLocalStorageKey",(function(){return Wt})),r.d(a,"login",(function(){return Qt})),r.d(a,"testFlickrLogin",(function(){return Zt})),r.d(a,"loadFlickrProfile",(function(){return Kt})),r.d(a,"loadPhotosForPhotoset",(function(){return $t})),r.d(a,"loadTopLevelPhotos",(function(){return er})),r.d(a,"loadPhotosets",(function(){return tr}));var s={};r.r(s),r.d(s,"onedriveRootPath",(function(){return lr})),r.d(s,"MSGraphResource",(function(){return rr})),r.d(s,"loadMSAL",(function(){return fr})),r.d(s,"loadMicrosoftGraphSDK",(function(){return pr})),r.d(s,"ensureMSAPI",(function(){return dr})),r.d(s,"getMSALInstance",(function(){return br})),r.d(s,"stripOnedriveRootFromPath",(function(){return hr})),r.d(s,"UserAgentApplication",(function(){return mr})),r.d(s,"login",(function(){return vr})),r.d(s,"callMSGraph",(function(){return yr})),r.d(s,"acquireTokenSilent",(function(){return Or})),r.d(s,"acquireTokenWithPopup",(function(){return Sr}));var c={};r.r(c),r.d(c,"twitterOauthLocalStorageKey",(function(){return xr})),r.d(c,"login",(function(){return Ir})),r.d(c,"loadTwitterProfile",(function(){return Lr})),r.d(c,"sendTweet",(function(){return Tr}));var i={};r.r(i),r.d(i,"localStoragePath",(function(){return Ar})),r.d(i,"loadInstagramProfile",(function(){return Cr})),r.d(i,"loadInstagramMedia",(function(){return Ur})),r.d(i,"makeInstagramRequest",(function(){return Mr}));var u={};r.r(u),r.d(u,"tumblrOauthLocalStorageKey",(function(){return qr})),r.d(u,"login",(function(){return Hr})),r.d(u,"loadTumblrProfile",(function(){return Wr})),r.d(u,"shareViaTumblr",(function(){return Vr}));var l={};r.r(l),r.d(l,"performYouTubeLogin",(function(){return Kr}));var f={};r.r(f),r.d(f,"requiredPermissions",(function(){return tn})),r.d(f,"ensureAppleAPI",(function(){return rn})),r.d(f,"signIn",(function(){return nn}));var p={};r.r(p),r.d(p,"Facebook",(function(){return n})),r.d(p,"Dropbox",(function(){return o})),r.d(p,"Flickr",(function(){return a})),r.d(p,"MicrosoftGraph",(function(){return s})),r.d(p,"Instagram",(function(){return i})),r.d(p,"Google",(function(){return me})),r.d(p,"Tumblr",(function(){return u})),r.d(p,"Twitter",(function(){return c})),r.d(p,"YouTube",(function(){return l})),r.d(p,"Apple",(function(){return f}));var d={};r.r(d),r.d(d,"getDropboxState",(function(){return fn})),r.d(d,"getDropboxAuthResponse",(function(){return pn})),r.d(d,"getDropboxItems",(function(){return dn})),r.d(d,"getDropboxGridStatus",(function(){return bn})),r.d(d,"getDropboxUserProfile",(function(){return hn}));var b={};r.r(b),r.d(b,"getFacebookState",(function(){return vn})),r.d(b,"canSeeFacebookUnsupportedModal",(function(){return yn})),r.d(b,"getFacebookError",(function(){return On})),r.d(b,"getFacebookGridStatus",(function(){return Sn})),r.d(b,"getFacebookUserProfile",(function(){return wn})),r.d(b,"getFacebookAccessToken",(function(){return jn})),r.d(b,"getFacebookUserId",(function(){return xn})),r.d(b,"getFacebookPermissions",(function(){return kn})),r.d(b,"hasFacebookRequiredPermissions",(function(){return Pn})),r.d(b,"getSocialConnectState",(function(){return _n}));var h={};r.r(h),r.d(h,"getOnedriveState",(function(){return In})),r.d(h,"getOnedriveAuthResponse",(function(){return Ln})),r.d(h,"getOnedriveUserProfile",(function(){return Tn})),r.d(h,"getOnedriveGridStatus",(function(){return En}));var g={};r.r(g),r.d(g,"getFlickrState",(function(){return Fn})),r.d(g,"getFlickrGridStatus",(function(){return Dn})),r.d(g,"getFlickrUserProfile",(function(){return An})),r.d(g,"getFlickrPhotoPagination",(function(){return Cn})),r.d(g,"getFlickrAlbumPagination",(function(){return Un})),r.d(g,"canLoadMoreFlickrPhotos",(function(){return Mn})),r.d(g,"canLoadMoreFlickrFolders",(function(){return Gn})),r.d(g,"getFlickrPhotos",(function(){return Rn})),r.d(g,"getFlickrAlbums",(function(){return qn}));var m={};r.r(m),r.d(m,"getTwitterState",(function(){return Nn})),r.d(m,"getTwitterError",(function(){return Bn})),r.d(m,"getTwitterUserProfile",(function(){return Yn})),r.d(m,"getTwitterShareResponse",(function(){return zn}));var v={};r.r(v),r.d(v,"getPinterestState",(function(){return Hn})),r.d(v,"getPinterestLoggedIn",(function(){return Wn})),r.d(v,"getPopupWindowStatus",(function(){return Vn})),r.d(v,"getPinterestGridStatus",(function(){return Xn}));var y={};r.r(y),r.d(y,"getTumblrState",(function(){return Qn})),r.d(y,"getTumblrError",(function(){return Zn})),r.d(y,"getTumblrUserProfile",(function(){return Kn})),r.d(y,"getTumblrShareResponse",(function(){return $n}));var O={};r.r(O),r.d(O,"getGoogleState",(function(){return eo})),r.d(O,"getGooglePhotosState",(function(){return to})),r.d(O,"getGoogleDriveState",(function(){return ro})),r.d(O,"getGooglePhotosGridStatus",(function(){return no})),r.d(O,"getGoogleDriveGridStatus",(function(){return oo})),r.d(O,"getGoogleUserProfile",(function(){return ao})),r.d(O,"hasRequiredScopes",(function(){return so})),r.d(O,"hasRequiredShareToGoogleDriveScopes",(function(){return co})),r.d(O,"hasRequiredShareToGooglePhotosScopes",(function(){return io})),r.d(O,"getGoogleGrantedScopes",(function(){return uo})),r.d(O,"getSocialConnectState",(function(){return lo})),r.d(O,"getGoogleLoginAuthResponse",(function(){return fo}));var S={};r.r(S),r.d(S,"getYouTubeState",(function(){return po})),r.d(S,"getYouTubeGridStatus",(function(){return bo})),r.d(S,"getYouTubeError",(function(){return ho})),r.d(S,"getYouTubeProfile",(function(){return go})),r.d(S,"hasRequiredScopes",(function(){return mo})),r.d(S,"getYouTubeGrantedScopes",(function(){return vo}));var w,j=r("b88b90e336f576b9021f"),x=r("2318efe33b95cb269ff2"),k=r("42a7b21db6f8961cc7a7"),P=function(){return(P=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_={facebookLoginState:null,facebookUserProfile:null,isLoadingItems:!1,adAccounts:null,items:{},permissions:[],error:null};function I(e,t){var r=t.authResponse,n=e.facebookState.permissions;r&&r.grantedScopes&&(n=r.grantedScopes.split(",").map((function(e){return{permission:e,status:k.b.granted}})));var o=P({},e.facebookState,{facebookLoginState:t,permissions:n});return P({},e,{facebookState:o})}function L(e){var t=P({},e.facebookState,{isLoadingItems:!0});return P({},e,{facebookState:t})}var T,E=((w={})[x.a.putFacebookStatusLoggedIn]=I,w[x.a.putFacebookStatusLoggedOut]=function(e,t){var r=P({},_,{facebookLoginState:t});return P({},e,{facebookState:r})},w[x.a.putFacebookLoginStatus]=I,w[x.a.putFacebookUserProfile]=function(e,t){var r=P({},e.facebookState,{facebookUserProfile:t});return P({},e,{facebookState:r})},w[x.a.putFacebookItems]=function(e,t){if(!t)return e;var r=P({},e.facebookState,{items:t,isLoadingItems:!1});return P({},e,{facebookState:r})},w[x.a.putFacebookAdAccounts]=function(e,t){if(!t)return e;var r=P({},e.facebookState,{adAccounts:t});return P({},e,{facebookState:r})},w[x.a.putFacebookDoneSharing]=function(e,t){var r=P({},e.facebookState);return P({},e,{facebookState:r,sharingInProgress:!t})},w[x.a.fetchFacebookAlbums]=L,w[x.a.fetchFacebookAlbumPhotos]=L,w[x.a.putFacebookPermissions]=function(e,t){var r=P({},e.facebookState,{permissions:t});return P({},e,{facebookState:r})},w[x.a.putFacebookError]=function(e,t){var r=P({},e.facebookState,{error:t});return P({},e,{facebookState:r,sharingInProgress:!1})},w),F=function(){return(F=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var D,A=((T={})[x.a.putDropboxLoginStatus]=function(e,t){var r=F({},e.dropboxState,{dropboxLoginState:t});return F({},e,{dropboxState:r})},T[x.a.putDropboxItems]=function(e,t){if(!t)return e;var r=F({},e.dropboxState,{items:t,isLoadingItems:!1});return F({},e,{dropboxState:r})},T[x.a.putDropboxUserProfile]=function(e,t){var r=F({},e.dropboxState,{userProfile:t});return F({},e,{dropboxState:r})},T[x.a.putDropboxAccountCredentials]=function(e,t){var r={authResponse:F({},t)},n=F({},e.dropboxState,{dropboxLoginState:r});return F({},e,{dropboxState:n})},T[x.a.putClearDropboxItems]=function(e){var t=F({},e.dropboxState,{items:{}});return F({},e,{dropboxState:t})},T[x.a.putDropboxIsLoadingItems]=function(e,t){var r=F({},e.dropboxState,{isLoadingItems:t});return F({},e,{dropboxState:r})},T),C=function(){return(C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},U=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s},M=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(U(arguments[t]));return e},G={flickrLoginState:null,flickrUserProfile:null,isLoadingItems:!1,items:{folders:[],images:[]},pagination:{photos:{page:0,perPage:0,pages:0},albums:{page:0,perPage:0,pages:0}},error:null},R={connected:!1,serviceState:"disconnected",fullname:"",oauthToken:"",oauthTokenSecret:"",userNsid:"",username:""};function q(e,t){if(!e.flickrState.flickrLoginState)return e;var r=C({},e.flickrState,{isLoadingItems:1===t.page});return C({},e,{flickrState:r})}var N,B=((D={})[x.a.flickrLogout]=function(e){var t=C({},G,{flickrLoginState:R});return C({},e,{flickrState:t})},D[x.a.putFlickrLoginStatus]=function(e,t){var r=C({},e.flickrState,{flickrLoginState:t});return C({},e,{flickrState:r})},D[x.a.putFlickrUserProfile]=function(e,t){var r=C({},e.flickrState,{flickrUserProfile:t});return C({},e,{flickrState:r})},D[x.a.putFlickrItems]=function(e,t){var r=C({},e.flickrState,{items:t,isLoadingItems:!1});return C({},e,{flickrState:r})},D[x.a.fetchFlickrAlbums]=q,D[x.a.fetchFlickrAlbumPhotos]=q,D[x.a.putFlickrError]=function(e,t){var r=C({},e.flickrState,{error:t});return C({},e,{flickrState:r})},D[x.a.clearFlickrItems]=function(e){return C({},e,{currentSelectedItem:void 0,flickrState:C({},e.flickrState,{items:G.items})})},D[x.a.putFlickrAlbumPagination]=function(e,t){var r=C({},e.flickrState,{pagination:C({},e.flickrState.pagination,{albums:C({},t)})});return C({},e,{flickrState:r})},D[x.a.putFlickrPhotoPagination]=function(e,t){var r=C({},e.flickrState,{pagination:C({},e.flickrState.pagination,{photos:C({},t)})});return C({},e,{flickrState:r})},D[x.a.addFlickrAlbums]=function(e,t){var r=e.flickrState.items.folders||[],n=M(r,t);return C({},e,{flickrState:C({},e.flickrState,{items:C({},e.flickrState.items,{folders:n})})})},D[x.a.addFlickrPhotos]=function(e,t){var r=e.flickrState.items.images||[],n=M(r,t);return C({},e,{flickrState:C({},e.flickrState,{items:C({},e.flickrState.items,{images:n})})})},D),Y=function(){return(Y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},z=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s},H=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(z(arguments[t]));return e};var W,V=((N={})[x.a.putOnedriveLoginStatus]=function(e,t){var r=Y({},e.onedriveState,{onedriveLoginState:t});return Y({},e,{onedriveState:r})},N[x.a.putOnedriveItems]=function(e,t){if(!t)return e;var r=Y({},e.onedriveState,{items:t,isLoadingItems:!1});return Y({},e,{onedriveState:r})},N[x.a.putMoreOnedriveItems]=function(e,t){if(!t)return e;var r=e.onedriveState.items,n=r.folders,o=void 0===n?[]:n,a=r.images,s=void 0===a?[]:a,c=t.folders,i=void 0===c?[]:c,u=t.images,l=void 0===u?[]:u,f=Y({},e.onedriveState,{items:{folders:H(o,i),images:H(s,l)}});return Y({},e,{onedriveState:f})},N[x.a.putOnedriveUserProfile]=function(e,t){var r=Y({},e.onedriveState,{userProfile:t});return Y({},e,{onedriveState:r})},N[x.a.putOnedriveAccountCredentials]=function(e,t){var r={authResponse:Y({},t)},n=Y({},e.onedriveState,{onedriveLoginState:r});return Y({},e,{onedriveState:n})},N[x.a.putClearOnedriveItems]=function(e){var t=Y({},e.onedriveState,{items:{}});return Y({},e,{onedriveState:t})},N[x.a.putOnedriveIsLoadingItems]=function(e,t){var r=Y({},e.onedriveState,{isLoadingItems:t});return Y({},e,{onedriveState:r})},N[x.a.putOnedriveIsAwaitingToken]=function(e,t){var r=Y({},e.onedriveState,{isAwaitingToken:t});return Y({},e,{onedriveState:r})},N[x.a.putOnedriveError]=function(e,t){var r=Y({},e.onedriveState,{error:t});return Y({},e,{onedriveState:r})},N),X=function(){return(X=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},J={connected:!1,serviceState:"disconnected",fullname:"",oauthToken:"",oauthTokenSecret:"",userNsid:"",username:""},Q={twitterLoginState:null,twitterUserProfile:null,error:null,twitterShareReponse:null};function Z(e,t){var r=X({},e.twitterState,{twitterLoginState:t});return X({},e,{twitterState:r})}var K,$=((W={})[x.a.putTwitterStatusLoggedIn]=Z,W[x.a.putTwitterStatusLoggedOut]=function(e){var t=X({},Q,{twitterLoginState:J});return X({},e,{twitterState:t})},W[x.a.putTwitterLoginStatus]=Z,W[x.a.putTwitterUserProfile]=function(e,t){var r=X({},e.twitterState,{twitterUserProfile:t});return X({},e,{twitterState:r})},W[x.a.putTwitterShareResponse]=function(e,t){var r=X({},e.twitterState,{twitterShareReponse:t});return X({},e,{twitterState:r})},W[x.a.putTwitterError]=function(e,t){var r=X({},e.twitterState,{error:t});return X({},e,{twitterState:r,sharingInProgress:!1})},W);!function(e){e.connected="connected",e.unknown="unknown"}(K||(K={}));var ee,te=function(){return(te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},re={pinterestLoginState:K.unknown,popupWindowDisplayed:!1};var ne,oe=((ee={})[x.a.pinterestLogin]=function(e,t){var r=te({},e.pinterestState,{pinterestLoginState:t});return te({},e,{pinterestState:r})},ee[x.a.putPopupWindowStatus]=function(e,t){var r=te({},e.pinterestState,{popupWindowDisplayed:t});return te({},e,{pinterestState:r})},ee),ae=function(){return(ae=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},se=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s},ce=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(se(arguments[t]));return e};var ie,ue=((ne={})[x.a.putInstagramLoginStatus]=function(e,t){var r=ae({},e.instagramState,{instagramLoginState:t});return ae({},e,{instagramState:r})},ne[x.a.putInstagramItems]=function(e,t){if(!t)return e;var r=ae({},e.instagramState,{items:t,isLoadingItems:!1});return ae({},e,{instagramState:r})},ne[x.a.putInstagramUserProfile]=function(e,t){var r=ae({},e.instagramState,{userProfile:t});return ae({},e,{instagramState:r})},ne[x.a.putInstagramAccountCredentials]=function(e,t){var r={authResponse:ae({},t)},n=ae({},e.instagramState,{instagramLoginState:r});return ae({},e,{instagramState:n})},ne[x.a.putClearInstagramItems]=function(e){var t=ae({},e.instagramState,{items:{}});return ae({},e,{instagramState:t})},ne[x.a.putInstagramIsLoadingItems]=function(e,t){var r=ae({},e.instagramState,{isLoadingItems:t});return ae({},e,{instagramState:r})},ne[x.a.putInstagramMediaPagination]=function(e,t){var r=ae({},e.instagramState,{pagination:t});return ae({},e,{instagramState:r})},ne[x.a.addInstagramItems]=function(e,t){if(!t)return e;var r=e.instagramState.items.images||[],n=t.images,o=n?ce(r,n):r,a=e.instagramState.items.folders||[],s=t.folders,c=s?ce(a,s):a;return ae({},e,{instagramState:ae({},e.instagramState,{items:ae({},e.instagramState.items,{images:o,folders:c})})})},ne),le=function(){return(le=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fe={connected:!1,serviceState:"disconnected",fullname:"",oauthToken:"",oauthTokenSecret:"",userNsid:"",username:""},pe={tumblrLoginState:null,tumblrUserProfile:null,error:null,tumblrShareReponse:null};function de(e,t){var r=le({},e.tumblrState,{tumblrLoginState:t});return le({},e,{tumblrState:r})}var be,he=((ie={})[x.a.putTumblrStatusLoggedIn]=de,ie[x.a.putTumblrStatusLoggedOut]=function(e){var t=le({},pe,{tumblrLoginState:fe});return le({},e,{tumblrState:t})},ie[x.a.putTumblrLoginStatus]=de,ie[x.a.putTumblrUserProfile]=function(e,t){var r=le({},e.tumblrState,{tumblrUserProfile:t});return le({},e,{tumblrState:r})},ie[x.a.putTumblrShareResponse]=function(e,t){var r=le({},e.tumblrState,{tumblrShareReponse:t});return le({},e,{tumblrState:r})},ie[x.a.putTumblrError]=function(e,t){var r=le({},e.tumblrState,{error:t});return le({},e,{tumblrState:r,sharingInProgress:!1})},ie),ge=r("84acc458260463d97719"),me=r("96065c951aa20bd88565"),ve=function(){return(ve=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ye=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s},Oe=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ye(arguments[t]));return e},Se={isLoadingItems:!1,items:{}},we={isLoggedIn:!1,access_token:"",id_token:"",login_hint:"",scope:"",expires_in:0,first_issued_at:0,expires_at:0},je={googleLoginState:null,userProfile:null,googlePhotosState:Se,googleDriveState:Se};var xe,ke=((be={})[ge.a.putGoogleLoginStatus]=function(e,t){var r=ve({},e.googleState,{googleLoginState:t});return ve({},e,{googleState:r})},be[ge.a.putGoogleUserProfile]=function(e,t){var r=ve({},e.googleState,{userProfile:t});return ve({},e,{googleState:r})},be[ge.a.putGooglePhotosItems]=function(e,t){if(!t.items)return e;var r=ve({},e.googleState.googlePhotosState,{items:t.items,isLoadingItems:!1,nextPageToken:t.nextPageToken}),n=ve({},e.googleState,{googlePhotosState:r});return ve({},e,{googleState:n})},be[ge.a.addGooglePhotosItems]=function(e,t){if(!t.items||!t.items.images)return e;var r=e.googleState.googlePhotosState.items,n=r.images||[],o=t.items.images,a=Oe(n,o),s=r.folders||[],c=t.items.folders||[],i=Oe(s,c),u=ve({},e.googleState.googlePhotosState,{items:{images:a,folders:i},isLoadingItems:!1,nextPageToken:t.nextPageToken}),l=ve({},e.googleState,{googlePhotosState:u});return ve({},e,{googleState:l})},be[ge.a.putGooglePhotosIsLoadingItems]=function(e,t){var r=ve({},e.googleState.googlePhotosState,{isLoadingItems:t}),n=ve({},e.googleState,{googlePhotosState:r});return ve({},e,{googleState:n})},be[ge.a.putGoogleDriveItems]=function(e,t){if(!t.items)return e;var r=ve({},e.googleState.googleDriveState,{items:t.items,isLoadingItems:!1,nextPageToken:t.nextPageToken}),n=ve({},e.googleState,{googleDriveState:r});return ve({},e,{googleState:n})},be[ge.a.addGoogleDriveItems]=function(e,t){if(!t.items||!t.items.images)return e;var r=e.googleState.googleDriveState.items,n=r.images||[],o=t.items.images,a=Oe(n,o),s=r.folders||[],c=t.items.folders||[],i=Oe(s,c),u=ve({},e.googleState.googleDriveState,{items:{images:a,folders:i},isLoadingItems:!1,nextPageToken:t.nextPageToken}),l=ve({},e.googleState,{googleDriveState:u});return ve({},e,{googleState:l})},be[ge.a.putGoogleDriveIsLoadingItems]=function(e,t){var r=ve({},e.googleState.googleDriveState,{isLoadingItems:t}),n=ve({},e.googleState,{googleDriveState:r});return ve({},e,{googleState:n})},be[ge.a.revokeGooglePermissions]=function(e,t){var r=e.googleState.googleLoginState;if(!r)return e;var n=r.scope.split(" ").filter((function(e){return!~t.indexOf(Object(me.parseGoogleUserScope)(e))})),o=ve({},e.googleState,{googleLoginState:ve({},r,{scope:n.join(" ")})});return ve({},e,{googleState:o})},be[ge.a.putGoogleLoginError]=function(e,t){var r=ve({},e.googleState,{error:t});return ve({},e,{googleState:r})},be),Pe=r("9c772359e08e81b5b3ba"),_e=function(){return(_e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ie=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s},Le=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ie(arguments[t]));return e},Te={isLoadingItems:!1,items:{},loginState:null,userProfile:null};var Ee,Fe=((xe={})[ge.a.putYouTubeLoginStatus]=function(e,t){var r=_e({},e.youTubeState,{loginState:t?Object(Pe.cloneDeep)(t):null});return _e({},e,{youTubeState:r})},xe[ge.a.putYouTubeUserProfile]=function(e,t){var r=_e({},e.youTubeState,{userProfile:t});return _e({},e,{youTubeState:r})},xe[ge.a.putYouTubeGridItems]=function(e,t){var r=t.items,n=t.nextPageToken,o=_e({},e.youTubeState,{items:_e({},r),nextPageToken:n});return _e({},e,{youTubeState:o})},xe[ge.a.addYouTubeGridItems]=function(e,t){var r=t.items,n=t.nextPageToken,o=Le(e.youTubeState.items.images||[]),a=_e({},e.youTubeState,{items:{folders:[],images:Le(o,r.images||[])},nextPageToken:n});return _e({},e,{youTubeState:a})},xe[ge.a.putClearYouTubeItems]=function(e){var t=_e({},e.youTubeState,{items:_e({},Te.items)});return _e({},e,{youTubeState:t})},xe[ge.a.putYouTubeIsLoadingItems]=function(e,t){var r=_e({},e.youTubeState,{isLoadingItems:t});return _e({},e,{youTubeState:r})},xe[ge.a.putYouTubeError]=function(e,t){var r=_e({},e.youTubeState,{error:t});return _e({},e,{youTubeState:r})},xe[ge.a.youTubeLogout]=function(e){var t=_e({},Te);return _e({},e,{youTubeState:t})},xe),De=function(){return(De=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ae={facebookState:_,dropboxState:{dropboxLoginState:null,userProfile:null,isLoadingItems:!1,items:{}},flickrState:G,onedriveState:{onedriveLoginState:null,userProfile:null,isLoadingItems:!1,isAwaitingToken:!1,items:{},error:null},twitterState:Q,pinterestState:re,instagramState:{instagramLoginState:null,userProfile:null,isLoadingItems:!1,items:{},pagination:{}},tumblrState:pe,googleState:je,youTubeState:Te,socialConnectState:null,shareLink:null,sharingInProgress:!1,lastShareSuccessful:!0};var Ce=De({},E,A,B,V,$,oe,ue,he,ke,Fe,((Ee={})[x.a.putSelectedItem]=function(e,t){return De({},e,{currentSelectedItem:t})},Ee[x.a.resetSelectedItem]=function(e){return De({},e,{currentSelectedItem:void 0})},Ee[x.a.setShareLink]=function(e,t){var r=t.shareLink;return De({},e,{shareLink:r})},Ee[x.a.clearShareLink]=function(e){return De({},e,{shareLink:null})},Ee[x.a.putSocialConnectState]=function(e,t){return De({},e,{socialConnectState:t})},Ee[x.a.requestShareViaEmail]=function(e){return De({},e,{sharingInProgress:!0})},Ee[x.a.putSharingInProgress]=function(e,t){var r=t.sharingInProgress,n=t.lastShareSuccessful,o=De({},e,{sharingInProgress:r});return void 0!==n&&(o.lastShareSuccessful=n),o},Ee)),Ue=Object(j.c)(Ce,Ae),Me=Ue,Ge=r("6c68d13fe9e3e77d8fc4"),Re=r("f53a66fb701477ccb562"),qe=r("41f8201590dd2390b72c"),Ne=r("c5e6c6fdb0497a8096d4"),Be=r("6f4df0b22b4a5cf39d64"),Ye=r("25d1abfad430da603016"),ze=r("d5679966856a47bfc517"),He=r("5a20065f1b9c2f2f5fcb"),We=r("6053d81ce31e3ec82d35"),Ve=r("315bcf55de3d58c24395"),Xe=r("ef81ffbf5223d9a052e9"),Je=r("21def8c13693e2976f9a"),Qe=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},Ze=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ke=["public_profile","email"],$e=["public_profile","email","user_photos"],et=null;function tt(){return et||(et=new Promise((function(e,t){window.FB?e(window.FB):(window.fbAsyncInit=function(){window.FB||t(),window.FB.init({appId:Object(We.b)().facebookAppId,xfbml:!0,version:"v5.0"}),e(window.FB)},function(e,t,r){var n=e.getElementsByTagName(t)[0],o=e.getElementsByTagName(t)[0];e.getElementById(r)||((n=e.createElement(t)).id=r,n.src="//connect.facebook.net/en_US/sdk.js",o&&o.parentNode&&o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk"))})))}function rt(e){return new Promise((function(t){e.getLoginStatus((function(e){return t(e)}))}))}function nt(e,t){return new Promise((function(r,n){return e.api("/"+t+"/accounts",(function(e){bt(e,(function(){return r({id:e.id,name:e.name})}),n)}))}))}function ot(e,t){return new Promise((function(r,n){return e.api("/"+t+"/permissions",(function(e){return dt(e,(function(){return r(e.data)}),n)}))}))}function at(e,t){return new Promise((function(r,n){e.api("/"+t+"/picture?redirect=false",(function(e){dt(e,(function(){return r(e.data.url)}),n)}))}))}function st(e,t){return new Promise((function(r,n){var o=t?","+t:"";e.login((function(e){return dt(e,(function(){return r(e)}),n)}),{scope:Ke.join(",").concat(o),return_scopes:!0,auth_type:"rerequest"})}))}function ct(e){return new Promise((function(t,r){e.logout((function(e){return dt(e,(function(){return t(e)}),r)}))}))}function it(e,t){return new Promise((function(r,n){e.api("/"+t+"/albums",{fields:"id, cover_photo, name"},(function(e){return dt(e,(function(){return r(function(e){return e.map((function(e){return ut(e)}))}(e.data))}),n)}))}))}function ut(e){return{id:e.id,name:e.name,thumbnail:e.cover_photo}}function lt(e,t){return new Promise((function(r,n){e.api(""+t,{fields:"id, picture, images"},(function(e){dt(e,(function(){var t=e.images;t&&0!==t.length?r(t[t.length-1].source):n()}),n)}))}))}function ft(e,t){return new Promise((function(r,n){e.api(t+"/photos",{fields:"id, picture, images, name, album"},(function(e){return Qe(this,void 0,void 0,(function(){var o;return Ze(this,(function(a){return o=function(){return r(function(e,t){return e.map((function(e){var r=e.id,n=e.name,o=e.images,a=o[0].source,s=o[o.length-1].source;return{id:r,name:n,parentId:t,photoUrl:a,thumbnail:s}}))}(e.data,t))},dt(e,o,n),[2]}))}))}))}))}function pt(e,t){return new Promise((function(r,n){e.api(""+t,{fields:"id, name"},(function(e){return Qe(this,void 0,void 0,(function(){return Ze(this,(function(t){return dt(e,(function(){return r(ut(e))}),n),[2]}))}))}))}))}function dt(e,t,r){e?bt(e,t,r):r("No response found")}function bt(e,t,r){e.error?r(e.error):t()}function ht(e,t){return new Promise((function(r){FB.ui({method:"share",href:e,display:"popup",quote:t},(function(e){return r(!!e)}))}))}function gt(e,t){return Qe(this,void 0,Promise,(function(){return Ze(this,(function(r){return[2,new Promise((function(r,n){e.api("/"+t+"/adaccounts",{fields:"id, account_id, account_status"},(function(e){dt(e,(function(){return r(e.data.filter((function(e){return 1===e.account_status})))}),n)}))}))]}))}))}function mt(e,t,r,n,o){return Qe(this,void 0,Promise,(function(){var r,a,s;return Ze(this,(function(c){switch(c.label){case 0:return[4,new Response(n).arrayBuffer()];case 1:return r=c.sent(),a=Object(Je.encode)(r).replace(/^data:.+;base64,/,""),s={access_token:t,bytes:a},[2,new Promise((function(t,r){e.api("act_"+o+"/adimages","post",s,(function(e){return dt(e,(function(){return t(!!e)}),r)}))}))]}}))}))}var vt=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},yt=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ot="w256h256";function St(){return r.e(53).then(r.t.bind(null,"d29b5516a5583c1c80c2",7))}function wt(){return vt(this,void 0,Promise,(function(){var e;return yt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,St()];case 1:return[2,t.sent().Dropbox];case 2:return e=t.sent(),console.error("failed to load dropbox api",e),[2,null];case 3:return[2]}}))}))}function jt(e){return new Promise((function(t,r){e.usersGetCurrentAccount().then((function(e){var r={id:e.account_id,name:e.name.display_name,profilePicture:e.profile_photo_url};t(r)})).catch((function(e){r(e)}))}))}function xt(e){return new Promise((function(t,r){e.authTokenRevoke().then((function(e){t(!0)})).catch((function(e){r(e)}))}))}function kt(e,t){return new Promise((function(r,n){var o=t||"";e.filesListFolder({path:o}).then((function(e){r(e)})).catch((function(e){n(e)}))}))}function Pt(e,t){return new Promise((function(r,n){e.filesGetMetadata({path:t}).then((function(e){r(e)})).catch((function(e){n(e)}))}))}function _t(e,t){return new Promise((function(r,n){e.filesGetThumbnail({path:t,size:Ot}).then((function(e){r(e)})).catch((function(e){n(e)}))}))}function It(e,t){var r=t.map((function(e){return{path:e.path,size:Ot}}));return new Promise((function(t,n){e.filesGetThumbnailBatch({entries:r}).then((function(e){var r={};e.entries.forEach((function(e){"success"===e[".tag"]&&(r[e.metadata.id]=e.thumbnail)})),t(r)})).catch((function(e){n(e)}))}))}function Lt(e,t){return new Promise((function(r,n){e.filesDownload({path:t}).then((function(e){r(e)})).catch((function(e){n(e)}))}))}var Tt=r("08647826f572797760f8"),Et=r("3e9c7e5351d86134f5f6"),Ft=r("ddb99f28c93dabb61895"),Dt=function(){return(Dt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},At=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};function Ct(e){return JSON.stringify({source:e,nonce:Object(Et.v4)()})}function Ut(e){var t=e&&Object(Pe.isArray)(e)?e.join("/"):e||"";return window.location.origin+"/home/oauth/"+t}function Mt(e,t,r){void 0===t&&(t=500),void 0===r&&(r=500);var n=window.innerWidth,o="top="+(window.innerHeight/2-r/2)+",left="+(window.screenX+(n/2-t/2))+",width="+t+",height="+r;return window.open(e,"_blank",o)}function Gt(e,t,r){return new Promise((function(n,o){var a=Mt(e,t,r);if(a)var s=window.setInterval((function(){a.closed&&(window.clearInterval(s),n())}),100);else o()}))}function Rt(e,t,r,n,o){void 0===r&&(r=null),void 0===n&&(n={}),void 0===o&&(o={});var a=Object(Ft.b)(e,t,r,Dt({sendCookies:!0},n));return(a=Dt({},a,{headers:Dt({},a.headers,{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":Re.get("csrftoken")||""})})).body=r,Object(ze.h)(new Request(e,a),o)}function qt(e,t,r,n,o){var a,s;void 0===r&&(r=null),void 0===n&&(n={}),void 0===o&&(o={});var c=Object(Ft.b)(e,t,r,Dt({sendCookies:!0},n));(c=Dt({},c,{headers:Dt({},c.headers,{"X-CSRFToken":Re.get("csrftoken")||""})})).body=new FormData;try{for(var i=At(Object.keys(r)),u=i.next();!u.done;u=i.next()){var l=u.value;c.body.append(l,r[l])}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}return Object(ze.h)(new Request(e,c),o)}function Nt(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}var Bt=r("828d848ac9bd54ea594f"),Yt=function(){return(Yt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},zt=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},Ht=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Wt="oauth_flickr",Vt=1005,Xt=908;function Jt(e,t){return zt(this,void 0,Promise,(function(){var r;return Ht(this,(function(n){switch(n.label){case 0:if("https://api.flickr.com/services/rest",!e||!e.connected)throw new Error("Not logged in");return[4,Rt("/_/oauth/flickr/sign_request","POST",Nt({url:"https://api.flickr.com/services/rest",method:"GET",oauth_token:e.oauthToken,oauth_token_secret:e.oauthTokenSecret,json_params:JSON.stringify(t)}))];case 1:if("ok"===(r=n.sent()).type)return[2,Object(Tt.b)(r.data.content)];throw r.error}}))}))}function Qt(e){return zt(this,void 0,Promise,(function(){var t,r;return Ht(this,(function(n){switch(n.label){case 0:return t=Object(Bt.a)(Wt,!0),e?[3,2]:[4,Gt("/_/oauth/flickr/get_request_token",Vt,Xt)];case 1:n.sent(),t=Object(Bt.a)(Wt,!0),n.label=2;case 2:return(r=Object(Tt.b)(t||{})).connected?[4,Zt(r)]:[3,4];case 3:if("ok"===n.sent().stat)return[2,r];n.label=4;case 4:return[2,null]}}))}))}function Zt(e){return zt(this,void 0,Promise,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,Jt(e,{method:"flickr.test.login",format:"json",nojsoncallback:"1"})];case 1:return[2,t.sent()]}}))}))}function Kt(e,t){return zt(this,void 0,Promise,(function(){var r;return Ht(this,(function(n){switch(n.label){case 0:return r=Tt.b,[4,Jt(e,{user_id:t,method:"flickr.people.getInfo",format:"json",nojsoncallback:"1"})];case 1:return[2,r.apply(void 0,[n.sent()]).person]}}))}))}function $t(e,t,r,n){return zt(this,void 0,Promise,(function(){return Ht(this,(function(o){switch(o.label){case 0:return[4,Jt(e,{user_id:e.userNsid,photoset_id:t,method:"flickr.photosets.getPhotos",format:"json",nojsoncallback:"1",page:r,per_page:n})];case 1:return[2,o.sent().photoset]}}))}))}function er(e,t,r){return zt(this,void 0,Promise,(function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,Jt(e,{user_id:e.userNsid,method:"flickr.people.getPhotos",format:"json",nojsoncallback:"1",page:t,per_page:r})];case 1:return[2,n.sent()]}}))}))}function tr(e,t,r){return zt(this,void 0,Promise,(function(){var n;return Ht(this,(function(o){switch(o.label){case 0:return[4,Jt(e,{user_id:e.userNsid,method:"flickr.photosets.getList",primary_photo_extras:"url_m",format:"json",nojsoncallback:"1",page:t,per_page:r})];case 1:return n=o.sent(),[2,{photosets:Yt({},n.photosets,{photoset:n.photosets.photoset.map(Tt.b)})}]}}))}))}var rr,nr,or=r("0cd5ad0bddc612d40cb0"),ar=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},sr=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},cr=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s},ir="v1.0",ur=["user.read","files.read"],lr="/drive/root:";function fr(){return Promise.all([r.e(0),r.e(59)]).then(r.t.bind(null,"c3ea5322e54466c5b8c9",7))}function pr(){return Promise.all([r.e(0),r.e(59)]).then(r.t.bind(null,"5c3bc8aa77cdfc1aeb38",7))}function dr(){return ar(this,void 0,Promise,(function(){var e,t,r,n;return sr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Promise.all([fr(),pr()])];case 1:return e=cr.apply(void 0,[o.sent(),2]),t=e[0],r=e[1],[2,{al:t,graph:r}];case 2:return n=o.sent(),console.error("failed to load MS apis",n),[2,null];case 3:return[2]}}))}))}function br(){return nr||console.error("No MSAL instance available"),nr}function hr(e){return e.replace(/\/drive\/root\:(\/)?/,"")}function gr(e,t,r,n){r&&console.error(r,e)}function mr(e){return nr=new e.UserAgentApplication(Object(We.b)().onedriveAppId,null,gr,{storeAuthStateInCookie:!0,cacheLocation:"localStorage",redirectUri:Ut([or.b,Xe.b.onedrive]),postLogoutRedirectUri:encodeURI(Ut()),loadFrameTimeout:1e4})}function vr(){return ar(this,void 0,Promise,(function(){return sr(this,(function(e){return[2,br().loginPopup(ur)]}))}))}function yr(e,t,r,n){return ar(this,void 0,Promise,(function(){var o,a;return sr(this,(function(s){return o=r?"?"+r:"",a=n||"https://graph.microsoft.com/"+ir+"/"+t+o,[2,new Promise((function(t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState){var e=this.responseText&&JSON.parse(this.responseText);200===this.status?t(e):e.error&&r(e.error)}},n.open("GET",a,!0),n.setRequestHeader("Authorization","Bearer "+e),n.send()}))]}))}))}function Or(){return ar(this,void 0,Promise,(function(){var e;return sr(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,br().acquireTokenSilent(ur)];case 1:return[2,t.sent()];case 2:if(-1!==(e=t.sent()).indexOf("consent_required")||-1!==e.indexOf("interaction_required")||-1!==e.indexOf("login_required"))return[2,Sr()];throw new Error(e);case 3:return[2]}}))}))}function Sr(){return ar(this,void 0,Promise,(function(){return sr(this,(function(e){return[2,br().acquireTokenPopup(ur)]}))}))}!function(e){e.account="me",e.photo="me/photo/$value",e.driveRoot="me/drive/root",e.items="me/drive/items"}(rr||(rr={}));var wr=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},jr=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},xr="oauth_twitter",kr=1005,Pr=908;function _r(e,t,r,n){return wr(this,void 0,Promise,(function(){var o,a;return jr(this,(function(s){switch(s.label){case 0:if(o="https://api.twitter.com/1.1/"+t,!e||!e.connected)throw new Error("Not logged in");return[4,Rt("/_/oauth/twitter/sign_request","POST",Nt({url:o,method:r,oauth_token:e.oauthToken,oauth_token_secret:e.oauthTokenSecret,json_params:JSON.stringify(n)}))];case 1:if("ok"===(a=s.sent()).type)return[2,Object(Tt.b)(a.data.content)];throw a.error}}))}))}function Ir(e){return wr(this,void 0,Promise,(function(){var t,r;return jr(this,(function(n){switch(n.label){case 0:return t=Object(Bt.a)(xr,!0),e?[3,2]:[4,Gt("/_/oauth/twitter/get_request_token",kr,Pr)];case 1:n.sent(),t=Object(Bt.a)(xr,!0),n.label=2;case 2:return(r=Object(Tt.b)(t||{})).connected?[2,r]:[2,null]}}))}))}function Lr(e){return wr(this,void 0,Promise,(function(){var t;return jr(this,(function(r){switch(r.label){case 0:return t=Tt.b,[4,_r(e,"account/verify_credentials.json","GET",{skip_status:!0,include_entities:!1})];case 1:return[2,t.apply(void 0,[r.sent()])]}}))}))}function Tr(e,t){return wr(this,void 0,Promise,(function(){var r;return jr(this,(function(n){switch(n.label){case 0:return r=Tt.b,[4,_r(e,"statuses/update.json","POST",{status:t})];case 1:return[2,r.apply(void 0,[n.sent()])]}}))}))}var Er=r("889528fb5bce1eebc907"),Fr=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},Dr=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ar=[or.b,Xe.b.instagram];function Cr(){return Fr(this,void 0,Promise,(function(){return Dr(this,(function(e){return[2,Mr("")]}))}))}function Ur(e){return Fr(this,void 0,Promise,(function(){return Dr(this,(function(t){return[2,Mr("media/recent",e)]}))}))}function Mr(e,t){return Fr(this,void 0,Promise,(function(){var r,n,o,a,s;return Dr(this,(function(c){switch(c.label){case 0:if(!(r=Object(Bt.a)(Ar))||!r.access_token)throw new Error("Could not get Instagram access token in local storage");return n=t?Object(Er.b)(t,"&"):"",o="https://api.instagram.com/v1/users/self/"+e+"?access_token="+r.access_token+n,a={url:o,method:"GET"},[4,Object(ze.h)(new Request(o,a))];case 1:if("ok"!==(s=c.sent()).type)throw Object(Pe.get)(s,"data.error",s.error);return[2,s.data]}}))}))}var Gr=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},Rr=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},qr="oauth_tumblr",Nr=1005,Br=908;function Yr(e,t,r,n,o,a){return void 0===n&&(n={}),Gr(this,void 0,Promise,(function(){var s,c;return Rr(this,(function(i){switch(i.label){case 0:if(s="https://api.tumblr.com/v2/"+t,!e||!e.connected)throw new Error("Not logged in");return[4,qt("/_/oauth/tumblr/sign_upload","POST",{url:s,method:r,data:a,oauth_token:e.oauthToken,oauth_token_secret:e.oauthTokenSecret,json_params:JSON.stringify(n)},o)];case 1:if("ok"===(c=i.sent()).type)return[2,Object(Tt.b)(c.data.content)];throw c.error}}))}))}function zr(e,t,r,n){return void 0===n&&(n={}),Gr(this,void 0,Promise,(function(){var o,a;return Rr(this,(function(s){switch(s.label){case 0:if(o="https://api.tumblr.com/v2/"+t,!e||!e.connected)throw new Error("Not logged in");return[4,Rt("/_/oauth/tumblr/sign_request","POST",Nt({url:o,method:r,oauth_token:e.oauthToken,oauth_token_secret:e.oauthTokenSecret,json_params:JSON.stringify(n)}))];case 1:if("ok"===(a=s.sent()).type)return[2,Object(Tt.b)(a.data.content)];throw a.error}}))}))}function Hr(e){return Gr(this,void 0,Promise,(function(){var t,r;return Rr(this,(function(n){switch(n.label){case 0:return t=Object(Bt.a)(qr,!0),e?[3,2]:[4,Gt("/_/oauth/tumblr/get_request_token",Nr,Br)];case 1:n.sent(),t=Object(Bt.a)(qr,!0),n.label=2;case 2:return(r=Object(Tt.b)(t||{})).connected?[2,r]:[2,null]}}))}))}function Wr(e){return Gr(this,void 0,Promise,(function(){var t,r,n;return Rr(this,(function(o){switch(o.label){case 0:return r=Tt.b,[4,zr(e,"user/info","GET")];case 1:if(t=r.apply(void 0,[o.sent()]),!(n=t.response.user.blogs.find((function(e){return e.primary}))))throw new Error("No primary block found");return[2,{id:n.uuid,name:t.response.user.name,blogs:t.response.user.blogs.map((function(e){return{name:e.name,title:e.title,isPrimary:e.primary,uuid:e.uuid,isPublic:"public"===e.type}}))}]}}))}))}function Vr(e,t,r,n,o){return Gr(this,void 0,Promise,(function(){var a;return Rr(this,(function(s){switch(s.label){case 0:return a=Tt.b,[4,Yr(e,"blog/"+o+".tumblr.com/post","POST",{type:"photo",link:n,caption:t},{fileField:"data",width:1024,height:1024,outFormat:"jpg"},r)];case 1:return[2,a.apply(void 0,[s.sent()])]}}))}))}var Xr=function(){return(Xr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Jr=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},Qr=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Zr=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s};function Kr(e){return Jr(this,void 0,Promise,(function(){var t,r;return Qr(this,(function(n){switch(n.label){case 0:return[4,Object(me.ensureGoogleAPI)()];case 1:if(t=Zr.apply(void 0,[n.sent(),2]),!(r=t[1]))throw new Error("GoogleLegacyOAuth is not defined");return[2,new Promise((function(t,n){r.authorize({scope:e.map((function(e){return Object(me.formatGoogleUserScope)(e)})).join(" "),client_id:Object(We.b)().googleOauthClientId},(function(e){e.error?n(e):t(Xr({},e,{expires_at:Number.parseInt(e.expires_at,10),scope:e.scope}))}))}))]}}))}))}var $r=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},en=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},tn=["public_profile","email"];function rn(){var e=this;return new Promise((function(t,r){var n=document.createElement("script");n.type="text/javascript",n.src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",n.onload=function(){return $r(e,void 0,void 0,(function(){return en(this,(function(e){return window.AppleID.auth.init({clientId:"com.picmonkey.signinservice",scope:"name email",redirectURI:window.location.origin+"/home/login",usePopup:!0}),t(window.AppleID),[2]}))}))},n.onerror=function(){return r(Error("Script load error"))},document.body.appendChild(n)}))}function nn(e){return $r(this,void 0,Promise,(function(){return en(this,(function(t){switch(t.label){case 0:return[4,e.auth.signIn()];case 1:return[2,t.sent()]}}))}))}var on=r("329548616c61e7ad62d5"),an=r("57d93fe74d55ede83892"),sn=r("9e3ce555733edf200606"),cn=r("809a49affbb40338bb3d");function un(e){switch(e){case Xe.b.facebook:return Object(cn.b)("Facebook");case Xe.b.dropbox:return Object(cn.b)("Dropbox");case Xe.b.onedrive:return Object(cn.b)("OneDrive");case Xe.b.flickr:return Object(cn.b)("Flickr");case Xe.b.pinterest:return Object(cn.b)("Pinterest");case Xe.b.instagram:return Object(cn.b)("Instagram");case Xe.b.apple:return Object(cn.b)("Apple");case Xe.b.unsplash:case Xe.b.getty:return Object(cn.b)("Stock Photos");case Xe.b.pixabay:case Xe.b.pexels:return Object(cn.b)("Stock Videos");case Xe.b.googlePhotos:return Object(cn.b)("Google Photos");case Xe.b.googleDrive:return Object(cn.b)("Google Drive");case Xe.b.youTubeVideos:case Xe.b.youTubeChannels:return Object(cn.b)("YouTube")}}Object(cn.b)("Dropbox"),Object(cn.b)("Facebook"),Object(cn.b)("OneDrive"),Object(cn.b)("Flickr"),Object(cn.b)("Pinterest"),Object(cn.b)("Instagram"),Object(cn.b)("Google Photos"),Object(cn.b)("Google Drive");function ln(e){var t="",r=!0;return e&&e.path?("/"+e.path).split("/").map((function(e){return e&&(t+=r?""+e:"/"+e,r=!1),{name:e,id:t}})):void 0}function fn(e){return e.externalSources.dropboxState}function pn(e){var t=fn(e);return t.dropboxLoginState&&t.dropboxLoginState.authResponse}function dn(e){return fn(e).items}function bn(e){var t=fn(e);if(t.dropboxLoginState&&t.isLoadingItems)return Xe.a.loading;if(t.dropboxLoginState){var r=t.items,n=r.folders,o=void 0===n?[]:n,a=r.images,s=void 0===a?[]:a;return t.items&&(o.length||s.length)?Xe.a.filled:Xe.a.empty}return t.dropboxLoginState?Xe.a.empty:Xe.a.loggedOut}function hn(e){return fn(e).userProfile}var gn=r("0f644780fd9187d136a1"),mn=r("39360db598dcd891ae55");function vn(e){return e.externalSources.facebookState}function yn(e){var t=new Date("2019-02-26T22:00:00.142Z"),r=gn.Gb(e).dateJoined,n=!r||new Date(r).getTime()<t.getTime(),o=Object(mn.b)(t,new Date)<90;return n&&o}function On(e){return vn(e).error}function Sn(e){var t=vn(e);return t.facebookLoginState&&k.a.connected!==t.facebookLoginState.status?Xe.a.loggedOut:t.facebookLoginState&&!t.isLoadingItems&&t.permissions.length?Pn(e,Ke)?0===Object(Pe.keys)(t.items).length?Xe.a.empty:Xe.a.filled:Xe.a.loggedOut:Xe.a.loading}function wn(e){return vn(e).facebookUserProfile}function jn(e){var t=vn(e).facebookLoginState;return t&&t.authResponse?t.authResponse.accessToken:null}function xn(e){var t=vn(e).facebookLoginState;return t&&t.authResponse?t.authResponse.userID:null}function kn(e){return vn(e).permissions}function Pn(e,t){var r=kn(e),n=[];return r.forEach((function(e){var t=e.permission;"granted"===e.status&&n.push(t)})),t.length===Object(Pe.intersection)(n,t).length}function _n(e){return e.externalSources.socialConnectState}function In(e){return e.externalSources.onedriveState}function Ln(e){var t=In(e);return t.onedriveLoginState&&t.onedriveLoginState.authResponse}function Tn(e){return In(e).userProfile}function En(e){var t=In(e);if(t.onedriveLoginState&&t.isLoadingItems)return Xe.a.loading;if(t.onedriveLoginState){var r=t.items,n=r.folders,o=void 0===n?[]:n,a=r.images,s=void 0===a?[]:a;return t.items&&(o.length||s.length)?Xe.a.filled:Xe.a.empty}return t.onedriveLoginState?Xe.a.empty:Xe.a.loggedOut}function Fn(e){return e.externalSources.flickrState}function Dn(e){var t=Fn(e);if(t.isLoadingItems||!t.flickrLoginState||t.flickrLoginState.connected&&!t.flickrUserProfile)return Xe.a.loading;if(!t.flickrLoginState||!t.flickrLoginState.connected||!t.flickrUserProfile)return Xe.a.loggedOut;var r=t.items.images&&t.items.images.length>0,n=t.items.folders&&t.items.folders.length>0;return r||n?Xe.a.filled:Xe.a.empty}function An(e){var t=Fn(e);return t.flickrUserProfile?t.flickrUserProfile:null}function Cn(e){return Fn(e).pagination.photos}function Un(e){return Fn(e).pagination.albums}function Mn(e){var t=Cn(e);return t.page<t.pages}function Gn(e){var t=Un(e);return t.page<t.pages}function Rn(e){return Fn(e).items.images||[]}function qn(e){return Fn(e).items.folders||[]}function Nn(e){return e.externalSources.twitterState}function Bn(e){return Nn(e).error}function Yn(e){return Nn(e).twitterUserProfile}function zn(e){return Nn(e).twitterShareReponse}function Hn(e){return e.externalSources.pinterestState}function Wn(e){return Hn(e).pinterestLoginState}function Vn(e){return Hn(e).popupWindowDisplayed}function Xn(e){return Xe.a.empty}function Jn(e){return e.externalSources.instagramState}function Qn(e){return e.externalSources.tumblrState}function Zn(e){return Qn(e).error}function Kn(e){return Qn(e).tumblrUserProfile}function $n(e){return Qn(e).tumblrShareReponse}function eo(e){return e.externalSources.googleState}function to(e){return eo(e).googlePhotosState}function ro(e){return eo(e).googleDriveState}function no(e){var t=eo(e);if(t.googleLoginState&&!t.googleLoginState.isLoggedIn)return Xe.a.loggedOut;if(t.googleLoginState&&!so(e,me.requiredScopesForPhotos))return Xe.a.noPermission;if(!t.googleLoginState||t.googlePhotosState.isLoadingItems)return Xe.a.loading;var r=t.googlePhotosState.items,n=r.folders,o=void 0===n?[]:n,a=r.images,s=void 0===a?[]:a;return o.length||s.length?Xe.a.filled:Xe.a.empty}function oo(e){var t=eo(e);if(t.googleLoginState&&!t.googleLoginState.isLoggedIn)return Xe.a.loggedOut;if(t.googleLoginState&&!so(e,me.requiredScopesForDrive))return Xe.a.noPermission;if(!t.googleLoginState||t.googleDriveState.isLoadingItems)return Xe.a.loading;var r=t.googleDriveState.items,n=r.folders,o=void 0===n?[]:n,a=r.images,s=void 0===a?[]:a;return o.length||s.length?Xe.a.filled:Xe.a.empty}function ao(e){return eo(e).userProfile}function so(e,t){var r=uo(e);return t.length===Object(Pe.intersection)(r,t).length}function co(e){return so(e,me.requiredScopesForShareToDrive)}function io(e){return so(e,me.requiredScopesForPhotos)}function uo(e){var t=fo(e);return t&&t.scope?t.scope.split(" ").map((function(e){return Object(me.parseGoogleUserScope)(e)})):[]}function lo(e){return e.externalSources.socialConnectState}function fo(e){return eo(e).googleLoginState}function po(e){return e.externalSources.youTubeState}function bo(e){var t=po(e);if(t.loginState&&!t.loginState.isLoggedIn)return Xe.a.loggedOut;if(t.loginState&&!mo(e,me.requiredScopesForYouTube))return Xe.a.noPermission;if(!t.loginState||t.isLoadingItems)return Xe.a.loading;var r=t.items,n=r.folders,o=void 0===n?[]:n,a=r.images,s=void 0===a?[]:a;return o.length||s.length?Xe.a.filled:Xe.a.empty}function ho(e){return po(e).error}function go(e){return po(e).userProfile}function mo(e,t){var r=vo(e);return t.length===Object(Pe.intersection)(r,t).length}function vo(e){var t=po(e).loginState;return t&&t.scope?t.scope.split(" ").map((function(e){return Object(me.parseGoogleUserScope)(e)})):[]}var yo=function(){return(yo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Oo(e,t){switch(t){case Xe.b.facebook:return Sn(e);case Xe.b.dropbox:return bn(e);case Xe.b.flickr:return Dn(e);case Xe.b.onedrive:return En(e);case Xe.b.pinterest:return Xn();case Xe.b.instagram:return function(e){var t=Jn(e);if(t.instagramLoginState&&t.isLoadingItems)return Xe.a.loading;if(t.instagramLoginState){var r=t.items,n=r.folders,o=void 0===n?[]:n,a=r.images,s=void 0===a?[]:a;return t.items&&(o.length||s.length)?Xe.a.filled:Xe.a.empty}return t.instagramLoginState?Xe.a.empty:Xe.a.loggedOut}(e);case Xe.b.googlePhotos:return no(e);case Xe.b.googleDrive:return oo(e);case Xe.b.youTubeVideos:case Xe.b.youTubeChannels:return bo(e);default:return Xe.a.loggedOut}}function So(e){return e.externalSources.currentSelectedItem}function wo(e){return e.externalSources.shareLink}var jo,xo=yo({},d,g,h,b,m,v,y,O,S,{getGridStatus:Oo,getCurrentSelectedItem:So,getShareLink:wo,getIsSharingInProgress:function(e){return e.externalSources.sharingInProgress},getLastShareSuccessful:function(e){return e.externalSources.lastShareSuccessful}}),ko=r("d6078e767c3002f7dde7"),Po=function(){return(Po=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_o=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Io=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s},Lo=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Io(arguments[t]));return e},To=500,Eo=25;function Fo(){var e,t,r,n;return _o(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,4]),[4,Object(Ge.c)(o.ensureDropboxAPI)];case 1:if(!(e=a.sent()))throw new Error("failed to load dropbox api");if(!(t=Object(ko.a)(pn)))throw new Error("No Dropbox credentials found");return r={accessToken:t.accessToken,fetch:fetch},[2,new e(r)];case 2:return n=a.sent(),[4,Object(Ge.g)(on.a.putDropboxError(n))];case 3:return a.sent(),[3,4];case 4:return[2]}}))}function Do(e,t){var r,n,a,s;return _o(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,6]),(r=Object(ko.a)(dn))?(n=r.folders,(a=r.images)?jo?[4,Object(Ge.d)(jo)]:[3,2]:[2,null]):[2,null];case 1:c.sent(),c.label=2;case 2:return[4,Object(Ge.f)((function(){var r,s,c,i;return _o(this,(function(u){switch(u.label){case 0:r=[],s=Lo(a),c=function(c){var i,u,l,f,p,d;return _o(this,(function(b){switch(b.label){case 0:return i=a[c-1],u=i.id,l=i.path,f=void 0===l?"":l,r.push({id:u,path:f}),c%Eo!=0&&c!==a.length?[3,4]:[4,Object(Ge.c)(o.filesGetThumbnailBatch,e,r)];case 1:return p=b.sent(),s=s.map((function(e){return p[e.id]?Po({},e,{b64Thumbnail:p[e.id]}):e})),(d=Object(ko.a)(So))&&d.id===t||!d&&!t?[4,Object(Ge.g)(on.a.putDropboxItems({folders:n,images:s}))]:[3,3];case 2:b.sent(),b.label=3;case 3:if(r=[],c>=To)return[2,"break"];b.label=4;case 4:return[2]}}))},i=1,u.label=1;case 1:return i<a.length+1?[5,c(i)]:[3,4];case 2:if("break"===u.sent())return[3,4];u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))];case 3:return jo=c.sent(),[3,6];case 4:return s=c.sent(),[4,Object(Ge.g)(on.a.putDropboxError(s))];case 5:return c.sent(),[3,6];case 6:return[2]}}))}function Ao(e){var t,r,n,a,s;return _o(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,6]),[4,Object(Ge.c)(Fo)];case 1:return t=c.sent(),[4,Object(Ge.g)(on.a.putDropboxIsLoadingItems(!0))];case 2:return c.sent(),[4,Object(Ge.c)(o.filesDownload,t,e)];case 3:return r=c.sent(),n=r.fileBlob,a=r.name,[2,{fileBlob:n,name:a}];case 4:return s=c.sent(),[4,Object(Ge.g)(on.a.putDropboxError(s))];case 5:return c.sent(),[3,6];case 6:return[2]}}))}var Co=r("ec8a14b334ea86047dd3"),Uo=r("09bf4ee68fa3c88cf6b2"),Mo=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Go="https://www.dropbox.com/logout",Ro={width:500,height:690},qo=[or.b,Xe.b.dropbox];function No(e){var t,r,n;return Mo(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,4]),[4,Object(Ge.c)(o.ensureDropboxAPI)];case 1:if(!(t=a.sent()))throw new Error("failed to load dropbox api");return r=new t({clientId:Object(We.b)().dropboxAppId}),Mt(r.getAuthenticationUrl(Ut(qo),e),Ro.width,Ro.height),[3,4];case 2:return n=a.sent(),[4,Object(Ge.g)(on.a.putDropboxError(n))];case 3:return a.sent(),[3,4];case 4:return[2]}}))}function Bo(){var e,t;return Mo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,8,,10]),[4,Object(Ge.c)(Fo)];case 1:return e=r.sent(),[4,Object(Ge.c)(o.authTokenRevoke,e)];case 2:return r.sent()?(Object(Bt.b)(qo),[4,Object(Ge.g)(on.a.putDropboxLoginStatus(!1))]):[3,6];case 3:return r.sent(),[4,Object(Ge.g)(on.a.putDropboxClearItems())];case 4:return r.sent(),[4,Object(Ge.g)(on.a.putDropboxUserProfile(null))];case 5:return r.sent(),Mt(Go),[3,7];case 6:console.error("dropbox log out failed"),r.label=7;case 7:return[3,10];case 8:return t=r.sent(),[4,Object(Ge.g)(on.a.putDropboxError(t))];case 9:return r.sent(),[3,10];case 10:return[2]}}))}function Yo(){var e,t,r;return Mo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,6]),[4,Object(Ge.c)(Fo)];case 1:return e=n.sent(),[4,Object(Ge.c)(o.usersGetCurrentAccount,e)];case 2:return t=n.sent(),[4,Object(Ge.g)(on.a.putDropboxUserProfile(t))];case 3:return n.sent(),[3,6];case 4:return r=n.sent(),[4,Object(Ge.g)(on.a.putDropboxError(r))];case 5:return n.sent(),[3,6];case 6:return[2]}}))}function zo(e){var t,r,n,a,s,c,i;return Mo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,13,,15]),[4,Object(Ge.c)(Fo)];case 1:return t=u.sent(),r=e?"/"+e:"",[4,Object(Ge.g)(on.a.putDropboxIsLoadingItems(!0))];case 2:return u.sent(),[4,Object(Ge.g)(on.a.putDropboxClearItems())];case 3:return u.sent(),e?[4,Object(Ge.c)(o.filesGetMetadata,t,r)]:[3,6];case 4:return n=u.sent(),a={id:e,path:e,name:n.name},[4,Object(Ge.g)(on.a.putSelectedItem(a))];case 5:return u.sent(),[3,8];case 6:return[4,Object(Ge.g)(on.a.resetSelectedItem())];case 7:u.sent(),u.label=8;case 8:return[4,Object(Ge.c)(o.filesListFolder,t,r)];case 9:return s=u.sent().entries,c=s.reduce((function(e,t){var r=t.id,n=t.name,o=t.path_lower;if("folder"===t[".tag"]){var a=o.replace(/^\//,"");e.folders.push({id:a,name:n,path:a})}else"file"===t[".tag"]&&function(e){return/\.(jpg|jpeg|png|gif|tiff)$/i.test(e)}(n)&&e.images.push({id:r,name:n,path:o});return e}),{folders:[],images:[]}),[4,Object(Ge.g)(on.a.putDropboxItems(c))];case 10:return u.sent(),[4,Object(Ge.c)(Do,t,e)];case 11:return u.sent(),[4,Object(Ge.g)(on.a.putDropboxIsLoadingItems(!1))];case 12:return u.sent(),[3,15];case 13:return i=u.sent(),[4,Object(Ge.g)(on.a.putDropboxError(i))];case 14:return u.sent(),[3,15];case 15:return[2]}}))}function Ho(e,t,r,n,o){var a,s,c,i,u,l,f,p;return Mo(this,(function(d){switch(d.label){case 0:return d.trys.push([0,7,,9]),[4,Object(Ge.c)(Ao,e,t)];case 1:return a=d.sent().fileBlob,s=new File([a],n,{type:Uo.lookup(e)||"image/jpeg"}),c=window.URL.createObjectURL(s),i=encodeURIComponent(c),u=encodeURIComponent(n),[4,Object(Ge.g)(an.b.preview.clearInfo())];case 2:return d.sent(),l=Object(sn.f)("/editor/open-from-external/"+t),f=l+"?"+("docUrl="+i+"&name="+u+"&collection="+r),[4,Object(Ge.g)(on.a.putDropboxIsLoadingItems(!1))];case 3:return d.sent(),o?(o({file:s,type:Co.c.file}),[3,6]):[3,4];case 4:return[4,Object(Ge.g)(an.b.router.push(f))];case 5:d.sent(),d.label=6;case 6:return[3,9];case 7:return p=d.sent(),[4,Object(Ge.g)(on.a.putDropboxError(p))];case 8:return d.sent(),[3,9];case 9:return[2]}}))}function Wo(e){var t;return Mo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(No,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putDropboxError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}function Vo(e){var t;return Mo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(Yo,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putDropboxError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}function Xo(e){var t;return Mo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(zo,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putDropboxError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}var Jo=r("74431d47afb6248fcb69"),Qo=r("dc8a8022fbc5f3c4f01e"),Zo=r("85e281be1522cd380a32"),Ko=r("0a8747146909dc2c1339"),$o=r("a138eaff62fd1bd67ac1"),ea=r("5f5aaae640598a8bb23e"),ta=r("f6005b7210567e2fa27e"),ra=r("acd8f50458e6204843a8"),na=r("e7954d8112f909bbe799"),oa=function(){return(oa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},aa=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},sa=190,ca=463;function ia(e){return null===e.authResponse}function ua(e){var t,r,o,a;return aa(this,(function(s){switch(s.label){case 0:return s.trys.push([0,6,,8]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return t=s.sent(),r=e.payload.extraPermission,[4,Object(Ge.c)(n.showLoginDialog,t,r)];case 2:return ia(o=s.sent())?[2]:r!==na.b.join(",")?[3,4]:[4,Object(Ge.c)(ka)];case 3:s.sent(),s.label=4;case 4:return[4,Object(Ge.c)(ma,t,o)];case 5:return s.sent(),[3,8];case 6:return a=s.sent(),[4,Object(Ge.g)(on.a.putFacebookError(a))];case 7:return s.sent(),[3,8];case 8:return[2]}}))}function la(e){var t,r,o,a,s,c;return aa(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,10]),t=e.payload.emailOptIn,[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return r=i.sent(),[4,Object(Ge.c)(n.showLoginDialog,r)];case 2:return ia(o=i.sent())?[2]:(a=o.authResponse.userID,[4,Object(Ge.c)(n.fetchFBUserPermissions,r,a)]);case 3:return s=i.sent(),(c=Object(Pe.find)(s,(function(e){return"email"===e.permission})))&&c.status===k.b.declined?[4,Object(Ge.g)(an.b.user.setSocialError(ea.f.facebook,ea.g.missingArgs,c.permission))]:[3,5];case 4:return i.sent(),[2];case 5:return[4,Object(Ge.c)($o.j,o.authResponse.accessToken,ea.f.facebook,t)];case 6:return i.sent(),[4,Object(Ge.c)(ma,r,o)];case 7:return i.sent(),Object(ko.a)(gn.m)&&Object(ta.e)(ra.u.mobileWeb,ra.z.register,ra.A.facebook),[3,10];case 8:return i.sent(),[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 9:return i.sent(),[3,10];case 10:return[2]}}))}function fa(){var e,t;return aa(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,7]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return e=r.sent(),[4,Object(Ge.c)(n.showLoginDialog,e)];case 2:return ia(t=r.sent())?[2]:[4,Object(Ge.c)($o.h,t.authResponse.accessToken,ea.f.facebook)];case 3:return r.sent(),[4,Object(Ge.c)(ma,e,t)];case 4:return r.sent(),[3,7];case 5:return r.sent(),[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 6:return r.sent(),[3,7];case 7:return[2]}}))}function pa(){var e,t,r,o,a,s;return aa(this,(function(c){switch(c.label){case 0:return c.trys.push([0,10,,16]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return e=c.sent(),[4,Object(Ge.c)(n.showLoginDialog,e)];case 2:return t=c.sent(),[4,Object(Ge.c)($o.i,t.authResponse.accessToken,ea.f.facebook)];case 3:return r=c.sent(),o=r.data.code,a=null,Object(Pe.includes)(Object(Pe.values)(ea.g),o)?(a={errorCode:o,errorMessage:r.data.detail,provider:ea.f.facebook},o!==ea.g.alreadyAssociated?[3,5]:[4,Object(Ge.g)(Zo.c.trackEvent(Zo.a.errorAccountExists))]):[3,6];case 4:c.sent(),c.label=5;case 5:return[3,8];case 6:return[4,Object(Ge.g)(an.b.user.updateDetails(Object($o.k)(r.data.user)))];case 7:c.sent(),a={errorCode:null,errorMessage:"",provider:ea.f.facebook},c.label=8;case 8:return[4,Object(Ge.g)(on.a.putSocialConnectState(a))];case 9:return c.sent(),[3,16];case 10:return void 0!==(s=c.sent()).authResponse?[3,12]:[4,Object(Ge.g)(on.a.putSocialConnectState({errorCode:ea.g.canceled,errorMessage:"",provider:ea.f.facebook}))];case 11:return c.sent(),[3,15];case 12:return[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 13:return c.sent(),[4,Object(Ge.g)(on.a.putFacebookError(s))];case 14:c.sent(),c.label=15;case 15:return[3,16];case 16:return[2]}}))}function da(){var e,t,r;return aa(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,6]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return e=o.sent(),[4,Object(Ge.c)(n.logout,e)];case 2:return t=o.sent(),[4,Object(Ge.g)(on.a.putFacebookStatusLoggedOut(t))];case 3:return o.sent(),[3,6];case 4:return r=o.sent(),[4,Object(Ge.g)(on.a.putFacebookError(r))];case 5:return o.sent(),[3,6];case 6:return[2]}}))}function ba(e){var t,r,o,a,s,c,i,u,l=e.payload.forAdsManager;return aa(this,(function(e){switch(e.label){case 0:return e.trys.push([0,18,,20]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return t=e.sent(),[4,Object(Ge.c)(n.fetchFBLoginStatus,t)];case 2:return(r=e.sent()).status!==k.a.connected?[3,16]:[4,Object(Ge.c)(ga,t)];case 3:if(o=e.sent(),a=o.error,s=o.profile,!a)return[3,10];switch(r.status=k.a.not_authorized,a.code){case sa:return[3,4];case ca:return[3,6]}return[3,8];case 4:return[4,Object(Ge.g)(on.a.putFacebookStatusLoggedOut(r))];case 5:return e.sent(),[3,8];case 6:return[4,Object(Ge.c)(da)];case 7:return e.sent(),[3,8];case 8:return[4,Object(Ge.g)(on.a.putFacebookError(a))];case 9:e.sent(),e.label=10;case 10:return s?[4,Object(Ge.c)(ha)]:[3,14];case 11:return c=e.sent(),[4,Object(Ge.c)(n.fetchFBUserProfilePicture,t,c)];case 12:return i=e.sent(),[4,Object(Ge.g)(on.a.putFacebookUserProfile(oa({},s,{profilePicture:i})))];case 13:e.sent(),e.label=14;case 14:return l?[4,Object(Ge.c)(ka)]:[3,16];case 15:e.sent(),e.label=16;case 16:return[4,Object(Ge.g)(on.a.putFacebookLoginStatus(r))];case 17:return e.sent(),[2,r];case 18:return u=e.sent(),[4,Object(Ge.g)(on.a.putFacebookError(u))];case 19:return e.sent(),[3,20];case 20:return[2]}}))}function ha(){var e;return aa(this,(function(t){if(!(e=Object(ko.a)(xn)))throw Error("Cannot find Facebook UserID");return[2,e]}))}function ga(e){var t;return aa(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Object(Ge.c)(ha)];case 1:return t=r.sent(),[4,Object(Ge.c)(n.fetchFBUserProfile,e,t)];case 2:return[2,{profile:r.sent()}];case 3:return[2,{error:r.sent()}];case 4:return[2]}}))}function ma(e,t){var r,o,a;return aa(this,(function(s){switch(s.label){case 0:return[4,Object(Ge.g)(on.a.putFacebookLoginStatus(t))];case 1:return s.sent(),t.status!==k.a.connected?[3,5]:(r=t.authResponse.userID,[4,Object(Ge.c)(n.fetchFBUserProfile,e,r)]);case 2:return o=s.sent(),[4,Object(Ge.c)(n.fetchFBUserProfilePicture,e,r)];case 3:return a=s.sent(),[4,Object(Ge.g)(on.a.putFacebookUserProfile(oa({},o,{profilePicture:a})))];case 4:s.sent(),s.label=5;case 5:return[2]}}))}function va(e){var t,r=e.doFetch;return aa(this,(function(e){switch(e.label){case 0:return e.trys.push([0,6,,8]),[4,Object(Ge.c)(ba,on.a.fetchFacebookStatus())];case 1:return e.sent().status===k.a.connected?[3,3]:[4,Object(Ge.k)(ge.a.putFacebookStatusLoggedIn,r)];case 2:return e.sent(),[3,5];case 3:return[4,Object(Ge.c)(r)];case 4:e.sent(),e.label=5;case 5:return[3,8];case 6:return t=e.sent(),[4,Object(Ge.g)(on.a.putFacebookError(t))];case 7:return e.sent(),[3,8];case 8:return[2]}}))}function ya(e){var t,r;return aa(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return t=o.sent(),[4,Object(Ge.c)(n.getAlbumCoverPhoto,t,e)];case 2:return[2,o.sent()];case 3:return r=o.sent(),[4,Object(Ge.g)(on.a.putFacebookError(r))];case 4:return o.sent(),[3,5];case 5:return[2]}}))}function Oa(e){var t,r;return aa(this,(function(o){switch(o.label){case 0:if(t=e.payload,!(r=Object(ko.a)(wo)))throw new Error("No share link found for Facebook share");return[4,Object(Ge.c)(n.shareLinkToFacebook,r.permalink,t)];case 1:return[2,o.sent()]}}))}function Sa(e){var t,r,o=e.payload,a=o.caption,s=o.blob,c=o.accountId;return aa(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return t=e.sent(),r=Object(ko.a)(jn),[4,Object(Ge.c)(n.createImageInFacebookAdsManager,t,r,a,s,c)];case 2:return[2,e.sent()]}}))}function wa(e,t){var r,n;return aa(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,8]),[4,Object(Ge.c)(t,e)];case 1:return r=o.sent(),[4,Object(Ge.g)(on.a.putSharingInProgress(!0))];case 2:return o.sent(),[4,Object(Jo.c)(100)];case 3:return o.sent(),[4,Object(Ge.g)(on.a.putSharingInProgress(!1,r))];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),Qo.c(n),[4,Object(Ge.g)(on.a.putFacebookError(n))];case 6:return o.sent(),[4,Object(Ge.g)(on.a.putSharingInProgress(!1,!1))];case 7:return o.sent(),[3,8];case 8:return[2]}}))}function ja(e){return aa(this,(function(t){switch(t.label){case 0:return[4,Object(Ge.c)(wa,e,Oa)];case 1:return t.sent(),[2]}}))}function xa(e){return aa(this,(function(t){switch(t.label){case 0:return[4,Object(Ge.c)(wa,e,Sa)];case 1:return t.sent(),[2]}}))}function ka(){return aa(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.c)(va,{doFetch:function(){return function(){var e,t,r,o;return aa(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,7]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return e=a.sent(),[4,Object(Ge.c)(ha)];case 2:return t=a.sent(),[4,Object(Ge.c)(n.getFacebookAdsManagerAccounts,e,t)];case 3:return r=a.sent(),[4,Object(Ge.g)(on.a.putFacebookAdAccounts(r))];case 4:return a.sent(),[3,7];case 5:return o=a.sent(),Qo.c(o),[4,Object(Ge.g)(on.a.putFacebookError(o))];case 6:return a.sent(),[3,7];case 7:return[2]}}))}()}})];case 1:return e.sent(),[2]}}))}function Pa(){return aa(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.c)(va,{doFetch:function(){return function(){var e,t,r,o,a,s,c,i,u;return aa(this,(function(l){switch(l.label){case 0:return l.trys.push([0,11,,13]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return e=l.sent(),[4,Object(Ge.c)(ha)];case 2:return t=l.sent(),[4,Object(Ge.c)(n.getAlbums,e,t)];case 3:r=l.sent(),o=[],a=0,l.label=4;case 4:return a<r.length?(s=r[a].thumbnail)?[4,Object(Ge.c)(ya,s.id)]:[3,6]:[3,9];case 5:return i=l.sent(),[3,7];case 6:i=null,l.label=7;case 7:c=i,o.push(oa({},r[a],{thumbnail:c})),l.label=8;case 8:return a++,[3,4];case 9:return[4,Object(Ge.g)(on.a.putFacebookItems({folders:o}))];case 10:return l.sent(),[3,13];case 11:return u=l.sent(),[4,Object(Ge.g)(on.a.putFacebookError(u))];case 12:return l.sent(),[3,13];case 13:return[2]}}))}()}})];case 1:return e.sent(),[2]}}))}function _a(e){return aa(this,(function(t){switch(t.label){case 0:return[4,Object(Ge.c)(va,{doFetch:function(){return function(e){var t,r,o,a;return aa(this,(function(s){switch(s.label){case 0:return s.trys.push([0,6,,8]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return t=s.sent(),[4,Object(Ge.c)(n.getAlbumDetails,t,e)];case 2:return r=s.sent(),[4,Object(Ge.g)(on.a.putSelectedItem(r))];case 3:return s.sent(),[4,Object(Ge.c)(n.getAlbumPhotos,t,e)];case 4:return o=s.sent(),[4,Object(Ge.g)(on.a.putFacebookItems({images:o}))];case 5:return s.sent(),[3,8];case 6:return a=s.sent(),[4,Object(Ge.g)(on.a.putFacebookError(a))];case 7:return s.sent(),[3,8];case 8:return[2]}}))}(e.payload)}})];case 1:return t.sent(),[2]}}))}function Ia(e){return aa(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.c)(va,{doFetch:function(){return function(){var e,t,r,o;return aa(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,7]),[4,Object(Ge.c)(n.ensureFBAPI)];case 1:return e=a.sent(),[4,Object(Ge.c)(ha)];case 2:return t=a.sent(),[4,Object(Ge.c)(n.fetchFBUserPermissions,e,t)];case 3:return r=a.sent(),[4,Object(Ge.g)(on.a.putFacebookPermissions(r))];case 4:return a.sent(),[3,7];case 5:return o=a.sent(),[4,Object(Ge.g)(on.a.putFacebookError(o))];case 6:return a.sent(),[3,7];case 7:return[2]}}))}()}})];case 1:return e.sent(),[2]}}))}var La=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Ta(){var e,t;return La(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,6]),[4,Object(Ge.c)(f.ensureAppleAPI)];case 1:return e=r.sent(),[4,Object(Ge.c)(f.signIn,e)];case 2:return(t=r.sent())?[4,Object(Ge.c)($o.h,t.authorization.id_token,ea.f.apple)]:[2];case 3:return r.sent(),[3,6];case 4:return r.sent(),[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 5:return r.sent(),[3,6];case 6:return[2]}}))}function Ea(){var e,t,r,n,o,a;return La(this,(function(s){switch(s.label){case 0:return s.trys.push([0,10,,16]),[4,Object(Ge.c)(f.ensureAppleAPI)];case 1:return e=s.sent(),[4,Object(Ge.c)(f.signIn,e)];case 2:return t=s.sent(),[4,Object(Ge.c)($o.i,t.authorization.id_token,ea.f.apple)];case 3:return r=s.sent(),n=r.data.code,o=null,Object(Pe.includes)(Object(Pe.values)(ea.g),n)?(o={errorCode:n,errorMessage:r.data.detail,provider:ea.f.apple},n!==ea.g.alreadyAssociated?[3,5]:[4,Object(Ge.g)(Zo.c.trackEvent(Zo.a.errorAccountExists))]):[3,6];case 4:s.sent(),s.label=5;case 5:return[3,8];case 6:return[4,Object(Ge.g)(an.b.user.updateDetails(Object($o.k)(r.data.user)))];case 7:s.sent(),o={errorCode:null,errorMessage:"",provider:ea.f.apple},s.label=8;case 8:return[4,Object(Ge.g)(on.a.putSocialConnectState(o))];case 9:return s.sent(),[3,16];case 10:return void 0!==(a=s.sent()).authResponse?[3,12]:[4,Object(Ge.g)(on.a.putSocialConnectState({errorCode:ea.g.canceled,errorMessage:"",provider:ea.f.apple}))];case 11:return s.sent(),[3,15];case 12:return[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 13:return s.sent(),[4,Object(Ge.g)(on.a.putFacebookError(a))];case 14:s.sent(),s.label=15;case 15:return[3,16];case 16:return[2]}}))}var Fa=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Da=[or.b,Xe.b.onedrive];function Aa(e,t){return e.reduce((function(e,r){var n=r.thumbnails&&r.thumbnails.length&&r.thumbnails[0].medium.url;return r.folder?e.folders.push({id:r.id,name:r.name,thumbnail:n,path:hr(t+"/"+r.name).replace(/^\//,"")}):r.file&&r.file.mimeType.indexOf("image/")>-1&&e.images.push({id:r.id,name:r.name,thumbnail:n,photoUrl:r["@microsoft.graph.downloadUrl"]}),e}),{folders:[],images:[]})}function Ca(){var e,t;return Fa(this,(function(r){switch(r.label){case 0:return[4,Object(Ge.c)(s.ensureMSAPI)];case 1:if(!(e=r.sent()))throw new Error("failed to load Microsoft Graph SDK");return[4,Object(Ge.c)(s.UserAgentApplication,e.al)];case 2:return r.sent(),(t=Object(Bt.a)(Da))&&t.access_token?[4,Object(Ge.c)(Ma)]:[3,4];case 3:return r.sent(),[3,5];case 4:on.a.putOnedriveUserProfile(null),r.label=5;case 5:return[2]}}))}function Ua(){var e,t;return Fa(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,5]),[4,Object(Ge.c)(s.ensureMSAPI)];case 1:if(!(e=r.sent()))throw new Error("failed to load Microsoft Graph SDK");return[4,Object(Ge.c)(s.UserAgentApplication,e.al)];case 2:return r.sent(),br().logout(),[3,5];case 3:return t=r.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(t))];case 4:return r.sent(),[3,5];case 5:return[2]}}))}function Ma(){var e,t,r;return Fa(this,(function(n){switch(n.label){case 0:return n.trys.push([0,9,,12]),[4,Object(Ge.g)(on.a.putOnedriveIsAwaitingToken(!0))];case 1:return n.sent(),[4,Object(Ge.c)(s.acquireTokenSilent)];case 2:return(e=n.sent())?(Object(Bt.c)(Da,{access_token:e}),t=br().getUser(),[4,Object(Ge.g)(on.a.putOnedriveAccountCredentials({accessToken:e,userId:t.userIdentifier}))]):[3,5];case 3:return n.sent(),[4,Object(Ge.g)(on.a.putOnedriveIsAwaitingToken(!1))];case 4:return n.sent(),[3,8];case 5:return[4,Object(Ge.g)(on.a.putOnedriveError({message:"unable to acquire access_token"}))];case 6:return n.sent(),[4,Object(Ge.g)(on.a.putOnedriveIsAwaitingToken(!1))];case 7:n.sent(),n.label=8;case 8:return[3,12];case 9:return r=n.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(r))];case 10:return n.sent(),[4,Object(Ge.g)(on.a.putOnedriveIsAwaitingToken(!1))];case 11:return n.sent(),[3,12];case 12:return[2]}}))}function Ga(){var e;return Fa(this,(function(t){switch(t.label){case 0:return t.trys.push([0,6,,8]),[4,Object(Ge.c)(s.login)];case 1:return t.sent()?[4,Object(Ge.c)(Ma)]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,Object(Ge.g)(on.a.putOnedriveError({message:"unable to acquire idToken"}))];case 4:t.sent(),t.label=5;case 5:return[3,8];case 6:return e=t.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(e))];case 7:return t.sent(),[3,8];case 8:return[2]}}))}function Ra(){var e;return Fa(this,(function(t){switch(t.label){case 0:return t.trys.push([0,4,,6]),[4,Object(Ge.g)(on.a.putOnedriveLoginStatus(null))];case 1:return t.sent(),[4,Object(Ge.g)(on.a.putOnedriveClearItems())];case 2:return t.sent(),[4,Object(Ge.g)(on.a.putOnedriveUserProfile(null))];case 3:return t.sent(),Mt(Ut([or.b,Xe.b.onedrive])+"#logout",456,406),[3,6];case 4:return e=t.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(e))];case 5:return t.sent(),[3,6];case 6:return[2]}}))}function qa(){var e,t,r,n,o,a,c;return Fa(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),e=Object(ko.a)(Ln),[4,Object(Ge.c)(s.callMSGraph,e.accessToken,rr.account)];case 1:return t=i.sent(),r=t.id,n=t.displayName,o=t.userPrincipalName,a=n||o,[4,Object(Ge.g)(on.a.putOnedriveUserProfile({id:r,name:a}))];case 2:return i.sent(),[3,5];case 3:return c=i.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(c))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}function Na(e){var t,r,n,o,a,c,i,u,l,f;return Fa(this,(function(p){switch(p.label){case 0:return p.trys.push([0,15,17,19]),[4,Object(Ge.g)(on.a.putOnedriveIsLoadingItems(!0))];case 1:return p.sent(),[4,Object(Ge.g)(on.a.putOnedriveClearItems())];case 2:return p.sent(),t=Object(ko.a)(Ln),r=e?rr.driveRoot+":/"+e:rr.driveRoot,n="",o=void 0,e?[4,Object(Ge.c)(s.callMSGraph,t.accessToken,r)]:[3,5];case 3:return o=p.sent(),n=o.parentReference&&o.parentReference.path===lr?""+o.name:hr(o.parentReference.path)+"/"+o.name,a={id:e,path:n,name:o.name},[4,Object(Ge.g)(on.a.putSelectedItem(a))];case 4:return p.sent(),[3,7];case 5:return[4,Object(Ge.g)(on.a.resetSelectedItem())];case 6:p.sent(),p.label=7;case 7:return c=e?rr.items+"/"+o.id:rr.driveRoot,[4,Object(Ge.c)(s.callMSGraph,t.accessToken,c+"/children","$expand=thumbnails")];case 8:return i=p.sent(),(l=i&&i.value)?[4,Object(Ge.c)(Aa,i.value,n)]:[3,10];case 9:l=p.sent(),p.label=10;case 10:return u=l,i["@odata.nextLink"]?[4,Object(Ge.g)(on.a.fetchOnedriveMoreFolderContents(i["@odata.nextLink"],n))]:[3,12];case 11:p.sent(),p.label=12;case 12:return u?[4,Object(Ge.g)(on.a.putOnedriveItems(u))]:[3,14];case 13:p.sent(),p.label=14;case 14:return[3,19];case 15:return f=p.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(f))];case 16:return p.sent(),[3,19];case 17:return[4,Object(Ge.g)(on.a.putOnedriveIsLoadingItems(!1))];case 18:return p.sent(),[7];case 19:return[2]}}))}function Ba(e,t){var r,n;return Fa(this,(function(o){switch(o.label){case 0:return r=Object(ko.a)(Ln),[4,Object(Ge.c)(s.callMSGraph,r.accessToken,null,null,e)];case 1:return n=o.sent(),[4,Object(Ge.g)(on.a.putMoreOnedriveItems(Aa(n.value,t)))];case 2:return o.sent(),n["@odata.nextLink"]?[4,Object(Ge.g)(on.a.fetchOnedriveMoreFolderContents(n["@odata.nextLink"],t))]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}}))}function Ya(e){var t;return Fa(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(Ga,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}function za(){var e;return Fa(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,Object(Ge.c)(qa)];case 1:return t.sent(),[3,4];case 2:return e=t.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(e))];case 3:return t.sent(),[3,4];case 4:return[2]}}))}function Ha(e){var t;return Fa(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(Na,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}function Wa(e){var t,r,n,o;return Fa(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,4]),t=e.payload,r=t.requestUrl,n=t.path,[4,Object(Ge.c)(Ba,r,n)];case 1:return a.sent(),[3,4];case 2:return o=a.sent(),[4,Object(Ge.g)(on.a.putOnedriveError(o))];case 3:return a.sent(),[3,4];case 4:return[2]}}))}var Va=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Xa(e,t){void 0===t&&(t=!1);var r=t?"t":"b";return"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_"+r+".jpg"}function Ja(e){return{id:e.id,name:e.title,photoUrl:Xa(e),thumbnail:Xa(e,!0)}}function Qa(e){return{id:e.id,name:e.title.content,photoUrl:Xa(e),thumbnail:e.primaryPhotoExtras.urlM}}function Za(e){var t,r,n,o,a,s;return Va(this,(function(c){switch(c.label){case 0:return(t=Object(ko.a)(Fn)).flickrLoginState&&t.flickrLoginState.connected?[3,2]:[4,Object(Ge.g)(on.a.putFlickrItems({images:[],folders:[]}))];case 1:return c.sent(),[2];case 2:return[4,Object(Ge.c)(er,t.flickrLoginState,e.payload.page,e.payload.itemsPerPage)];case 3:return r=c.sent(),n=r.photos,o=n.pages,a=n.page,s=n.perpage,[4,Object(Ge.g)(on.a.putFlickrPhotoPagination({pages:o,page:a,perPage:s}))];case 4:return c.sent(),[2,r.photos.photo.map(Ja)]}}))}function Ka(e){var t,r,n,o,a,s;return Va(this,(function(c){switch(c.label){case 0:return(t=Object(ko.a)(Fn)).flickrLoginState&&t.flickrLoginState.connected?[3,2]:[4,Object(Ge.g)(on.a.putFlickrItems({images:[],folders:[]}))];case 1:return c.sent(),[2];case 2:return[4,Object(Ge.c)(tr,t.flickrLoginState,e.payload.page,e.payload.itemsPerPage)];case 3:return r=c.sent(),n=r.photosets,o=n.page,a=n.pages,s=n.perpage,[4,Object(Ge.g)(on.a.putFlickrAlbumPagination({page:Number.parseInt(o,10),pages:a,perPage:Number.parseInt(s,10)}))];case 4:return c.sent(),[2,r.photosets.photoset.map(Qa)]}}))}function $a(){var e,t,r;return Va(this,(function(n){switch(n.label){case 0:return(e=Object(ko.a)(Fn)).flickrLoginState?[4,Kt(e.flickrLoginState,e.flickrLoginState.userNsid)]:[2];case 1:return(t=n.sent())?(r="https://www.flickr.com/images/buddyicon.gif","0"!==t.iconserver&&(r="https://farm"+t.iconfarm+".staticflickr.com/"+t.iconserver+"/buddyicons/"+t.nsid+".jpg"),[4,Object(Ge.g)(on.a.putFlickrProfile({id:t.id,name:t.realname.content,profilePicture:r}))]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}function es(e){var t,r,n;return Va(this,(function(o){switch(o.label){case 0:return o.trys.push([0,7,,9]),t=e.payload,[4,Object(Ge.c)(Qt,t)];case 1:return(r=o.sent())?[4,Object(Ge.g)(on.a.putFlickrLoginStatus(r))]:[3,4];case 2:return o.sent(),[4,Object(Ge.c)($a)];case 3:return o.sent(),[3,6];case 4:return[4,Object(Ge.g)(on.a.putFlickrLoginStatus(R))];case 5:o.sent(),o.label=6;case 6:return[3,9];case 7:return n=o.sent(),[4,Object(Ge.g)(on.a.putFlickrError(n))];case 8:return o.sent(),[3,9];case 9:return[2]}}))}function ts(e){var t,r;return Va(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,5]),[4,Object(Ge.c)(Za,e)];case 1:return t=n.sent(),[4,Object(Ge.g)(on.a.addFlickrPhotos(t))];case 2:return n.sent(),[3,5];case 3:return r=n.sent(),[4,Object(Ge.g)(on.a.putFlickrError(r))];case 4:return n.sent(),[3,5];case 5:return[2]}}))}function rs(e){var t,r;return Va(this,(function(n){switch(n.label){case 0:return[4,Object(Ge.c)(Ka,e)];case 1:return t=n.sent(),[4,Object(Ge.c)(Za,e)];case 2:return r=n.sent(),[4,Object(Ge.g)(on.a.putFlickrItems({images:r,folders:t}))];case 3:return n.sent(),[2]}}))}function ns(e){var t,r;return Va(this,(function(n){switch(n.label){case 0:return n.trys.push([0,6,,8]),1!==e.payload.page?[3,2]:[4,Object(Ge.c)(rs,e)];case 1:return n.sent(),[3,5];case 2:return[4,Object(Ge.c)(Ka,e)];case 3:return t=n.sent(),[4,Object(Ge.g)(on.a.addFlickrAlbums(t))];case 4:n.sent(),n.label=5;case 5:return[3,8];case 6:return r=n.sent(),[4,Object(Ge.g)(on.a.putFlickrError(r))];case 7:return n.sent(),[3,8];case 8:return[2]}}))}function os(e){var t,r,n,o,a,s,c;return Va(this,(function(i){switch(i.label){case 0:return i.trys.push([0,10,,12]),(t=Object(ko.a)(Fn)).flickrLoginState?[3,2]:[4,Object(Ge.g)(on.a.putFlickrItems({images:[],folders:[]}))];case 1:return i.sent(),[2];case 2:return[4,$t(t.flickrLoginState,e.payload.folderId,e.payload.page,e.payload.itemsPerPage)];case 3:return r=i.sent(),n=r.page,o=r.perpage,a=r.pages,[4,Object(Ge.g)(on.a.putSelectedItem({id:r.id,path:e.payload.folderId,name:r.title}))];case 4:return i.sent(),[4,Object(Ge.g)(on.a.putFlickrPhotoPagination({page:Number.parseInt(n,10),pages:a,perPage:o}))];case 5:return i.sent(),s=r.photo.map(Ja),1===e.payload.page?[4,Object(Ge.g)(on.a.putFlickrItems({images:s}))]:[3,7];case 6:return i.sent(),[3,9];case 7:return[4,Object(Ge.g)(on.a.addFlickrPhotos(s))];case 8:i.sent(),i.label=9;case 9:return[3,12];case 10:return c=i.sent(),[4,Object(Ge.g)(on.a.putFlickrError(c))];case 11:return i.sent(),[3,12];case 12:return[2]}}))}var as=function(){return(as=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ss=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function cs(){var e;return ss(this,(function(t){switch(t.label){case 0:return[4,Object(Ge.c)(me.getAuthResponse)];case 1:return!(e=t.sent())||Date.now()>e.expires_at?[4,Object(Ge.c)(ls)]:[3,3];case 2:return t.sent(),[2];case 3:return[2,e.access_token]}}))}function is(e){var t,r,n,o,a,s,c;return ss(this,(function(i){switch(i.label){case 0:t=e.payload,r=t.shouldSocialConnect,n=t.scopes,i.label=1;case 1:return i.trys.push([1,9,,14]),[4,Object(Ge.c)(me.ensureGoogleAPI)];case 2:return i.sent(),[4,Object(Ge.c)(me.showLoginDialog,n)];case 3:return o=i.sent(),r?[4,Object(Ge.c)($o.h,o.access_token,ea.f.google)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[4,Object(Ge.c)(me.getUserProfile)];case 6:return a=i.sent(),s={id:a.getId(),name:a.getName(),profilePicture:a.getImageUrl()},[4,Object(Ge.g)(on.a.putGoogleLoginStatus(as({},o,{isLoggedIn:!0})))];case 7:return i.sent(),[4,Object(Ge.g)(on.a.putGoogleUserProfile(s))];case 8:return i.sent(),[3,14];case 9:return"popup_closed_by_user"===(c=i.sent()).error||"access_denied"===c.error?[3,11]:[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 10:return i.sent(),console.error("Google saga, googleLogin failed with: ",c),[3,13];case 11:return[4,Object(Ge.g)(on.a.putGoogleLoginError(c))];case 12:i.sent(),i.label=13;case 13:return[3,14];case 14:return[2]}}))}function us(){var e,t,r,n;return ss(this,(function(o){switch(o.label){case 0:return o.trys.push([0,10,,12]),[4,Object(Ge.c)(me.ensureGoogleAPI)];case 1:return o.sent(),[4,Object(Ge.c)(me.getAuthResponse)];case 2:return!(e=o.sent())||Date.now()>e.expires_at?[4,Object(Ge.c)(ls)]:[3,4];case 3:return o.sent(),[2];case 4:return[4,Object(Ge.c)(me.getUserProfile)];case 5:return(t=o.sent())?[3,7]:[4,Object(Ge.c)(ls)];case 6:return o.sent(),[2];case 7:return r={id:t.getId(),name:t.getName(),profilePicture:t.getImageUrl()},[4,Object(Ge.g)(on.a.putGoogleUserProfile(r))];case 8:return o.sent(),[4,Object(Ge.g)(on.a.putGoogleLoginStatus(as({},e,{isLoggedIn:!0})))];case 9:return o.sent(),[3,12];case 10:return n=o.sent(),[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 11:return o.sent(),console.error("Google saga, getUserProfile failed with: ",n),[3,12];case 12:return[2]}}))}function ls(){var e;return ss(this,(function(t){switch(t.label){case 0:return t.trys.push([0,5,,7]),[4,Object(Ge.c)(me.ensureGoogleAPI)];case 1:return t.sent(),[4,Object(Ge.c)(me.logOut)];case 2:return t.sent(),[4,Object(Ge.g)(on.a.putGoogleLoginStatus(we))];case 3:return t.sent(),[4,Object(Ge.g)(on.a.putGoogleUserProfile(null))];case 4:return t.sent(),[3,7];case 5:return e=t.sent(),[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 6:return t.sent(),console.error("Google saga, googleSocialLogout failed with: ",e),[3,7];case 7:return[2]}}))}function fs(e){var t,r,n;return ss(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,9]),t=e.payload.emailOptIn,[4,Object(Ge.c)(me.ensureGoogleAPI)];case 1:return o.sent(),[4,Object(Ge.c)(me.showLoginDialog)];case 2:return r=o.sent(),[4,Object(Ge.c)($o.j,r.access_token,ea.f.google,t)];case 3:return o.sent(),[3,9];case 4:return"popup_closed_by_user"!==(n=o.sent()).error?[3,6]:[4,Object(Ge.g)(on.a.putGoogleLoginError(n))];case 5:return o.sent(),[3,8];case 6:return[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 7:o.sent(),console.error("Google saga, googleSocialSignUp failed with: ",n),o.label=8;case 8:return[3,9];case 9:return[2]}}))}function ps(e){var t,r,n,o;return ss(this,(function(a){switch(a.label){case 0:return a.trys.push([0,11,,13]),""!==e?[3,2]:[4,Object(Ge.g)(on.a.putGooglePhotosIsLoadingItems(!0))];case 1:a.sent(),a.label=2;case 2:return(t=Object(ko.a)(fo))&&t.access_token?[3,4]:[4,Object(Ge.c)(ls)];case 3:return a.sent(),[2];case 4:return[4,Object(Ge.c)(me.loadGooglePhotosMedia,t.access_token,e)];case 5:return r=a.sent(),n=[],r.mediaItems&&r.mediaItems.forEach((function(e){var t=e.id,r=e.filename,o=e.mimeType,a=e.baseUrl;~o.indexOf("image")&&n.push({id:t,name:r,thumbnail:a+"=w200-h200",photoUrl:a+"=w2048-h2048"})})),""===e?[3,7]:[4,Object(Ge.g)(on.a.addGooglePhotosItems({images:n},r.nextPageToken))];case 6:return a.sent(),[3,9];case 7:return[4,Object(Ge.g)(on.a.putGooglePhotosItems({images:n},r.nextPageToken))];case 8:a.sent(),a.label=9;case 9:return[4,Object(Ge.g)(on.a.putGooglePhotosIsLoadingItems(!1))];case 10:return a.sent(),[3,13];case 11:return o=a.sent(),[4,Object(Ge.c)(hs,on.a.putGooglePhotosError(o),o,Xe.b.googlePhotos)];case 12:return a.sent(),console.error("Google saga, googlePhotosMedia failed with: ",o),[3,13];case 13:return[2]}}))}function ds(){var e,t,r,n,o;return ss(this,(function(a){switch(a.label){case 0:return a.trys.push([0,10,,16]),[4,Object(Ge.c)(me.ensureGoogleAPI)];case 1:return a.sent(),[4,Object(Ge.c)(me.showLoginDialog)];case 2:return e=a.sent(),[4,Object(Ge.c)($o.i,e.access_token,ea.f.google)];case 3:return t=a.sent(),r=t.data.code,n=null,Object(Pe.includes)(Object(Pe.values)(ea.g),r)?(n={errorCode:r,errorMessage:t.data.detail,provider:ea.f.google},r!==ea.g.alreadyAssociated?[3,5]:[4,Object(Ge.g)(Zo.c.trackEvent(Zo.a.errorAccountExists))]):[3,6];case 4:a.sent(),a.label=5;case 5:return[3,8];case 6:return[4,Object(Ge.g)(an.b.user.updateDetails(Object($o.k)(t.data.user)))];case 7:a.sent(),n={errorCode:null,errorMessage:"",provider:ea.f.google},a.label=8;case 8:return[4,Object(Ge.g)(on.a.putSocialConnectState(n))];case 9:return a.sent(),[3,16];case 10:return void 0!==(o=a.sent()).authResponse?[3,12]:[4,Object(Ge.g)(on.a.putSocialConnectState({errorCode:ea.g.canceled,errorMessage:"",provider:ea.f.google}))];case 11:return a.sent(),[3,15];case 12:return[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 13:return a.sent(),[4,Object(Ge.g)(an.b.user.setSocialError(ea.f.google,o))];case 14:a.sent(),a.label=15;case 15:return console.error("Google saga, googleSocialConnect failed with: ",o),[3,16];case 16:return[2]}}))}function bs(e){var t,r,n,o,a,s,c,i=e.pageToken,u=e.parentFolder;return ss(this,(function(e){switch(e.label){case 0:return e.trys.push([0,16,,18]),""!==i?[3,2]:[4,Object(Ge.g)(on.a.putGoogleDriveIsLoadingItems(!0))];case 1:e.sent(),e.label=2;case 2:return(t=Object(ko.a)(fo))&&t.access_token?[3,4]:[4,Object(Ge.c)(ls)];case 3:return e.sent(),[2];case 4:return""===u?[3,7]:[4,Object(Ge.c)(me.getFileMetadata,t.access_token,u)];case 5:return r=e.sent(),n={id:r.id,name:r.name},[4,Object(Ge.g)(on.a.putSelectedItem(n))];case 6:return e.sent(),[3,9];case 7:return[4,Object(Ge.g)(on.a.resetSelectedItem())];case 8:e.sent(),e.label=9;case 9:return[4,Object(Ge.c)(me.loadGoogleDriveMedia,t.access_token,i,u)];case 10:return o=e.sent(),a=[],s=[],o.files&&o.files.forEach((function(e){var t=e.id,r=e.name,n=e.mimeType,o=e.thumbnailLink;if(t){var c="files/"+t+"?alt=media",i=""+me.googleDriveBaseURL+c;n&&~n.indexOf("image")?a.push({id:t,name:r||"",thumbnail:o,photoUrl:i}):s.push({id:t,name:r||"",thumbnail:o})}})),""===i?[3,12]:[4,Object(Ge.g)(on.a.addGoogleDriveItems({images:a,folders:s},o.nextPageToken))];case 11:return e.sent(),[3,14];case 12:return[4,Object(Ge.g)(on.a.putGoogleDriveItems({images:a,folders:s},o.nextPageToken))];case 13:e.sent(),e.label=14;case 14:return[4,Object(Ge.g)(on.a.putGoogleDriveIsLoadingItems(!1))];case 15:return e.sent(),[3,18];case 16:return c=e.sent(),[4,Object(Ge.c)(hs,on.a.putGoogleDriveError(c),c,Xe.b.googleDrive)];case 17:return e.sent(),console.error("Google saga, googleDriveMedia failed with: ",c),[3,18];case 18:return[2]}}))}function hs(e,t,r){return ss(this,(function(n){switch(n.label){case 0:return t.code&&401===t.code||t.status&&401===t.status?[4,Object(Ge.g)(on.a.revokeGooglePermissions(Object(me.getRequiredScopeForGoogleSlug)(r)))]:[3,2];case 1:return n.sent(),[2];case 2:return[4,Object(Ge.g)(e)];case 3:return n.sent(),[2]}}))}function gs(e){var t;return ss(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(ps,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putGooglePhotosError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}function ms(e){var t;return ss(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(bs,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putGooglePhotosError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}function vs(e){var t,r,n,o,a,s;return ss(this,(function(c){switch(c.label){case 0:return c.trys.push([0,11,,13]),t=e.payload,r=t.sourceSlug,n=t.nextAction,[4,Object(Ge.c)(cs)];case 1:if(!(o=c.sent()))return[2];c.label=2;case 2:return c.trys.push([2,8,,10]),r!==Xe.b.googlePhotos?[3,4]:[4,Object(Ge.c)(me.loadGooglePhotosMedia,o,"")];case 3:c.sent(),c.label=4;case 4:return r!==Xe.b.googleDrive?[3,6]:[4,Object(Ge.c)(me.loadGoogleDriveMedia,o,"","")];case 5:c.sent(),c.label=6;case 6:return[4,Object(Ge.g)(n)];case 7:return c.sent(),[3,10];case 8:return a=c.sent(),[4,Object(Ge.c)(hs,on.a.putGoogleDriveError(a),a,r)];case 9:return c.sent(),[3,10];case 10:return[3,13];case 11:return s=c.sent(),[4,Object(Ge.g)(on.a.putGooglePhotosError(s))];case 12:return c.sent(),[3,13];case 13:return[2]}}))}function ys(e){var t,r,n,o,a,s;return ss(this,(function(c){switch(c.label){case 0:return c.trys.push([0,10,,12]),[4,Object(Ge.g)(on.a.putSharingInProgress(!0))];case 1:return c.sent(),t=e.payload,r=t.imageBlob,n=t.fileName,r?[4,Object(Ge.c)(me.getAuthResponse)]:[2];case 2:return!(o=c.sent())||Date.now()>=o.expires_at?[4,Object(Ge.c)(ls)]:[3,4];case 3:return c.sent(),[2];case 4:return a=void 0,e.type!==ge.a.googleDriveShare?[3,6]:[4,Object(Ge.c)(me.shareToGoogleDrive,o.access_token,r,n)];case 5:return a=c.sent(),[3,8];case 6:return e.type!==ge.a.googlePhotosShare?[3,8]:[4,Object(Ge.c)(me.shareToGooglePhotos,o.access_token,r,n)];case 7:a=c.sent(),c.label=8;case 8:return[4,Object(Ge.g)(on.a.putSharingInProgress(!1,!!a))];case 9:return c.sent(),[3,12];case 10:return s=c.sent(),[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 11:return c.sent(),console.error("Google saga, googleDriveShare failed with: ",s),[3,12];case 12:return[2]}}))}var Os,Ss=function(){return(Ss=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ws=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function js(e){var t;return ws(this,(function(r){switch(r.label){case 0:return(t={message:e.message||"Something went wrong",code:e.code,isQuotaExceeded:Array.isArray(e.errors)&&e.errors.some((function(e){return"quotaExceeded"===e.reason})),isInvalidChannel:Array.isArray(e.errors)&&e.errors.some((function(e){return"invalidChannelId"===e.reason})),accountNotVerified:Array.isArray(e.errors)&&e.errors.some((function(e){return"The authenticated user doesnt have permissions to upload and set custom video thumbnails."===e.message}))}).isQuotaExceeded&&Qo.c(e),[4,Object(Ge.g)(x.b.putYouTubeError(t))];case 1:return r.sent(),[2]}}))}function xs(){var e,t;return ws(this,(function(r){switch(r.label){case 0:return(e=Object(ko.a)(po))&&e.loginState?!(t=e.loginState)||Date.now()>1e3*t.expires_at?[4,Object(Ge.g)(x.b.requestYouTubeLogout())]:[3,2]:[2];case 1:return r.sent(),[2];case 2:return[2,t.access_token]}}))}function ks(e,t){var r,n,o;return ws(this,(function(a){switch(a.label){case 0:return r={images:e.items.map((function(e){return{id:e.id,name:e.brandingSettings.channel.title,thumbnail:e.brandingSettings.image.bannerImageUrl,photoUrl:e.brandingSettings.image.bannerImageUrl}}))},n=e.pageInfo.resultsPerPage===e.pageInfo.totalResults&&e.nextPageToken,o=n?e.nextPageToken:void 0,t&&t.length>0?[4,Object(Ge.g)(x.b.addYouTubeGridItems(r,o))]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,Object(Ge.g)(x.b.putYouTubeGridItems(r,o))];case 3:a.sent(),a.label=4;case 4:return[2]}}))}!function(e){e.Image="image",e.Video="video",e.Carousel="carousel"}(Os||(Os={}));var Ps=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},_s="https://www.instagram.com/accounts/logout/",Is={width:500,height:690};function Ls(){var e,t,r;return Ps(this,(function(n){switch(n.label){case 0:return n.trys.push([0,1,,3]),e=Object(We.b)().instagramAppId,t=""+Ut(Ar),Mt(function(e,t){return"https://api.instagram.com/oauth/authorize/?client_id="+e+"&redirect_uri="+t+"&response_type=token"}(e,t),Is.width,Is.height),[3,3];case 1:return r=n.sent(),[4,Object(Ge.g)(on.a.putInstagramError(r))];case 2:return n.sent(),[3,3];case 3:return[2]}}))}function Ts(){var e;return Ps(this,(function(t){switch(t.label){case 0:return t.trys.push([0,4,,6]),Object(Bt.b)(Ar),[4,Object(Ge.g)(on.a.putInstagramLoginStatus(null))];case 1:return t.sent(),[4,Object(Ge.g)(on.a.putInstagramClearItems())];case 2:return t.sent(),[4,Object(Ge.g)(on.a.putInstagramUserProfile(null))];case 3:return t.sent(),Mt(_s),[3,6];case 4:return e=t.sent(),[4,Object(Ge.g)(on.a.putInstagramError(e))];case 5:return t.sent(),[3,6];case 6:return[2]}}))}function Es(){var e,t,r;return Ps(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,5]),[4,Object(Ge.c)(Cr)];case 1:return e=n.sent().data,t={id:e.id,name:e.full_name,profilePicture:e.profile_picture},[4,Object(Ge.g)(on.a.putInstagramUserProfile(t))];case 2:return n.sent(),[3,5];case 3:return r=n.sent(),[4,Object(Ge.g)(on.a.putInstagramError(r))];case 4:return n.sent(),[3,5];case 5:return[2]}}))}function Fs(e){var t,r,n;return Ps(this,(function(o){switch(o.label){case 0:return o.trys.push([0,7,,9]),[4,Object(Ge.c)(Ur,e)];case 1:return t=o.sent(),r=t.data.reduce((function(e,t){var r=t.id,n=t.images,o=n.standard_resolution,a=n.thumbnail,s=t.type,c=t.carousel_media;switch(s){case Os.Image:e.images.push({id:r,name:"",photoUrl:o.url,thumbnail:a.url});break;case Os.Carousel:if(c&&c.length>0)for(var i=0;i<c.length;i++){var u=c[i].images;u&&e.images.push({id:r+"-"+i,name:"",photoUrl:u.standard_resolution.url,thumbnail:u.thumbnail.url})}}return e}),{folders:[],images:[]}),[4,Object(Ge.g)(on.a.putInstagramMediaPagination(t.pagination))];case 2:return o.sent(),e?[4,Object(Ge.g)(on.a.addInstagramItems(r))]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,Object(Ge.g)(on.a.putInstagramItems(r))];case 5:o.sent(),o.label=6;case 6:return[3,9];case 7:return n=o.sent(),[4,Object(Ge.g)(on.a.putInstagramError(n))];case 8:return o.sent(),[3,9];case 9:return[2]}}))}function Ds(e){var t;return Ps(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(Ls,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putInstagramError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}function As(){var e;return Ps(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,Object(Ge.c)(Es)];case 1:return t.sent(),[3,4];case 2:return e=t.sent(),[4,Object(Ge.g)(on.a.putInstagramError(e))];case 3:return t.sent(),[3,4];case 4:return[2]}}))}function Cs(e){var t;return Ps(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,Object(Ge.c)(Fs,e.payload)];case 1:return r.sent(),[3,4];case 2:return t=r.sent(),[4,Object(Ge.g)(on.a.putInstagramError(t))];case 3:return r.sent(),[3,4];case 4:return[2]}}))}var Us=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Ms(){var e,t;return Us(this,(function(r){switch(r.label){case 0:return(e=Object(ko.a)(Qn)).tumblrLoginState?[4,Wr(e.tumblrLoginState)]:[2];case 1:return(t=r.sent())?[4,Object(Ge.g)(on.a.putTumblrUserProfile({id:t.id.toString(),name:t.name,blogs:t.blogs}))]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}function Gs(e){var t,r;return Us(this,(function(n){switch(n.label){case 0:return n.trys.push([0,7,,9]),[4,Object(Ge.c)(Hr,e.payload)];case 1:return(t=n.sent())?[4,Object(Ge.g)(on.a.putTumblrLoginStatus(t))]:[3,4];case 2:return n.sent(),[4,Object(Ge.c)(Ms)];case 3:return n.sent(),[3,6];case 4:return[4,Object(Ge.g)(on.a.putTumblrLoginStatus(fe))];case 5:n.sent(),n.label=6;case 6:return[3,9];case 7:return r=n.sent(),[4,Object(Ge.g)(on.a.putTumblrError(r))];case 8:return n.sent(),[3,9];case 9:return[2]}}))}function Rs(e){var t,r,n,o;return Us(this,(function(a){switch(a.label){case 0:return a.trys.push([0,8,,11]),[4,Object(Ge.g)(on.a.putSharingInProgress(!0))];case 1:return a.sent(),(t=Object(ko.a)(Qn)).tumblrLoginState&&t.tumblrUserProfile?[3,3]:[4,Object(Ge.g)(on.a.putSharingInProgress(!1))];case 2:return a.sent(),[2];case 3:if(!(r=Object(ko.a)(wo)))throw new Error("No share link found for Tumblr");return[4,Vr(t.tumblrLoginState,e.payload.caption,e.payload.imageBlob,r.permalink,e.payload.blogName)];case 4:return(n=a.sent())?[4,Object(Ge.g)(on.a.putTumblrShareResponse(n))]:[3,6];case 5:a.sent(),a.label=6;case 6:return[4,Object(Ge.g)(on.a.putSharingInProgress(!1,!0))];case 7:return a.sent(),[3,11];case 8:return o=a.sent(),Qo.c(o),[4,Object(Ge.g)(on.a.putTumblrError(o))];case 9:return a.sent(),[4,Object(Ge.g)(on.a.putSharingInProgress(!1,!1))];case 10:return a.sent(),[3,11];case 11:return[2]}}))}var qs=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Ns(){var e,t;return qs(this,(function(r){switch(r.label){case 0:return(e=Object(ko.a)(Nn)).twitterLoginState?[4,Lr(e.twitterLoginState)]:[2];case 1:return(t=r.sent())?[4,Object(Ge.g)(on.a.putTwitterUserProfile({id:t.id.toString(),name:t.name,handle:t.screenName,profilePicture:t.profileImageUrlHttps}))]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}function Bs(e){var t,r;return qs(this,(function(n){switch(n.label){case 0:return n.trys.push([0,7,,9]),[4,Object(Ge.c)(Ir,e.payload)];case 1:return(t=n.sent())?[4,Object(Ge.g)(on.a.putTwitterLoginStatus(t))]:[3,4];case 2:return n.sent(),[4,Object(Ge.c)(Ns)];case 3:return n.sent(),[3,6];case 4:return[4,Object(Ge.g)(on.a.putTwitterLoginStatus(J))];case 5:n.sent(),n.label=6;case 6:return[3,9];case 7:return r=n.sent(),[4,Object(Ge.g)(on.a.putTwitterError(r))];case 8:return n.sent(),[3,9];case 9:return[2]}}))}function Ys(e){var t,r,n;return qs(this,(function(o){switch(o.label){case 0:return o.trys.push([0,8,,11]),[4,Object(Ge.g)(on.a.putSharingInProgress(!0))];case 1:return o.sent(),(t=Object(ko.a)(Nn)).twitterLoginState?[3,3]:[4,Object(Ge.g)(on.a.putSharingInProgress(!1))];case 2:return o.sent(),[2];case 3:return[4,Tr(t.twitterLoginState,e.payload)];case 4:return(r=o.sent())?[4,Object(Ge.g)(on.a.putTwitterShareResponse(r))]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,Object(Ge.g)(on.a.putSharingInProgress(!1,!0))];case 7:return o.sent(),[3,11];case 8:return n=o.sent(),Qo.c(n),[4,Object(Ge.g)(on.a.putTwitterError(n))];case 9:return o.sent(),[4,Object(Ge.g)(on.a.putSharingInProgress(!1,!1))];case 10:return o.sent(),[3,11];case 11:return[2]}}))}var zs,Hs=r("7627644e61a57ab541f8"),Ws=r("4b0141d59d1576cb414b"),Vs=r("fbfd9483365eace9280e"),Xs=r("45ffaf36d7f1a1400eb4"),Js=r("bdc0667d7d4eb8cabb7c"),Qs=function(){return(Qs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Zs=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ks=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};function $s(e){var t,r,n,o,a,s,c,i,u,l,f;return Zs(this,(function(p){switch(p.label){case 0:switch(t=e.payload.requestData,r=t.sourceSlug,n=t.collectionId,o=t.path,a=t.name,s=t.nextUploader,r){case Xe.b.dropbox:return[3,1];case Xe.b.googlePhotos:return[3,3];case Xe.b.googleDrive:return[3,7]}return[3,10];case 1:return[4,Object(Ge.c)(Ho,o,r,n,a,s)];case 2:return p.sent(),[3,11];case 3:return p.trys.push([3,5,,6]),[4,Object(Ge.c)(ic,o)];case 4:return c=p.sent(),s({imageUrl:c}),[3,6];case 5:return i=p.sent(),console.error("Could not fetch image from "+r+": "+i),[2];case 6:return[3,11];case 7:return(u=Object(ko.a)(fo))?(l={url:decodeURIComponent(o),method:"GET",headers:{Authorization:"Bearer "+u.access_token}},[4,Object(ze.f)(decodeURIComponent(o),l)]):[3,9];case 8:"ok"===(f=p.sent()).type?s({file:new File([f.data],"noname",{type:f.data.type})}):console.warn("Failed to fetch image data"),p.label=9;case 9:return[3,11];case 10:console.error("File requests to "+r+" are not yet handled."),p.label=11;case 11:return[2]}}))}function ec(e){var t,r,n,o,a,s,c,i,u,l,f;return Zs(this,(function(p){switch(p.label){case 0:return t=e.payload,r=t.imageIdentifier,n=t.sourceSlug,o=t.name,a=t.destination,s=Object(ko.a)(gn.Z),[4,Object(Ge.c)(Be.d,Object(Ye.a)())];case 1:switch(c=p.sent().actions,n){case Xe.b.dropbox:return[3,2]}return[3,11];case 2:return[4,Object(Ge.c)(Ao,r)];case 3:return i=p.sent(),u=URL.createObjectURL(i.fileBlob),Object(Hs.d)(s)?[4,Object(Ge.g)(c.dialogs.showDialog(Ko.a.userProfileImageUpload,{imageUrl:u},{hideOnLocationChange:!1}))]:[3,5];case 4:return p.sent(),[3,10];case 5:return Object(Hs.f)(s)?[4,Object(Ge.c)(Ve.a,Object(Ye.a)())]:[3,8];case 6:return l=p.sent(),f=Object(Hs.h)(s),[4,Object(Ge.g)(l.actions.hub.showModal(Ne.g.spaceChangeIcon,{type:"url",spaceId:f,url:u}))];case 7:return p.sent(),[3,10];case 8:return[4,Object(Ge.g)(on.a.addEditorAsset(u,o,a,n))];case 9:p.sent(),p.label=10;case 10:return[3,12];case 11:console.error("File requests to "+n+" are not yet handled."),p.label=12;case 12:return[2]}}))}function tc(e){var t,r,n,o,a,s,c,i,u,l,f;return Zs(this,(function(p){switch(p.label){case 0:return t=e.payload,r=t.imageUrl,n=t.name,o=t.destination,a=t.sourceSlug,[4,Object(Ge.c)(Be.d,Object(Ye.a)())];case 1:if(s=p.sent().actions,c=r,a!==Xe.b.googlePhotos)return[3,5];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,Object(Ge.c)(ic,c)];case 3:return c=p.sent(),[3,5];case 4:return i=p.sent(),console.error("Could not fetch image from "+a+": "+i),[2];case 5:return a===Xe.b.googleDrive&&(l=Object(ko.a)(fo))&&(u={url:c,method:"GET",headers:{Authorization:"Bearer "+l.access_token}}),[4,Object(Ge.c)(ze.g,c,u)];case 6:return"ok"!==(f=p.sent()).type?[3,8]:[4,Object(Ge.g)(s.sagas.addAsset(new Uint8Array(f.data),n,He.a.jpeg,o,Co.b.other))];case 7:return p.sent(),[3,9];case 8:console.error("Could not fetch image from "+a),p.label=9;case 9:return[2]}}))}function rc(e){var t,r;return Zs(this,(function(n){switch(n.label){case 0:return[4,Object(Ge.c)(Be.d,Object(Ye.a)())];case 1:return t=n.sent().actions,r=function(e,r){return t.dialogs.showDialog(Ko.a.userProfileImageUpload,{file:new File([e],r)},{hideOnLocationChange:!1})},[4,Object(Ge.c)(oc,e,r)];case 2:return n.sent(),[2]}}))}function nc(e){var t,r,n;return Zs(this,(function(o){switch(o.label){case 0:return t=e.payload.spaceId,[4,Object(Ge.c)(Ve.a,Object(Ye.a)())];case 1:return r=o.sent().actions,n=function(e,n){return r.hub.showModal(Ne.g.spaceChangeIcon,{type:Ws.i.file,spaceId:t,file:new File([e],n)})},[4,Object(Ge.c)(oc,e,n)];case 2:return o.sent(),[2]}}))}function oc(e,t){var r,n,o,a,s,c,i;return Zs(this,(function(u){switch(u.label){case 0:return r=e.payload,n=r.imageUrl,o=r.sourceSlug,s=n,o!==Xe.b.googleDrive?[3,1]:((c=Object(ko.a)(fo))&&(a={url:s,method:"GET",headers:{Authorization:"Bearer "+c.access_token}}),[3,3]);case 1:return[4,Object(Ge.c)(ic,s)];case 2:s=u.sent(),u.label=3;case 3:return[4,Object(Ge.c)(ze.f,s,a)];case 4:return"ok"!==(i=u.sent()).type?[3,6]:[4,Object(Ge.g)(t(i.data,name))];case 5:return u.sent(),[3,7];case 6:console.error("Could not fetch image from "+o),u.label=7;case 7:return[2]}}))}function ac(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n={});var o=Object(Ft.b)(e,t,r,{sendCookies:!0});return(o=Qs({},o,{headers:Qs({},o.headers,{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":Re.get("csrftoken")||""})})).body=r,Object(ze.h)(new Request(e,o),n)}function sc(e){var t,r;return Zs(this,(function(n){switch(n.label){case 0:return(t=Object(ko.a)(wo))?[4,Object(Ge.c)(ac,"/p/"+t.access_token+"/email","POST",Nt(Object(Tt.a)(e.payload)))]:[2];case 1:return r=n.sent(),[4,Object(Ge.g)(on.a.putSharingInProgress(!1,"ok"===r.type))];case 2:return n.sent(),[2]}}))}function cc(e){var t,r,n,o,a,s,c,i,u,l,f,p,d,b,h,g,m,v,y,O;return Zs(this,(function(S){switch(S.label){case 0:return t=e.payload,r=t.imageBlob,n=t.authorName,o=t.width,a=t.height,s=t.message,c=t.outputFormat,i={message:s,authorName:n,width:Math.round(o),height:Math.round(a),outputFormat:c,externalApp:!1},[4,Object(Ge.c)(ac,"/p","POST",Nt(Object(Tt.a)(i)))];case 1:return"ok"===(u=S.sent()).type&&u.data?[3,3]:[4,Object(Ge.g)(x.b.putSharingInProgress(!1,!1))];case 2:return S.sent(),[2];case 3:l=u.data,f=new Headers,p=new FormData;try{for(d=Ks(l.image_post_info.fields),b=d.next();!b.done;b=d.next())h=b.value,p.set(h.name,h.value)}catch(w){y={error:w}}finally{try{b&&!b.done&&(O=d.return)&&O.call(d)}finally{if(y)throw y.error}}p.append("file",r),S.label=4;case 4:return S.trys.push([4,9,,11]),g=Object(We.b)().endpoints.share,[4,Object(Ge.c)(fetch,g,{method:"POST",headers:f,body:p,mode:"cors"})];case 5:return(m=S.sent()).status>=200&&m.status<300?[4,Object(Ge.g)(x.b.setShareLink(l))]:[3,7];case 6:return S.sent(),[3,8];case 7:throw new Error("Cannot post image. Failed with status: "+m.status);case 8:return[3,11];case 9:return v=S.sent(),console.error("createShareLink: ex =>",v),[4,Object(Ge.g)(x.b.putSharingInProgress(!1,!1))];case 10:return S.sent(),[3,11];case 11:return[2]}}))}function ic(e){var t,r,n,o,a,s,c;return Zs(this,(function(i){switch(i.label){case 0:return[4,Object(Ge.c)(Js.a)];case 1:return t=i.sent(),r={assetUrl:e},n=Vs.hub.CreateAssetFromLinkRequest.encode(r).finish(),o=Object(ze.o)("asset")+"/createAssetFromLink",a=Qs({},ze.d,{headers:Object(ze.c)(t),body:n}),s=new Request(o,a),[4,Object(ze.i)(s)];case 2:if((c=i.sent()).error)throw new Xs.a("Failed to create asset: "+c.error);return[2,Vs.pmf.Assets.ExternalAsset.decode(new Uint8Array(c.data)).image.contentLink.assetUrl]}}))}var uc=((zs={})[x.a.youTubeLogin]=function(e){var t,r,n,o,a,s,c;return ws(this,(function(i){switch(i.label){case 0:t=e.payload.scopes,i.label=1;case 1:return i.trys.push([1,9,,14]),[4,Object(Ge.c)(l.performYouTubeLogin,t)];case 2:return r=i.sent(),[4,Object(Ge.c)(me.loadYouTubeChannels,r.access_token,"")];case 3:return n=i.sent(),Array.isArray(n.items)&&0!==n.items.length&&n.items[0].brandingSettings?[3,5]:[4,Object(Ge.g)(x.b.putYouTubeError({code:"invalid_channel",message:"No channel associated to this user account",isInvalidChannel:!0}))];case 4:return i.sent(),[2];case 5:return o=Ss({},n.items[0]),a={id:o.id,name:o.brandingSettings.channel.title,profilePicture:o.snippet.thumbnails.default.url},[4,Object(Ge.g)(x.b.putYouTubeLoginStatus(Ss({},r,{isLoggedIn:!0})))];case 6:return i.sent(),[4,Object(Ge.g)(x.b.putYouTubeUserProfile(a))];case 7:return i.sent(),[4,Object(Ge.c)(ks,Ss({},n),"")];case 8:return i.sent(),[3,14];case 9:return s=i.sent(),(c=["popup_closed_by_user","access_denied","authError"]).indexOf(s.error)>-1||Array.isArray(s.errors)&&s.errors.find((function(e){var t=e.reason;return c.indexOf(t)>-1}))?[4,Object(Ge.g)(x.b.putYouTubeError({code:s.error,message:s.error,isMissingPermissions:!0}))]:[3,11];case 10:return i.sent(),[3,13];case 11:return[4,Object(Ge.g)(an.b.dialogs.showDialog(Ko.a.genericError))];case 12:i.sent(),console.error("YouTube saga, login failed with: ",s),i.label=13;case 13:return[3,14];case 14:return[2]}}))},zs[x.a.fetchYouTubeVideos]=function(e){var t,r,n,o,a,s,c;return ws(this,(function(i){switch(i.label){case 0:t=e.payload.pageToken,i.label=1;case 1:return i.trys.push([1,9,11,13]),[4,Object(Ge.g)(x.b.putYouTubeIsLoadingItems(!t))];case 2:return i.sent(),[4,Object(Ge.c)(xs)];case 3:return(r=i.sent())?[4,Object(Ge.c)(me.loadYouTubeVideos,r,t)]:[2];case 4:return n=i.sent(),o={images:n.items.map((function(e){return{id:e.id.videoId,name:e.snippet.title,thumbnail:e.snippet.thumbnails.high.url,photoUrl:e.snippet.thumbnails.high.url}}))},a=n.pageInfo.resultsPerPage===n.pageInfo.totalResults&&n.nextPageToken,s=a?n.nextPageToken:void 0,t&&t.length>0?[4,Object(Ge.g)(x.b.addYouTubeGridItems(o,s))]:[3,6];case 5:return i.sent(),[3,8];case 6:return[4,Object(Ge.g)(x.b.putYouTubeGridItems(o,s))];case 7:i.sent(),i.label=8;case 8:return[3,13];case 9:return c=i.sent(),[4,Object(Ge.c)(js,c)];case 10:return i.sent(),[3,13];case 11:return[4,Object(Ge.g)(x.b.putYouTubeIsLoadingItems(!1))];case 12:return i.sent(),[7];case 13:return[2]}}))},zs[x.a.fetchYouTubeChannels]=function(e){var t,r,n,o;return ws(this,(function(a){switch(a.label){case 0:t=e.payload.pageToken,a.label=1;case 1:return a.trys.push([1,6,8,10]),[4,Object(Ge.g)(x.b.putYouTubeIsLoadingItems(!t))];case 2:return a.sent(),[4,Object(Ge.c)(xs)];case 3:return(r=a.sent())?[4,Object(Ge.c)(me.loadYouTubeChannels,r,e.payload.pageToken)]:[2];case 4:return n=a.sent(),[4,Object(Ge.c)(ks,n,t)];case 5:return a.sent(),[3,10];case 6:return o=a.sent(),[4,Object(Ge.c)(js,o)];case 7:return a.sent(),[3,10];case 8:return[4,Object(Ge.g)(x.b.putYouTubeIsLoadingItems(!1))];case 9:return a.sent(),[7];case 10:return[2]}}))},zs[x.a.requestSetYouTubeVideoThumbnail]=function(e){var t,r,n;return ws(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,9]),[4,Object(Ge.g)(x.b.putSharingInProgress(!0))];case 1:return o.sent(),[4,Object(Ge.c)(xs)];case 2:return(t=o.sent())?[4,Object(Ge.c)(me.uploadYouTubeVideoThumbnail,t,e.payload.id,e.payload.shareState.imageBlob)]:[2];case 3:if(!(r=o.sent())||!r.items||0===r.items.length)throw new Error("Failed to set video thumbnail: "+r);return[4,Object(Ge.g)(x.b.putYouTubeError())];case 4:return o.sent(),[4,Object(Ge.g)(x.b.putSharingInProgress(!1,!0))];case 5:return o.sent(),[3,9];case 6:return n=o.sent(),[4,Object(Ge.c)(js,n)];case 7:return o.sent(),[4,Object(Ge.g)(x.b.putSharingInProgress(!1,!1))];case 8:return o.sent(),[3,9];case 9:return[2]}}))},zs[x.a.requestSetYouTubeChannelBanner]=function(e){var t,r,n;return ws(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,9]),[4,Object(Ge.g)(x.b.putSharingInProgress(!0))];case 1:return o.sent(),[4,Object(Ge.c)(xs)];case 2:return(t=o.sent())?[4,Object(Ge.c)(me.uploadYouTubeBannerImage,t,e.payload.id,e.payload.shareState.imageBlob)]:[2];case 3:if(!(r=o.sent())||!r.url)throw new Error("Failed to set channel banner: "+r);return[4,Object(Ge.g)(x.b.putYouTubeError())];case 4:return o.sent(),[4,Object(Ge.g)(x.b.putSharingInProgress(!1,!0))];case 5:return o.sent(),[3,9];case 6:return n=o.sent(),[4,Object(Ge.c)(js,n)];case 7:return o.sent(),[4,Object(Ge.g)(x.b.putSharingInProgress(!1,!1))];case 8:return o.sent(),[3,9];case 9:return[2]}}))},zs);function lc(e){var t;return Zs(this,(function(r){switch(r.label){case 0:return(t=uc[e.type])?[4,Object(Ge.c)(t,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}var fc=[Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.addEditorAsset,tc)];case 1:return e.sent(),[2]}}))}),"addEditorAsset"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.addProfilePicture,rc)];case 1:return e.sent(),[2]}}))}),"addProfilePicture"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.addSpaceIconPicture,nc)];case 1:return e.sent(),[2]}}))}),"addSpaceIconPicture"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.addEditorAssetFromDownload,ec)];case 1:return e.sent(),[2]}}))}),"addEditorAssetFromDownload"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.newImageFromDownload,$s)];case 1:return e.sent(),[2]}}))}),"newImageFromDownload"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.requestShareViaEmail,sc)];case 1:return e.sent(),[2]}}))}),"shareViaEmail"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.facebookShare,ja)];case 1:return e.sent(),[2]}}))}),"facebookShare"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.facebookAdsManagerShare,xa)];case 1:return e.sent(),[2]}}))}),"facebookAdsManagerShare"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.facebookLogin,ua)];case 1:return e.sent(),[2]}}))}),"facebookLogin"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.facebookSocialLogin,fa)];case 1:return e.sent(),[2]}}))}),"facebookSocialLogin"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.facebookSocialConnect,pa)];case 1:return e.sent(),[2]}}))}),"facebookSocialConnect"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.facebookSignUp,la)];case 1:return e.sent(),[2]}}))}),"facebookSignUp"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.facebookLogout,da)];case 1:return e.sent(),[2]}}))}),"facebookLogout"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchFacebookAlbums,Pa)];case 1:return e.sent(),[2]}}))}),"requestFacebookAlbums"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchFacebookAlbumPhotos,_a)];case 1:return e.sent(),[2]}}))}),"requestFacebookAlbumPhotos"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchFacebookStatus,ba)];case 1:return e.sent(),[2]}}))}),"requestFacebookStatus"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.fetchFacebookPermissions,Ia)];case 1:return e.sent(),[2]}}))}),"getFacebookPermissions"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.requestShareLink,cc)];case 1:return e.sent(),[2]}}))}),"createShareLink"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.requestDropboxLogin,Wo)];case 1:return e.sent(),[2]}}))}),"dropboxLogin"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.dropboxLogout,Bo)];case 1:return e.sent(),[2]}}))}),"dropboxLogout"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchDropboxAccount,Vo)];case 1:return e.sent(),[2]}}))}),"fetchDropboxAccount"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchDropboxFolder,Xo)];case 1:return e.sent(),[2]}}))}),"fetchDropboxFolder"),Object(qe.b)((function(){return Va(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.flickrLogin,es)];case 1:return e.sent(),[2]}}))}),"flickrLogin"),Object(qe.b)((function(){return Va(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.fetchFlickrAlbums,ns)];case 1:return e.sent(),[2]}}))}),"fetchFlickrAlbums"),Object(qe.b)((function(){return Va(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.fetchFlickrAlbumPhotos,os)];case 1:return e.sent(),[2]}}))}),"fetchFlickrAlbumPhotos"),Object(qe.b)((function(){return Va(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.fetchFlickrTopLevelPhotos,ts)];case 1:return e.sent(),[2]}}))}),"fetchFlickrTopLevelPhotos"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.instantiateMSAL,Ca)];case 1:return e.sent(),[2]}}))}),"instantiateMSAL"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.instantiateMSALAndLogout,Ua)];case 1:return e.sent(),[2]}}))}),"instantiateMSALAndLogout"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.requestOnedriveLogin,Ya)];case 1:return e.sent(),[2]}}))}),"requestOnedriveLogin"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchOnedriveAccount,za)];case 1:return e.sent(),[2]}}))}),"requestOnedriveAccount"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.onedriveLogout,Ra)];case 1:return e.sent(),[2]}}))}),"onedriveLogout"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchOnedriveFolder,Ha)];case 1:return e.sent(),[2]}}))}),"fetchOnedriveFolder"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchOnedriveMoreFolderContents,Wa)];case 1:return e.sent(),[2]}}))}),"fetchOnedriveMoreFolderContents"),Object(qe.b)((function(){return qs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.twitterLogin,Bs)];case 1:return e.sent(),[2]}}))}),"twitterLogin"),Object(qe.b)((function(){return qs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.twitterShare,Ys)];case 1:return e.sent(),[2]}}))}),"twitterShare"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.googleSocialLogin,is)];case 1:return e.sent(),[2]}}))}),"googleSocialLogin"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.googleSocialLogout,ls)];case 1:return e.sent(),[2]}}))}),"googleSocialLogout"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.googleSocialSignUp,fs)];case 1:return e.sent(),[2]}}))}),"googleSocialSignUp"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.l)(x.a.googleSocialConnect,ds)];case 1:return e.sent(),[2]}}))}),"googleSocialConnect"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchGooglePhotosMedia,gs)];case 1:return e.sent(),[2]}}))}),"fetchGooglePhotosMedia"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchGoogleUserProfile,us)];case 1:return e.sent(),[2]}}))}),"fetchGoogleUserProfile"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchGoogleDriveMedia,ms)];case 1:return e.sent(),[2]}}))}),"fetchGoogleDriveMedia"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.requestPermissionToShare,vs)];case 1:return e.sent(),[2]}}))}),"requestPermissionToShare"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.googleDriveShare,ys)];case 1:return e.sent(),[2]}}))}),"googleDriveShareSaga"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.googlePhotosShare,ys)];case 1:return e.sent(),[2]}}))}),"googlePhotosShareSaga"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.requestInstagramLogin,Ds)];case 1:return e.sent(),[2]}}))}),"instagramLogin"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchInstagramAccount,As)];case 1:return e.sent(),[2]}}))}),"instagramUserProfile"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.fetchInstagramMedia,Cs)];case 1:return e.sent(),[2]}}))}),"fetchInstagramMedia"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.instagramLogout,Ts)];case 1:return e.sent(),[2]}}))}),"instagramLogout"),Object(qe.b)((function(){return Us(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.tumblrLogin,Gs)];case 1:return e.sent(),[2]}}))}),"tumblrLogin"),Object(qe.b)((function(){return Us(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(ge.a.tumblrShare,Rs)];case 1:return e.sent(),[2]}}))}),"tumblrShare"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(Object.keys(uc),lc)];case 1:return e.sent(),[2]}}))}),"youTubeSaga"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.appleSocialLogin,Ta)];case 1:return e.sent(),[2]}}))}),"appleSocialLoginSaga"),Object(qe.b)((function(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.k)(x.a.appleSocialConnect,Ea)];case 1:return e.sent(),[2]}}))}),"appleSocialConnectSaga")];function pc(){return Zs(this,(function(e){switch(e.label){case 0:return[4,Object(Ge.b)(fc.map((function(e){return Object(Ge.i)(qe.a,e)})))];case 1:return e.sent(),[2]}}))}var dc=r("8af190b70a6bc55c6f1b"),bc=r("0a81c721557e72a0975d"),hc=r("00fb7fb562cda5715a9f"),gc=r.n(hc);function mc(){return dc.createElement("div",{className:gc.a.facebook_not_supported_message},dc.createElement("p",null,Object(cn.b)("Because of changes Facebook made, PicMonkey can't open images directly from their site."),dc.createElement("br",null),Object(cn.b)("Save your Facebook images to your computer, and open from there.")))}var vc=r("b912ecc4473ae8a2ff0b"),yc=r("ab58cd43ba9e34b8e4f0"),Oc=r.n(yc),Sc=r("cb6cb7519fede88df01b"),wc=r.n(Sc),jc=r("551b88718ac7ec8b14ab"),xc=r("41c43e9d9f856ad6cac8");function kc(e){var t=e.photo,r=e.selectPhoto,n=e.isSelected,o=e.openPhoto,a={backgroundImage:t.b64Thumbnail?'url("data:application/octet-stream;base64,'+t.b64Thumbnail+'")':'url("'+t.thumbnail+'")'};return dc.createElement("div",{onDoubleClick:function(e){o(t)},onClick:function(e){e.detail>1||r(t)},className:vc(wc.a.card,wc.a.photo,n?wc.a.card_selected:""),key:t.id},dc.createElement("div",{className:wc.a.overlay},dc.createElement("div",{className:wc.a.overlay_title},t.name?t.name:""),function(e){return e?dc.createElement(jc.default,{className:wc.a.overlay_icon}):dc.createElement(xc.default,{className:wc.a.overlay_icon})}(n)),dc.createElement("div",{style:a,className:wc.a.photo_image}))}function Pc(e){var t=e.folder,r=e.openFolder,n={backgroundImage:"url("+t.thumbnail+")"};return dc.createElement("div",{className:vc(wc.a.card,wc.a.folder),onClick:function(){var e=t.id,n=t.path;r(n||e)},key:t.id},dc.createElement("div",{className:wc.a.overlay}),dc.createElement("div",{className:wc.a.folder_image,style:n}),dc.createElement("div",{className:wc.a.folder_name},t.name))}var _c=r("944c5c8c9b946f4dcfe3"),Ic=r.n(_c),Lc=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Source=function(e,t,r,n,o,a){return dc.createElement("div",{className:Ic.a.errorScreen,key:e},dc.createElement("div",{className:Ic.a.userInfo},a),dc.createElement("div",{className:Ic.a.sourceTitle},n(o)),dc.createElement(Ws.s,{onClick:t},r(o)))},t}return Lc(t,e),t.prototype.render=function(){var e=this,r=this.props,n=r.action,o=r.screenIndex,a=r.sourceSlug,s=r.profileInfo,c=t.ErrorScreenType[o].getActionLabel,i=t.ErrorScreenType[o].getMessage;return t.SourceData.map((function(t){if(0===t.slug.localeCompare(a))return e.Source(t.slug,n,c,i,t.title,s)}))},t.SourceData=[{slug:"drop_box",title:Object(cn.b)("Dropbox")},{slug:"facebook",title:Object(cn.b)("Facebook")},{slug:"one_drive",title:Object(cn.b)("OneDrive")},{slug:"flickr",title:Object(cn.b)("Flickr")},{slug:"instagram",title:Object(cn.b)("Instagram")},{slug:"google_photos",title:Object(cn.b)("Google Photos")},{slug:"google_drive",title:Object(cn.b)("Google Drive")},{slug:"youtube_videos",title:Object(cn.b)("YouTube")},{slug:"youtube_channels",title:Object(cn.b)("YouTube")}],t.ErrorScreenType=[{getMessage:function(e){return Object(cn.b)("Connect to your "+e+" account so you can open images directly from "+e+".")},getActionLabel:function(e){return Object(cn.b)("Connect to "+e)}},{getMessage:function(e){return Object(cn.b)("You need to give PicMonkey access to your "+e+" photos.")},getActionLabel:function(){return Object(cn.b)("Give permission")}}],t}(dc.Component),Ec=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigateToSource=function(){var e=t.props,r=e.rootPath;(0,e.dispatchNavigateToFolder)(r,e.sourceSlug)},t.navigateToFolder=function(e){var r=t.props,n=r.rootPath;(0,r.dispatchNavigateToFolder)(n,r.sourceSlug,e)},t.renderBreadcrumbs=function(){var e=t.props,r=e.currentSelectedItem,n=e.sourceSlug,o=e.breadcrumbs;return o&&o.length>1?dc.createElement(dc.Fragment,null,o.map((function(e,r){return r===o.length-1?null:e.id?dc.createElement("div",{key:e.id,className:wc.a.header_back_link,onClick:Object(Pe.partial)(t.navigateToFolder,e.id)},decodeURIComponent(e.name)):dc.createElement("div",{key:"grid_breadcrumb_root",className:wc.a.header_back_link,onClick:t.navigateToSource},Object(cn.b)("All "+un(n)))}))):dc.createElement("div",{className:wc.a.header_back_link,onClick:t.navigateToSource},r?Object(cn.b)("All "+un(n)):"")},t.renderContentHeader=function(){var e=t.props,r=e.currentSelectedItem,n=e.sourceSlug;return dc.createElement("div",{className:wc.a.header},t.renderBreadcrumbs(),dc.createElement("div",{className:wc.a.header_title},r?r.name:un(n)))},t.renderUser=function(){var e=t.props,r=e.userProfile,n=e.logout;return dc.createElement("div",{className:wc.a.header_user},dc.createElement("img",{src:r?r.profilePicture:"",alt:"",className:wc.a.header_image}),dc.createElement("div",null,dc.createElement("div",{className:wc.a.header_username},r?r.name:""),dc.createElement("div",{className:wc.a.header_link},dc.createElement("a",{onClick:n},Object(cn.b)("Not you? Disconnect")))))},t.renderFilled=function(){var e=t.props.items;return dc.createElement(dc.Fragment,null,dc.createElement("div",{className:wc.a.header_container},t.renderContentHeader(),t.renderUser()),t.renderFolders(e.folders),t.renderPhotos(e.images))},t.renderFolders=function(e){var r=t.props.onScrolledToLastFolder;return e&&0!==e.length?dc.createElement("div",{className:wc.a.card_wrapper},e.map((function(n,o){var a=o+1===e.length,s=n.path?n.path:n.id,c=dc.createElement(Pc,{key:n.id,folder:n,openFolder:Object(Pe.partial)(t.navigateToFolder,s)});return a&&r?dc.createElement(Oc.a,{key:n.id,onChange:t.handleLastFolderVisibilityChanged},c):c}))):null},t.handleLastPhotoVisibilityChanged=function(e){var r=t.props.onScrolledToLastPhoto;e&&r&&r()},t.handleLastFolderVisibilityChanged=function(e){var r=t.props.onScrolledToLastFolder;e&&r&&r()},t.renderPhotos=function(e){var r=t.props,n=r.onSelectPhoto,o=r.selectedPhoto,a=r.onScrolledToLastPhoto,s=r.onOpenPhoto;return e&&0!==e.length?dc.createElement("div",{className:vc(wc.a.card_wrapper,wc.a.photo_wrapper)},e.map((function(r,c){var i=c+1===e.length,u=void 0!==o&&r.id===o.id,l=dc.createElement(kc,{key:r.id,photo:r,selectPhoto:n,isSelected:u,openPhoto:s});return i&&a?dc.createElement(Oc.a,{key:r.id,onChange:t.handleLastPhotoVisibilityChanged},l):l}))):null},t}return Ec(t,e),t.prototype.renderLoggedOut=function(){var e=this.props,t=e.login,r=e.sourceSlug;return dc.createElement(Tc,{action:t,sourceSlug:r,screenIndex:Xe.c.loggedOut})},t.prototype.renderNoPermission=function(){var e=this.props,t=e.login,r=e.sourceSlug;return dc.createElement(Tc,{action:t,sourceSlug:r,screenIndex:Xe.c.missingPermission,profileInfo:this.renderUser()})},t.prototype.renderLoading=function(){return dc.createElement(Ws.lb,null)},t.prototype.renderEmpty=function(){return dc.createElement("div",null,dc.createElement("div",{className:wc.a.header_container},this.renderContentHeader(),this.renderUser()),dc.createElement("h2",null,Object(cn.b)("Nothing to see here...")))},t.prototype.render=function(){var e=this.props.gridStatus;return e===Xe.a.loading?this.renderLoading():e===Xe.a.loggedOut?this.renderLoggedOut():e===Xe.a.noPermission?this.renderNoPermission():e===Xe.a.empty?this.renderEmpty():this.renderFilled()},t}(dc.Component);var Dc=Object(bc.b)((function(e,t){var r=Oo(e,t.sourceSlug);return{currentSelectedItem:So(e),gridStatus:r}}),(function(e,t){return{dispatchNavigateToFolder:function(r,n,o){t.onSelectPhoto(null);var a=o?r+"/"+n+"/"+o:r+"/"+n;e(x.b.router.push(a)),o||setTimeout((function(){return e(x.b.resetSelectedItem())}))}}}))(Fc),Ac=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ac(t,e),t.prototype.componentDidMount=function(){this.props.dispatchClearItems(),this.props.userProfile&&this.props.dispatchRequestFolder(this.props.folderId),this.boundHandleLocalStorageEvent=this.handleLocalStorageEvent.bind(this),window.addEventListener("storage",this.boundHandleLocalStorageEvent),this.handleLocalStorageEvent()},t.prototype.componentWillUnmount=function(){this.props.dispatchClearItems(),window.removeEventListener("storage",this.boundHandleLocalStorageEvent)},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.userProfile,n=t.userId,o=t.folderId,a=t.dispatchRequestAccount,s=t.dispatchRequestFolder,c=r&&!e.userProfile;n&&!r&&a(),(c||o!==e.folderId)&&s(o)},t.prototype.handleLocalStorageEvent=function(){var e=Object(Bt.a)(qo);e&&e.account_id&&e.access_token&&this.props.dispatchPutAccountDetails({userId:e.account_id,accessToken:e.access_token})},t.prototype.render=function(){var e=this.props,t=e.rootPath,r=e.folderId,n=e.onSelectPhoto,o=e.selectedPhoto,a=e.onOpenPhoto,s=e.items,c=e.userProfile,i=e.dispatchLogin,u=e.dispatchLogout,l=e.currentSelectedItem;return dc.createElement(Dc,{sourceSlug:Xe.b.dropbox,rootPath:t,folderId:r,onSelectPhoto:n,selectedPhoto:o,onOpenPhoto:a,items:s,userProfile:c,login:i,logout:u,breadcrumbs:ln(l)})},t}(dc.Component);var Uc=Object(bc.b)((function(e){var t=fn(e),r=hn(e),n=pn(e);return{items:t.items,userProfile:r,userId:n?n.userId:null,currentSelectedItem:So(e)}}),(function(e){return{dispatchLogin:function(){var t=Ct(Xe.b.dropbox);e(x.b.user.setOAuthRequestState(t)),e(x.b.requestDropboxLogin(t))},dispatchPutAccountDetails:function(t){e(x.b.putDropboxAccountCredentials(t))},dispatchRequestFolder:function(t){e(x.b.fetchDropboxFolder(t))},dispatchLogout:function(){e(x.b.dropboxLogout())},dispatchRequestAccount:function(){e(x.b.fetchDropboxAccount())},dispatchClearItems:function(){e(x.b.putDropboxClearItems())}}}))(Cc),Mc=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLoginRequested=function(){t.props.dispatchLogin(!1)},t.handleScrolledToLastPhoto=function(){var e=t.props,r=e.canLoadMorePhotos,n=e.dispatchLoadMorePhotos,o=e.photoPagination,a=e.folderId;r&&a&&n(a,o.page+1,o.perPage)},t.handleScrolledToLastFolder=function(){var e=t.props,r=e.canLoadMoreFolders,n=e.dispatchLoadMoreFolders,o=e.albumPagination;r&&n(o.page+1,o.perPage)},t}return Mc(t,e),t.prototype.componentDidMount=function(){this.props.dispatchLogin(!0),this.props.dispatchRequestFolderContent(this.props.folderId)},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.folderId,n=t.dispatchRequestFolderContent,o=t.userProfile,a=!e.userProfile&&o,s=r!==e.folderId;(a||s)&&n(r)},t.prototype.componentWillUnmount=function(){this.props.dispatchClearItems()},t.prototype.render=function(){var e=this.props,t=e.rootPath,r=e.folderId,n=e.onSelectPhoto,o=e.selectedPhoto,a=e.onOpenPhoto,s=e.items,c=e.userProfile,i=e.dispatchLogout;return dc.createElement(Dc,{sourceSlug:Xe.b.flickr,rootPath:t,folderId:r,onSelectPhoto:n,selectedPhoto:o,onOpenPhoto:a,items:s,userProfile:c,login:this.handleLoginRequested,logout:i,onScrolledToLastPhoto:this.handleScrolledToLastPhoto,onScrolledToLastFolder:this.handleScrolledToLastFolder})},t}(dc.Component);var Rc=Object(bc.b)((function(e){var t=Fn(e),r=An(e),n=Mn(e),o=Gn(e),a=Cn(e),s=Un(e),c=So(e);return{items:t.items,userProfile:r,canLoadMorePhotos:n,canLoadMoreFolders:o,photoPagination:a,albumPagination:s,currentSelectedItem:c}}),(function(e,t){return{dispatchLogin:function(t){return e(x.b.flickrLogin(t))},dispatchRequestFolderContent:function(t){t?e(x.b.fetchFlickrFolderPhotos(t)):(e(x.b.fetchFlickrFolders()),e(x.b.resetSelectedItem()))},dispatchLogout:function(){Object(Bt.b)(Wt,!0),t.onSelectPhoto(null),e(x.b.flickrLogout()),e(x.b.router.replace(Object(sn.f)("/create/external/flickr")))},dispatchClearItems:function(){return e(x.b.clearFlickrItems())},dispatchLoadMorePhotos:function(t,r,n){e(t?x.b.fetchFlickrFolderPhotos(t,r,n):x.b.fetchFlickrTopLevelPhotos(r,n))},dispatchLoadMoreFolders:function(t,r){return e(x.b.fetchFlickrFolders(t,r))}}}))(Gc),qc=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nc=[or.b,Xe.b.onedrive],Bc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qc(t,e),t.prototype.componentDidMount=function(){this.props.dispatchInstantiateMSAL()},t.prototype.componentWillUnmount=function(){this.props.dispatchClearItems(),this.props.dispatchClearUserData()},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.userProfile,n=t.accessToken,o=t.folderId,a=t.dispatchRequestAccount,s=t.dispatchRequestFolder,c=!e.userProfile&&r;n&&!r&&a(),(c||o!==e.folderId)&&s(o)},t.prototype.render=function(){var e=this.props,t=e.rootPath,r=e.folderId,n=e.onSelectPhoto,o=e.selectedPhoto,a=e.onOpenPhoto,s=e.items,c=e.userProfile,i=e.dispatchLogin,u=e.dispatchLogout,l=e.currentSelectedItem;return dc.createElement(Dc,{sourceSlug:Xe.b.onedrive,rootPath:t,folderId:r,onSelectPhoto:n,selectedPhoto:o,onOpenPhoto:a,items:s,userProfile:c,login:i,logout:u,breadcrumbs:ln(l)})},t}(dc.Component);var Yc=Object(bc.b)((function(e){var t=In(e),r=Tn(e),n=Ln(e);return{items:t.items,userProfile:r,accessToken:n?n.accessToken:null,userId:n?n.userId:null,currentSelectedItem:So(e)}}),(function(e){return{dispatchInstantiateMSAL:function(){e(x.b.instantiateMSAL())},dispatchLogin:function(){var t=Ct(Xe.b.onedrive);e(x.b.user.setOAuthRequestState(t)),e(x.b.requestOnedriveLogin(t))},dispatchRequestFolder:function(t){e(x.b.fetchOnedriveFolder(t))},dispatchLogout:function(){Object(Bt.b)(Nc),e(x.b.resetSelectedItem()),e(x.b.onedriveLogout())},dispatchRequestAccount:function(){e(x.b.fetchOnedriveAccount())},dispatchClearItems:function(){e(x.b.putOnedriveClearItems())},dispatchClearUserData:function(){e(x.b.putOnedriveLoginStatus(null)),e(x.b.putOnedriveUserProfile(null))}}}))(Bc),zc=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScrolledToLastPhoto=function(){var e=t.props,r=e.pagination.next_max_id,n=e.dispatchLoadMorePhotos;r&&n(r)},t}return zc(t,e),t.prototype.componentDidMount=function(){this.props.dispatchClearItems(),this.props.userProfile&&this.props.dispatchRequestFolder(this.props.folderId),this.boundHandleLocalStorageEvent=this.handleLocalStorageEvent.bind(this),window.addEventListener("storage",this.boundHandleLocalStorageEvent),this.handleLocalStorageEvent()},t.prototype.componentWillUnmount=function(){this.props.dispatchClearItems(),window.removeEventListener("storage",this.boundHandleLocalStorageEvent)},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.userProfile,n=t.folderId,o=t.dispatchRequestAccount,a=t.dispatchRequestFolder,s=r&&!e.userProfile;r||o(),(s||n!==e.folderId)&&a(n)},t.prototype.handleLocalStorageEvent=function(){var e=Object(Bt.a)(Ar);e&&e.access_token&&this.props.dispatchPutAccountDetails({userId:"",accessToken:e.access_token})},t.prototype.render=function(){var e=this.props,t=e.rootPath,r=e.folderId,n=e.onSelectPhoto,o=e.selectedPhoto,a=e.onOpenPhoto,s=e.items,c=e.userProfile,i=e.dispatchLogin,u=e.dispatchLogout,l=e.currentSelectedItem;return dc.createElement(Dc,{sourceSlug:Xe.b.instagram,rootPath:t,folderId:r,onSelectPhoto:n,selectedPhoto:o,onOpenPhoto:a,items:s,userProfile:c,login:i,logout:u,breadcrumbs:ln(l),onScrolledToLastPhoto:this.handleScrolledToLastPhoto})},t}(dc.Component);var Wc=Object(bc.b)((function(e){var t=Jn(e),r=function(e){return Jn(e).userProfile}(e),n=function(e){var t=Jn(e);return t.instagramLoginState&&t.instagramLoginState.authResponse}(e);return{items:t.items,userProfile:r,userId:n?n.userId:null,currentSelectedItem:So(e),pagination:t.pagination}}),(function(e){return{dispatchLogin:function(){var t=Ct(Xe.b.instagram);e(x.b.user.setOAuthRequestState(t)),e(x.b.requestInstagramLogin(t))},dispatchPutAccountDetails:function(t){e(x.b.putInstagramAccountCredentials(t))},dispatchRequestFolder:function(t){e(x.b.fetchInstagramMedia(t))},dispatchLogout:function(){e(x.b.instagramLogout())},dispatchRequestAccount:function(){e(x.b.fetchInstagramAccount())},dispatchClearItems:function(){e(x.b.putInstagramClearItems())},dispatchLoadMorePhotos:function(t){e(x.b.fetchInstagramMedia(t))}}}))(Hc),Vc=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.login=function(){(0,t.props.dispatchLogin)()},t.handleScrolledToLastPhoto=function(){var e=t.props,r=e.nextPageToken,n=e.dispatchLoadMorePhotos;r&&n(r)},t}return Vc(t,e),t.prototype.componentDidMount=function(){this.props.dispatchClearItems(),this.props.userProfile&&this.props.hasPermissions?this.props.dispatchRequestMedia():this.props.dispatchRequestProfile()},t.prototype.componentWillUnmount=function(){this.props.dispatchClearItems()},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.userProfile,n=t.dispatchRequestMedia,o=t.hasPermissions,a=r&&!e.userProfile,s=o&&!e.hasPermissions;(a&&o||s&&r)&&n()},t.prototype.render=function(){var e=this.props,t=e.rootPath,r=e.onSelectPhoto,n=e.selectedPhoto,o=e.onOpenPhoto,a=e.items,s=e.userProfile,c=e.dispatchLogout,i=e.hasPermissions;return dc.createElement(Dc,{sourceSlug:Xe.b.googlePhotos,rootPath:t,onSelectPhoto:r,selectedPhoto:n,onOpenPhoto:o,items:a,userProfile:s,login:this.login,logout:c,onScrolledToLastPhoto:this.handleScrolledToLastPhoto,hasPermissions:i})},t}(dc.Component);var Jc=Object(bc.b)((function(e){var t=to(e),r=ao(e),n=so(e,me.requiredScopesForPhotos);return{items:t.items,nextPageToken:t.nextPageToken,userProfile:r,hasPermissions:n}}),(function(e){return{dispatchLogin:function(){e(x.b.googleSocialLogin(!1,me.requiredScopesForPhotos))},dispatchRequestProfile:function(){e(x.b.fetchGoogleUserProfile())},dispatchRequestMedia:function(){e(x.b.fetchGooglePhotosMedia())},dispatchClearItems:function(){e(x.b.putGooglePhotosClearItems())},dispatchLogout:function(){e(x.b.googleSocialLogout())},dispatchLoadMorePhotos:function(t){e(x.b.fetchGooglePhotosMedia(t))}}}))(Xc),Qc=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.login=function(){(0,t.props.dispatchLogin)()},t.handleScrolledToLastPhoto=function(){var e=t.props,r=e.nextPageToken,n=e.dispatchLoadMoreDrive,o=e.folderId;r&&n(r,o||"")},t.handleOpenPhoto=function(e){var r=t.props,n=r.googleLoginState,o=r.onOpenPhoto,a=r.dispatchLogout;n&&n.expires_at>Date.now()?o(e):a()},t}return Qc(t,e),t.prototype.componentDidMount=function(){this.props.dispatchClearItems(),this.props.userProfile&&this.props.hasPermissions?this.props.dispatchRequestMedia(this.props.folderId||""):this.props.dispatchRequestProfile()},t.prototype.componentWillUnmount=function(){this.props.dispatchClearItems()},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.userProfile,n=t.dispatchRequestMedia,o=t.folderId,a=t.hasPermissions,s=r&&!e.userProfile,c=a&&!e.hasPermissions,i=o!==e.folderId;(s&&a||c&&r||r&&a&&i)&&n(o||"")},t.prototype.render=function(){var e=this.props,t=e.rootPath,r=e.onSelectPhoto,n=e.selectedPhoto,o=e.items,a=e.userProfile,s=e.dispatchLogout,c=e.folderId,i=e.currentSelectedItem,u=e.hasPermissions;return dc.createElement(Dc,{sourceSlug:Xe.b.googleDrive,folderId:c,rootPath:t,onSelectPhoto:r,selectedPhoto:n,onOpenPhoto:this.handleOpenPhoto,items:o,userProfile:a,login:this.login,logout:s,hasPermissions:u,onScrolledToLastPhoto:this.handleScrolledToLastPhoto,breadcrumbs:ln(i)})},t}(dc.Component);var Kc=Object(bc.b)((function(e){var t=ro(e),r=fo(e),n=ao(e),o=so(e,me.requiredScopesForDrive);return{items:t.items,nextPageToken:t.nextPageToken,userProfile:n,currentSelectedItem:So(e),hasPermissions:o,googleLoginState:r}}),(function(e){return{dispatchLogin:function(){e(x.b.googleSocialLogin(!1,me.requiredScopesForDrive))},dispatchRequestProfile:function(){e(x.b.fetchGoogleUserProfile())},dispatchRequestMedia:function(t){void 0===t&&(t=""),e(x.b.fetchGoogleDriveMedia("",t))},dispatchClearItems:function(){e(x.b.putGoogleDriveClearItems())},dispatchLogout:function(){e(x.b.googleSocialLogout())},dispatchLoadMoreDrive:function(t,r){void 0===t&&(t=""),void 0===r&&(r=""),e(x.b.fetchGoogleDriveMedia(t,r))}}}))(Zc),$c=r("efad49f4b74ab2e2f9d9"),ei=r("cdaeb0640bbf6dd5e7c3"),ti=r("f738bf341d317fc83e34"),ri=r("7a91e7f6959596fe8721"),ni=r("0b1ed66adde52aa4e610"),oi=r("ea4a5da533295a47ad3c"),ai=r("917fd0b31efe3b3f818e"),si=r("7ce68d119ad44a131245"),ci=r("89dd9e90fef699789489"),ii=r("c7fb4c22fc542c4ffd68"),ui=r("80a9b41d5cbaef3b7daf"),li=r("84822891718313fd9a73"),fi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Source=function(e,r,n,o){var a=[Ic.a.sourceWrapper],s=t.props,c=s.sourceSlug,i=s.setSource,u=s.rootPath,l=s.returnPath;e===c&&a.push(Ic.a.active);return dc.createElement("div",{key:e,className:vc(a),onClick:function(){return i(u,e,l)}},dc.createElement("div",{className:Ic.a.source_icon},n),dc.createElement("div",{className:Ic.a.inactive_source_icon},o),dc.createElement("div",null,r))},t}return fi(t,e),t.prototype.render=function(){var e=this,r=this.props.showFacebook;return dc.createElement("div",{className:Ic.a.externalSourcesPicker},t.PickerData.filter((function(e){return r||e.slug!==Xe.b.facebook})).map((function(t){return e.Source(t.slug,t.title,t.sourceIcon,t.inactiveSourceIcon)})))},t.PickerData=[{slug:Xe.b.dropbox,title:Object(cn.b)("Dropbox"),sourceIcon:dc.createElement(ei.default,{height:30,width:30}),inactiveSourceIcon:dc.createElement(si.default,{height:30,width:30})},{slug:Xe.b.facebook,title:Object(cn.b)("Facebook"),sourceIcon:dc.createElement($c.default,{height:30,width:30}),inactiveSourceIcon:dc.createElement(ai.default,{height:30,width:30})},{slug:Xe.b.onedrive,title:Object(cn.b)("OneDrive"),sourceIcon:dc.createElement(ri.default,{height:30,width:30}),inactiveSourceIcon:dc.createElement(ii.default,{height:30,width:30})},{slug:Xe.b.flickr,title:Object(cn.b)("Flickr"),sourceIcon:dc.createElement(ti.default,{height:30,width:30}),inactiveSourceIcon:dc.createElement(ci.default,{height:30,width:30})},{slug:Xe.b.googlePhotos,title:Object(cn.b)("Google Photos"),sourceIcon:dc.createElement(ni.default,{height:30,width:30}),inactiveSourceIcon:dc.createElement(ui.default,{height:30,width:30})},{slug:Xe.b.googleDrive,title:Object(cn.b)("Google Drive"),sourceIcon:dc.createElement(oi.default,{height:30,width:30}),inactiveSourceIcon:dc.createElement(li.default,{height:30,width:30})}],t}(dc.Component);var di=Object(bc.b)((function(e){var t=Object(gn.Z)(e);return{rootPath:t.slice(0,t.indexOf("/external"))+"/external",showFacebook:yn(e)}}),(function(e){return{setSource:function(t,r,n){var o=t+"/"+r,a=n?Object(Er.c)(o,{r:n}):o;e(an.b.router.push(a))}}}))(pi),bi=r("995125fddc4c1688a676"),hi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gi=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,c)}i((n=n.apply(e,t||[])).next())}))},mi=function(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},vi={dropbox:Object(cn.b)("Dropbox"),facebook:Object(cn.b)("Facebook"),onedrive:Object(cn.b)("OneDrive"),flickr:Object(cn.b)("Flickr"),instagram:Object(cn.b)("Instagram"),googlePhoto:Object(cn.b)("Google Photos"),googleDrive:Object(cn.b)("Google Drive")},yi=function(e){function t(t){var r=e.call(this,t)||this;return r.showNotImplemented=function(){return r.props.showDialog(Ko.a.notYetImplemented)},r.renderGrid=function(){var e=r.props,t=e.createPath,n=e.sourceSlug,o=e.folderId,a=e.canSeeFacebook,s=r.state.selectedItem;switch(n){case Xe.b.facebook:return a?dc.createElement(mc,null):dc.createElement(sn.b,{to:Object(sn.f)("")});case Xe.b.flickr:return dc.createElement(Rc,{rootPath:t+"/external",sourceSlug:Xe.b.flickr,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:s,onOpenPhoto:r.handleOpenPhoto});case Xe.b.dropbox:return dc.createElement(Uc,{rootPath:t+"/external",sourceSlug:Xe.b.dropbox,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:s,onOpenPhoto:r.handleOpenPhoto});case Xe.b.onedrive:return dc.createElement(Yc,{rootPath:t+"/external",sourceSlug:Xe.b.onedrive,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:s,onOpenPhoto:r.handleOpenPhoto});case Xe.b.instagram:return dc.createElement(Wc,{rootPath:t+"/external",sourceSlug:Xe.b.instagram,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:s,onOpenPhoto:r.handleOpenPhoto});case Xe.b.googlePhotos:return dc.createElement(Jc,{rootPath:t+"/external",sourceSlug:Xe.b.googlePhotos,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:s,onOpenPhoto:r.handleOpenPhoto});case Xe.b.googleDrive:return dc.createElement(Kc,{rootPath:t+"/external",sourceSlug:Xe.b.googleDrive,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:s,onOpenPhoto:r.handleOpenPhoto});default:return dc.createElement(Tc,{screenIndex:Xe.c.loggedOut,sourceSlug:n,action:r.showNotImplemented})}},r.selectPhoto=function(e){r.setState((function(t){var r=t.selectedItem;return e?{selectedItem:r&&e.id===r.id?void 0:e}:{selectedItem:void 0}}))},r.handleLoadDocument=function(e,t){var n=r.props,o=n.openPhoto,a=n.requestImage,s=n.nameItDialogContext.collectionId,c=r.state.selectedItem,i=void 0===t?s:t;e&&0!==e.length||(e=Object(cn.b)("Image from "+vi[r.props.sourceSlug])),c&&c.photoUrl?o(c.photoUrl,r.props.sourceSlug,e,i):c&&c.id?a({id:c.id,sourceSlug:r.props.sourceSlug,name:e,path:c.path,collectionId:i}):console.error("unable to open image")},r.handleClickClose=function(){var e=r.props,t=e.createPath,n=e.returnPath;(0,e.close)(t+"/sources",n)},r.logGaEvent=function(e,t,r){e&&(e===ra.u.collage?Object(bi.a)({category:e,action:ra.l.cellReplacePalette,label:t}):Object(bi.a)({category:e,action:t,label:r}))},r.handleOpenPhoto=function(e){var t=r.props,n=t.createPath,o=t.isAddAssetRoute,a=t.addEditorAsset,s=t.addEditorAssetFromDownload,c=t.close,i=t.returnPath,u=t.sourceSlug,l=t.matcher,f=t.isAccountRoute,p=t.isAddSpaceIconRoute,d=t.spaceId,b=t.displayProfileDialog,h=t.displaySpaceIconDialog,g=t.uploader,m=t.requestImage,v=t.collectionId,y=Object(Hs.c)(n);if(e){g&&i&&Object(Hs.i)(i)?e.photoUrl?u===Xe.b.googlePhotos||u===Xe.b.googleDrive?m({id:e.id,sourceSlug:r.props.sourceSlug,name:e.name,path:e.photoUrl,collectionId:v,nextUploader:g}):g({imageUrl:e.photoUrl,type:Co.c.image}):m({id:e.id,sourceSlug:r.props.sourceSlug,name:e.name,path:e.path,collectionId:v,nextUploader:g}):o?(e.photoUrl?f?b(e.photoUrl,e.name,u):p?h(e.photoUrl,u,d):a(e.photoUrl,e.name||e.id,y,u):s(e.id,e.name||e.id,y,u),c("",i)):r.createDocument(e);var O=null;"/add-overlay"===l?O=ra.u.overlayAdd:"/replace-overlay"===l?O=ra.u.overlayReplace:"/replace-cell"===l&&(O=ra.u.collage),r.logGaEvent(O,u,Object(ta.b)(e.name))}},r.getTitle=function(){switch(r.props.matcher){case"/replace-overlay":return Object(cn.b)("Replace image");case"/replace-background":return Object(cn.b)("Replace");case"/add-texture":return Object(cn.b)("Open a texture");case"/replace-texture":return Object(cn.b)("Replace texture");default:return Object(cn.b)("Open a photo")}},r.getCTALabel=function(){var e=r.props.matcher;return~["/replace-overlay","/replace-texture","/replace-background"].indexOf(e)?Object(cn.b)("Replace"):Object(cn.b)("Open")},r.handleClickOpen=function(e){e.stopPropagation(),e.preventDefault();var t=r.state.selectedItem;r.handleOpenPhoto(t||null)},r.state={selectedItem:void 0,sourceSlug:void 0},r}return hi(t,e),t.getDerivedStateFromProps=function(e,t){return e.sourceSlug!==t.sourceSlug?{sourceSlug:e.sourceSlug,selectedItem:void 0}:null},t.prototype.createDocument=function(e){var t=e.name;this.handleLoadDocument(t,this.props.nameItDialogContext.collectionId)},t.prototype.render=function(){var e=this.state.selectedItem,t=this.props,r=t.sourceSlug,n=t.returnPath;return dc.createElement("div",{className:Ic.a.createModal},dc.createElement("div",{className:Ic.a.createModalHeader},dc.createElement("div",{className:Ic.a.title},this.getTitle()),dc.createElement(di,{sourceSlug:r,returnPath:n}),dc.createElement(Ws.C,{onClick:this.handleClickClose})),dc.createElement("div",{className:Ic.a.createModalBody},this.renderGrid()),dc.createElement("div",{className:Ic.a.footer},dc.createElement(Ws.v,{disabled:void 0===e,onClick:this.handleClickOpen},this.getCTALabel()),dc.createElement(Ws.w,{onClick:this.handleClickClose},Object(cn.b)("Cancel"))))},t}(dc.Component);var Oi=Object(bc.b)((function(e){var t=gn.Z(e),r=t.slice(0,t.indexOf("/external")),n=Object(Hs.e)(t),o=Object(Hs.d)(t),a=Object(Hs.f)(t),s=Object(Hs.h)(t),c=Object(Hs.b)(t),i=gn.bb(e);return{createPath:r,returnPath:n?Object(Hs.a)(t):i.r||null,nameItDialogContext:gn.E(e),isAddAssetRoute:n,isAccountRoute:o,isAddSpaceIconRoute:a,spaceId:s,canSeeFacebook:yn(e),matcher:Object(Hs.g)(t),collectionId:c}}),(function(e){var t=this;return{close:function(t,r){e(an.b.router.push(r||t))},showDialog:Object(Pe.flow)(an.b.dialogs.showDialog,e),openPhoto:function(t,r,n,o){var a=encodeURIComponent(t),s=encodeURIComponent(n),c=Object(sn.f)("/editor/open-from-external/"+r)+"?"+("docUrl="+a+"&name="+s+"&collection="+o);r===Xe.b.googlePhotos||r===Xe.b.googleDrive?e(on.a.requestPermissionToShare(an.b.router.push(c),r)):e(an.b.router.push(c))},requestImage:function(t){e(Object(on.f)(t))},displayProfileDialog:function(t,r,n){n===Xe.b.googlePhotos||n===Xe.b.googleDrive?e(on.d(t,r,n)):e(an.b.dialogs.showDialog(Ko.a.userProfileImageUpload,{imageUrl:t},{hideOnLocationChange:!1}))},displaySpaceIconDialog:function(r,n,o){return gi(t,void 0,void 0,(function(){var t;return mi(this,(function(a){switch(a.label){case 0:return n!==Xe.b.googlePhotos&&n!==Xe.b.googleDrive?[3,1]:(e(on.e(r,name,n,o)),[3,3]);case 1:return[4,Object(Ve.a)(e)];case 2:t=a.sent(),e(t.actions.hub.showModal(Ne.g.spaceChangeIcon,{type:"url",spaceId:o,url:r})),a.label=3;case 3:return[2]}}))}))},addEditorAsset:function(t,r,n,o){e(on.b(t,r,n,o))},addEditorAssetFromDownload:function(t,r,n,o){return e(on.c(t,r,n,o))}}}))(yi),Si=r("be30359b6ce798ec8ecf"),wi=r("0a37f8b44014c6154119"),ji=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.login=function(){(0,t.props.dispatchLogin)()},t.handleScrolledToLastPhoto=function(){var e=t.props,r=e.nextPageToken,n=e.dispatchLoadMore;r&&n(r)},t}return ji(t,e),t.prototype.componentDidMount=function(){this.props.dispatchClearItems(),this.props.userProfile&&this.props.hasPermissions?this.props.dispatchRequestMedia(this.props.folderId||""):this.props.dispatchRequestProfile()},t.prototype.componentWillUnmount=function(){this.props.dispatchClearItems()},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.userProfile,n=t.dispatchRequestMedia,o=t.folderId,a=t.hasPermissions,s=r&&!e.userProfile,c=a&&!e.hasPermissions,i=o!==e.folderId;(s&&a||c&&r||r&&a&&i)&&n(o||"")},t.prototype.render=function(){var e=this.props,t=e.rootPath,r=e.onSelectPhoto,n=e.selectedPhoto,o=e.onOpenPhoto,a=e.items,s=e.userProfile,c=e.dispatchLogout,i=e.folderId,u=e.hasPermissions,l=e.sourceSlug;return dc.createElement(Dc,{sourceSlug:l,folderId:i,rootPath:t,onSelectPhoto:r,selectedPhoto:n,onOpenPhoto:o,items:a,userProfile:s,login:this.login,logout:c,hasPermissions:u,onScrolledToLastPhoto:this.handleScrolledToLastPhoto})},t}(dc.Component);var ki=Object(bc.b)((function(e){var t=po(e),r=go(e),n=mo(e,me.requiredScopesForYouTube);return{items:t.items,nextPageToken:t.nextPageToken,userProfile:r,currentSelectedItem:So(e),hasPermissions:n}}),(function(e,t){var r=t.shareTag;return{dispatchLogin:function(){e(x.b.requestYouTubeLogin(me.requiredScopesForYouTube))},dispatchRequestProfile:function(){e(x.b.fetchGoogleUserProfile())},dispatchRequestMedia:function(){e(r===Si.a.youTubeThumbnail?x.b.fetchYouTubeVideos():x.b.fetchYouTubeChannels())},dispatchClearItems:function(){e(x.b.putClearYouTubeItems())},dispatchLogout:function(){e(x.b.requestYouTubeLogout())},dispatchLoadMore:function(t){void 0===t&&(t=""),e(r===Si.a.youTubeThumbnail?x.b.fetchYouTubeVideos(t):x.b.fetchYouTubeChannels(t))}}}))(xi),Pi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_i=function(e){function t(t){var r=e.call(this,t)||this;return r.showNotImplemented=function(){return r.props.showDialog(Ko.a.notYetImplemented)},r.renderGrid=function(){var e=r.props,t=e.createPath,n=e.sourceSlug,o=e.folderId,a=r.state.selectedItem;switch(n){case Xe.b.youTubeVideos:return dc.createElement(ki,{rootPath:t,sourceSlug:Xe.b.youTubeVideos,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:a,onOpenPhoto:r.handleOpenPhoto,shareTag:Si.a.youTubeThumbnail});case Xe.b.youTubeChannels:return dc.createElement(ki,{rootPath:t,sourceSlug:Xe.b.youTubeChannels,folderId:o,onSelectPhoto:r.selectPhoto,selectedPhoto:a,onOpenPhoto:r.handleOpenPhoto,shareTag:Si.a.youTubeBanner});default:return dc.createElement(Tc,{screenIndex:Xe.c.loggedOut,sourceSlug:n,action:r.showNotImplemented})}},r.selectPhoto=function(e){r.setState((function(t){var r=t.selectedItem;return e?{selectedItem:r&&e.id===r.id?void 0:e}:{selectedItem:void 0}}))},r.handleOpenPhoto=function(e){r.props.handleClickClose(e)},r.handleClickOpen=function(e){e.stopPropagation(),e.preventDefault();var t=r.state.selectedItem;r.handleOpenPhoto(t||null)},r.handleOnClose=function(){r.props.handleClickClose(null)},r.state={selectedItem:void 0,sourceSlug:void 0},r}return Pi(t,e),t.getDerivedStateFromProps=function(e,t){return e.sourceSlug!==t.sourceSlug?{sourceSlug:e.sourceSlug,selectedItem:void 0}:null},t.prototype.render=function(){var e=this.state.selectedItem,t=this.props.sourceSlug;return dc.createElement("div",{className:Ic.a.createModal},dc.createElement("div",{className:Ic.a.createModalHeader},dc.createElement("div",{className:Ic.a.title},t===Xe.b.youTubeVideos?Object(cn.b)("Select a video"):Object(cn.b)("Select a channel")),dc.createElement("div",{className:Ic.a.closeIcon},dc.createElement(wi.default,{onClick:this.handleOnClose}))),dc.createElement("div",{className:Ic.a.createModalBody},this.renderGrid()),dc.createElement("div",{className:Ic.a.footer},dc.createElement(Ws.s,{className:Ic.a.share_button,disabled:void 0===e,onClick:this.handleClickOpen},t===Xe.b.youTubeVideos?Object(cn.b)("Set as thumbnail"):Object(cn.b)("Set as channel banner")),dc.createElement(Ws.t,{onClick:this.handleOnClose},Object(cn.b)("Cancel"))))},t}(dc.Component);var Ii=Object(bc.b)((function(e){return{createPath:gn.Z(e)}}),(function(e){return{showDialog:Object(Pe.flow)(an.b.dialogs.showDialog,e),setSelectedGridItem:function(t){e(on.a.putYouTubeSelectedVideo(t))}}}))(_i),Li=r("e639c6ba1c3843e0a25d");function Ti(e){e(x.b.meta.addReducers({externalSources:Me})),Object(Li.c)(pc),e(x.b.meta.didLoadCodeChunk("external_sources"))}r.d(t,"name",(function(){return Ei})),r.d(t,"initialize",(function(){return Ti})),r.d(t,"ExternalSources",(function(){return Oi})),r.d(t,"ExternalDestination",(function(){return Ii})),r.d(t,"actions",(function(){return x.b})),r.d(t,"selectors",(function(){return xo})),r.d(t,"api",(function(){return p})),r.d(t,"reducer",(function(){return Me}));var Ei="external_sources"},"89dd9e90fef699789489":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},t),o.a.createElement("circle",{cx:"7.5",cy:"15.5",r:"6.5",fill:"#b2b8c0"}),o.a.createElement("circle",{cx:"22.5",cy:"15.5",r:"6.5",fill:"#c5c9cf"}))}},"917fd0b31efe3b3f818e":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},t),o.a.createElement("path",{d:"M15 3a12 12 0 1 0 12 12A12 12 0 0 0 15 3z",fill:"#c5c9cf"}),o.a.createElement("path",{d:"M19.671 18.469L20.203 15h-3.328v-2.251a1.734 1.734 0 0 1 1.956-1.874h1.513V7.922a18.453 18.453 0 0 0-2.686-.234c-2.741 0-4.533 1.66-4.533 4.668V15h-3.047v3.469h3.047v8.385a12.127 12.127 0 0 0 3.75 0V18.47z",fill:"#fff"}))}},"944c5c8c9b946f4dcfe3":function(e,t,r){var n=r("b53ee7602472e8598898");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("1e4534d1d62a11482e97")(n,o);n.locals&&(e.exports=n.locals)},b53ee7602472e8598898:function(e,t,r){(t=e.exports=r("c138e55a31f3f8960e99")(!1)).push([e.i,"/* stylelint-disable property-no-unknown */\n\n/* stylelint-enable */\n/* Shorthand properties */\n/* Customised flex properties */\n.src-external_sources-components--styles-tribute-container-3ULc_ {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: auto;\n  max-height: 300px;\n  max-width: 500px;\n  overflow: auto;\n  display: block;\n  z-index: 999999;\n  background: #fff;\n  border: solid 1px #b9bdc4; }\n  .src-external_sources-components--styles-tribute-container-3ULc_ ul {\n    margin: 0;\n    margin-top: 2px;\n    padding: 0;\n    list-style: none; }\n  .src-external_sources-components--styles-tribute-container-3ULc_ li {\n    padding: 5px 5px;\n    cursor: pointer; }\n    .src-external_sources-components--styles-tribute-container-3ULc_ li.src-external_sources-components--styles-highlight-1cufi {\n      background: #eff9ff; }\n    .src-external_sources-components--styles-tribute-container-3ULc_ li span {\n      font-weight: bold; }\n    .src-external_sources-components--styles-tribute-container-3ULc_ li.src-external_sources-components--styles-no-match-2pnPc {\n      cursor: default; }\n  .src-external_sources-components--styles-tribute-container-3ULc_ .src-external_sources-components--styles-menu-highlighted-2Rx2c {\n    font-weight: bold; }\n\n.src-external_sources-components--styles-createModal-20SUY {\n  font-family: 'Lato', 'sans-serif';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 20px;\n  z-index: 300;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  color: #343b46;\n  fill: #343b46; }\n  .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX {\n    padding-right: 60px;\n    height: 60px;\n    border-bottom: solid 1px #e2e4e7;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n    .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-title-nBhwb {\n      margin: 0 30px;\n      font-family: 'Lato', 'sans-serif';\n      font-style: normal;\n      font-weight: 700;\n      font-size: 24px;\n      line-height: 30px; }\n    .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c {\n      color: #343b46;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1; }\n      .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF {\n        margin-right: 40px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF:last-child {\n          margin-right: 0; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF .src-external_sources-components--styles-source_icon-1reEw {\n          height: 30px;\n          margin-right: 10px;\n          display: none; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF .src-external_sources-components--styles-inactive_source_icon-5grKn {\n          display: inline;\n          height: 30px;\n          margin-right: 10px; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF:hover .src-external_sources-components--styles-source_icon-1reEw, .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF.src-external_sources-components--styles-active-1oBzU .src-external_sources-components--styles-source_icon-1reEw {\n          display: inline; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF:hover .src-external_sources-components--styles-inactive_source_icon-5grKn, .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF.src-external_sources-components--styles-active-1oBzU .src-external_sources-components--styles-inactive_source_icon-5grKn {\n          display: none; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF:hover {\n          color: #3694cd; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF.src-external_sources-components--styles-active-1oBzU {\n          color: #4caae4; }\n        .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-createModalHeader-2CnuX .src-external_sources-components--styles-externalSourcesPicker-3Sr9c .src-external_sources-components--styles-sourceWrapper-1iNEF:focus {\n          color: #217eb6; }\n  .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-errorScreen-231xO .src-external_sources-components--styles-sourceTitle-25bMe {\n    margin-top: 120px; }\n  .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-errorScreen-231xO button {\n    margin-top: 30px; }\n  .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-errorScreen-231xO .src-external_sources-components--styles-userInfo-2Po-q {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n    padding: 20px 40px 0; }\n  .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-footer-t0aXt {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    height: 60px;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    position: absolute;\n    bottom: 0;\n    border-top: solid 1px #e2e4e7; }\n    .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-footer-t0aXt button {\n      width: 140px; }\n      .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-footer-t0aXt button:first-child {\n        margin-right: 20px; }\n    .src-external_sources-components--styles-createModal-20SUY .src-external_sources-components--styles-footer-t0aXt button.src-external_sources-components--styles-share_button-2wukH {\n      width: auto;\n      min-width: 140px; }\n\n.src-external_sources-components--styles-createModalBody-3_oWM {\n  font-family: 'Lato', 'sans-serif';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  position: absolute;\n  top: 60px;\n  left: 0px;\n  right: 0px;\n  bottom: 60px;\n  overflow-y: scroll;\n  padding-right: 15px; }\n\n.src-external_sources-components--styles-facebook_not_supported_message-3Wh0V {\n  margin-top: 120px;\n  width: 100%;\n  text-align: center;\n  color: #343b46;\n  font-size: 16px;\n  font-family: Lato;\n  line-height: 1.38;\n  padding: 0 20px; }\n  .src-external_sources-components--styles-facebook_not_supported_message-3Wh0V > p {\n    max-width: 770px;\n    margin: 0 auto; }\n",""]),t.locals={zindexCanvasTooltip:"10","tribute-container":"src-external_sources-components--styles-tribute-container-3ULc_",highlight:"src-external_sources-components--styles-highlight-1cufi","no-match":"src-external_sources-components--styles-no-match-2pnPc","menu-highlighted":"src-external_sources-components--styles-menu-highlighted-2Rx2c",createModal:"src-external_sources-components--styles-createModal-20SUY",createModalHeader:"src-external_sources-components--styles-createModalHeader-2CnuX",title:"src-external_sources-components--styles-title-nBhwb",externalSourcesPicker:"src-external_sources-components--styles-externalSourcesPicker-3Sr9c",sourceWrapper:"src-external_sources-components--styles-sourceWrapper-1iNEF",source_icon:"src-external_sources-components--styles-source_icon-1reEw",inactive_source_icon:"src-external_sources-components--styles-inactive_source_icon-5grKn",active:"src-external_sources-components--styles-active-1oBzU",errorScreen:"src-external_sources-components--styles-errorScreen-231xO",sourceTitle:"src-external_sources-components--styles-sourceTitle-25bMe",userInfo:"src-external_sources-components--styles-userInfo-2Po-q",footer:"src-external_sources-components--styles-footer-t0aXt",share_button:"src-external_sources-components--styles-share_button-2wukH",createModalBody:"src-external_sources-components--styles-createModalBody-3_oWM",facebook_not_supported_message:"src-external_sources-components--styles-facebook_not_supported_message-3Wh0V"}},c7fb4c22fc542c4ffd68:function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){e.styles;var t=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["styles"]);return o.a.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},t),o.a.createElement("path",{d:"M25.222 13.867a5.202 5.202 0 0 0-2.148-.633 8.065 8.065 0 0 0-14.657-2.499A6.569 6.569 0 0 0 2 17.448a6.725 6.725 0 0 0 1.167 3.71A6.454 6.454 0 0 0 8.5 24h14.218a5.265 5.265 0 0 0 4.65-2.832 5.447 5.447 0 0 0-2.146-7.301z",fill:"#8c94a0"}),o.a.createElement("path",{d:"M11.914 11.721v.001a6.371 6.371 0 0 0-3.414-.989l-.083.002A6.569 6.569 0 0 0 2 17.448a6.724 6.724 0 0 0 1.167 3.71l4.813-2.067 2.14-.919 4.763-2.046 2.488-1.068z",fill:"#9fa6b0"}),o.a.createElement("path",{d:"M23.074 13.234a5.26 5.26 0 0 0-.356-.013 5.172 5.172 0 0 0-2.093.44l-3.253 1.397.943.576 3.092 1.89 1.348.825 4.612 2.819a5.447 5.447 0 0 0-2.145-7.301 5.202 5.202 0 0 0-2.148-.633z",fill:"#b2b8c0"}),o.a.createElement("path",{d:"M22.755 18.349l-1.348-.825-3.092-1.89-.943-.576-2.488 1.068-4.764 2.046-2.14.92-4.812 2.066A6.454 6.454 0 0 0 8.5 24h14.218a5.265 5.265 0 0 0 4.65-2.832z",fill:"#c5c9cf"}))}},cb6cb7519fede88df01b:function(e,t,r){var n=r("33a4798f833885c2ccfc");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("1e4534d1d62a11482e97")(n,o);n.locals&&(e.exports=n.locals)}}]);
//# sourceMappingURL=external-sources.dd4ef596886a49ccf719.bundle.js.map