(this.webpackJsonp=this.webpackJsonp||[]).push([[58],{"004e098d2f35e516cfd2":function(e,t,r){var n=r("30a06a14ca0580116377"),a=6e4,i=6048e5;e.exports=function(e,t){var r=n(e),o=n(t),s=r.getTime()-r.getTimezoneOffset()*a,u=o.getTime()-o.getTimezoneOffset()*a;return Math.round((s-u)/i)}},"0073c7917c9fbf791a32":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}},"0249c044334300c8c3e1":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setFullYear(a),r}},"04136e4417a4db611c39":function(e,t,r){var n=r("5752bada9ed56415c147");e.exports=function(e,t){return n(e)-n(t)}},"048c4abeb1051424bfae":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setSeconds(a),r}},"04c52dc9d082ac68247d":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},"054ae29084dd3cee98ad":function(e,t,r){var n=r("6d9e0e89f6f28e641637");e.exports=function(e){return n(new Date,e)}},"05e1ab89654c1e0b5320":function(e,t,r){var n=r("714b24334fac84cad82c");e.exports=function(e){return n(new Date,e)}},"0761bce6e4b015e723bf":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getHours()}},"09a649859af839bd3916":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setHours(23,59,59,999),t}},"0b9327229477a5c28f52":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setMinutes(0,0,0),t}},"0c7e267795046551f282":function(e,t,r){var n=r("601e5cf8f33267c33850");e.exports=function(e,t){var r=Number(t);return n(e,7*r)}},"10e8effd7127d8108fb3":function(e,t,r){var n=r("247ffbaab52f6e3e78cc");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()===a.getTime()}},"14ceca2179b6535e3ca9":function(e,t,r){var n=r("ae50f0fb6d053525fa76");e.exports=function(e,t){var r=Number(t);return n(e,1e3*r)}},"172aa7ba3d106cbfa8dd":function(e,t,r){var n=r("7d0c61426937d7583c91");e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],f={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return a[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?o[1]:o[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){f[e+"o"]=function(t,r){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(r[e](t))}})),{formatters:f,formattingTokensRegExp:n(f)}}},"1768e918131f8ec413df":function(e,t,r){var n=r("5752bada9ed56415c147"),a=r("30a06a14ca0580116377");e.exports=function(e){var t=n(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var i=a(r);return i.setMilliseconds(i.getMilliseconds()-1),i}},"1837fb8ae0049233be5d":function(e,t,r){var n=r("bfe3b85eba61ad50cb21");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()===a.getTime()}},"193455b85da2b13634f0":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()===a.getTime()}},"1bf3733ae7c8db6c4a8f":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 1===n(e).getDate()}},"1cdd7fc0084d78361169":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e).getDay();return 0===t&&(t=7),t}},"1e015f93b67d80ffd95c":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e).getDay();return 0===t||6===t}},"21e3fa23f296b064cecb":function(e,t,r){var n=r("6f3b013cfa5b1e1328f8");e.exports=function(e,t){return n(new Date,e,t)}},"247ffbaab52f6e3e78cc":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setSeconds(0,0),t}},"24ac299100e59d22de95":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return Math.floor(t.getMonth()/3)+1}},"25140b113159a1a0259a":function(e,t,r){var n=r("8382f6cda97cd46e702a");e.exports=function(e,t){var r=n(e,t)/7;return r>0?Math.floor(r):Math.ceil(r)}},"28b17818659724d09043":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 0===n(e).getDay()}},"2e09be94ddeefd988fe1":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("a7bb61ba2b05dbfec547");e.exports=function(e,t){var r=n(e),i=Number(t)-(Math.floor(r.getMonth()/3)+1);return a(r,r.getMonth()+3*i)}},"2ef4f9f79d36dec28019":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getFullYear()-a.getFullYear()}},"30a06a14ca0580116377":function(e,t,r){var n=r("fc7bcf63e4004b585497");e.exports=function(e){return n(e,{weekStartsOn:1})}},"33c73a33587853795748":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t,r){var a=n(e).getTime(),i=n(t).getTime(),o=n(r).getTime();if(i>o)throw new Error("The start of the range cannot be after the end of the range");return a>=i&&a<=o}},"34dc9008ddab79dd91ea":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setMinutes(a),r}},"37c6dbd1f05a6f73daaa":function(e,t,r){var n=r("e95c05475cb1ce30a750");e.exports=function(){return n(new Date)}},"387fc678a7763efc9c57":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}},"3aa65c7187cb93352cc8":function(e,t,r){var n=r("728cccc9176be1ad1e99"),a=r("b282c606f67e57cd891a"),i=r("a1aa598375ebfda31697"),o=r("b46320f01e15e6b701be"),s=r("9a70c82fd2199613d3d3"),u=1440,f=2520,c=43200,l=86400;e.exports=function(e,t,r){var d=r||{},h=n(e,t),p=d.locale,m=s.distanceInWords.localize;p&&p.distanceInWords&&p.distanceInWords.localize&&(m=p.distanceInWords.localize);var b,v,g={addSuffix:Boolean(d.addSuffix),comparison:h};h>0?(b=a(e),v=a(t)):(b=a(t),v=a(e));var y,_=i(v,b),w=v.getTimezoneOffset()-b.getTimezoneOffset(),x=Math.round(_/60)-w;if(x<2)return d.includeSeconds?_<5?m("lessThanXSeconds",5,g):_<10?m("lessThanXSeconds",10,g):_<20?m("lessThanXSeconds",20,g):_<40?m("halfAMinute",null,g):m(_<60?"lessThanXMinutes":"xMinutes",1,g):0===x?m("lessThanXMinutes",1,g):m("xMinutes",x,g);if(x<45)return m("xMinutes",x,g);if(x<90)return m("aboutXHours",1,g);if(x<u)return m("aboutXHours",Math.round(x/60),g);if(x<f)return m("xDays",1,g);if(x<c)return m("xDays",Math.round(x/u),g);if(x<l)return m("aboutXMonths",y=Math.round(x/c),g);if((y=o(v,b))<12)return m("xMonths",Math.round(x/c),g);var k=y%12,S=Math.floor(y/12);return k<3?m("aboutXYears",S,g):k<9?m("overXYears",S,g):m("almostXYears",S+1,g)}},"3af7b13529600628258d":function(e,t,r){var n=r("a8320c152686bd6d1083");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},"3b511a5ed9dc7bc57680":function(e,t,r){var n=r("fc7bcf63e4004b585497"),a=6e4,i=6048e5;e.exports=function(e,t,r){var o=n(e,r),s=n(t,r),u=o.getTime()-o.getTimezoneOffset()*a,f=s.getTime()-s.getTimezoneOffset()*a;return Math.round((u-f)/i)}},"3e189ca8101ab49b8a17":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getMonth(),a=r-r%3+3;return t.setMonth(a,0),t.setHours(0,0,0,0),t}},"3e1db4ff12739fc7495f":function(e,t,r){var n=r("ae50f0fb6d053525fa76"),a=36e5;e.exports=function(e,t){var r=Number(t);return n(e,r*a)}},"3ecb43fb24850bd0271c":function(e,t,r){var n=r("e95c05475cb1ce30a750");e.exports=function(e){return n(e).getTime()===n(new Date).getTime()}},"3f52c4284d2c80864596":function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n-1),a.setHours(23,59,59,999),a}},"40ff9a3ca0c5e683d2ba":function(e,t,r){var n=r("3aa65c7187cb93352cc8");e.exports=function(e,t){return n(Date.now(),e,t)}},"42158362bfff8be1adff":function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n+1),a.setHours(23,59,59,999),a}},"43679d8435d46fd2085a":function(e,t,r){var n=r("09a649859af839bd3916");e.exports=function(){return n(new Date)}},"45fa488df7dfa7c6f0f3":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("c2747eb46246857c3378");e.exports=function(e,t){var r=n(e),i=Number(t),o=a(r)-i;return r.setDate(r.getDate()-7*o),r}},"4be109e4f90b746dc153":function(e,t,r){"use strict";r.r(t),function(e){var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}var r={size:{configurable:!0}};return r.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r+=1){var a=n[r];e.call(t,a[1],a[0])}},Object.defineProperties(t.prototype,r),t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=function(){return void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),i=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),o=2,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,f=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,a=0;function s(){r&&(r=!1,e()),n&&f()}function u(){i(s)}function f(){var e=Date.now();if(r){if(e-a<o)return;n=!0}else r=!0,n=!1,setTimeout(u,t);a=e}return f}(this.refresh.bind(this),20)};f.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},f.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},f.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},f.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},f.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},f.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},f.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),s.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},f.getInstance=function(){return this.instance_||(this.instance_=new f),this.instance_},f.instance_=null;var c=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r+=1){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},d=g(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.reduce((function(t,r){return t+h(e["border-"+r+"-width"])}),0)}function m(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=l(e).getComputedStyle(e),a=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r+=1){var a=n[r],i=e["padding-"+a];t[a]=h(i)}return t}(n),i=a.left+a.right,o=a.top+a.bottom,s=h(n.width),u=h(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=p(n,"left","right")+i),Math.round(u+o)!==r&&(u-=p(n,"top","bottom")+o)),!function(e){return e===l(e).document.documentElement}(e)){var f=Math.round(s+i)-t,c=Math.round(u+o)-r;1!==Math.abs(f)&&(s-=f),1!==Math.abs(c)&&(u-=c)}return g(a.left,a.top,s,u)}var b=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox}}();function v(e){return n?b(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):m(e):d}function g(e,t,r,n){return{x:e,y:t,width:r,height:n}}var y=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e};y.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},y.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var _=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(i.prototype);return c(o,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),o}(t);c(this,{target:e,contentRect:r})},w=function(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};w.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},w.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},w.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},w.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},w.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},w.prototype.clearActive=function(){this.activeObservations_.splice(0)},w.prototype.hasActive=function(){return this.activeObservations_.length>0};var x="undefined"!=typeof WeakMap?new WeakMap:new r,k=function(e){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=f.getInstance(),r=new w(e,t,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){k.prototype[e]=function(){return(t=x.get(this))[e].apply(t,arguments);var t}}));var S=function(){return void 0!==a.ResizeObserver?a.ResizeObserver:k}();t.default=S}.call(this,r("698d75b157f24ae829cc"))},"4c725ac6b65d18e80901":function(e,t,r){var n=r("b46320f01e15e6b701be");e.exports=function(e,t){var r=n(e,t)/3;return r>0?Math.floor(r):Math.ceil(r)}},"4e8a8fc75f1dfe368f54":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t,r,a){var i=n(e).getTime(),o=n(t).getTime(),s=n(r).getTime(),u=n(a).getTime();if(i>o||s>u)throw new Error("The start of the range cannot be after the end of the range");return i<u&&s<o}},"4fda4bb7c91e9462050c":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var r,a,i=n(e).getTime();return t.forEach((function(e,t){var o=n(e),s=Math.abs(i-o.getTime());(void 0===r||s<a)&&(r=t,a=s)})),r}},"5530c3f9cee457051ccb":function(e,t,r){var n=r("dbc16af6a80a9dc2591f");e.exports=function(e){return n(e,{weekStartsOn:1})}},"55cf799bdf33c1090b89":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("04136e4417a4db611c39"),i=r("a7a70b80c2e0d4a3dee4"),o=r("d9c76b070c85e2cc3746");e.exports=function(e,t){var r=n(e),s=n(t),u=i(r,s),f=Math.abs(a(r,s));return r=o(r,u*f),u*(f-(i(r,s)===-u))}},"5657d179c1ea0a3bceab":function(e,t,r){var n=r("0c7e267795046551f282");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},"56dd25bf3156433045e7":function(e,t,r){var n=r("ae50f0fb6d053525fa76");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},"56ef536d9ac2b1e18f0b":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setSeconds(59,999),t}},"5752bada9ed56415c147":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("30a06a14ca0580116377");e.exports=function(e){var t=n(e),r=t.getFullYear(),i=new Date(0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);var o=a(i),s=new Date(0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);var u=a(s);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}},"57d1d2048439dd4eb0ad":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setHours(a),r}},"59500a1b45f74f212deb":function(e,t,r){var n=r("61f27166bdc4d88e75c6");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},"601e5cf8f33267c33850":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setDate(r.getDate()+a),r}},"608452d19e6e89117c0c":function(e,t,r){var n=r("5752bada9ed56415c147"),a=r("30a06a14ca0580116377");e.exports=function(e){var t=n(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var i=a(r);return i.setDate(i.getDate()-1),i}},"61f27166bdc4d88e75c6":function(e,t,r){var n=r("a8320c152686bd6d1083");e.exports=function(e,t){var r=Number(t);return n(e,3*r)}},"6497eca3595e9c9fff6e":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("601e5cf8f33267c33850");e.exports=function(e,t,r){var i=r&&Number(r.weekStartsOn)||0,o=n(e),s=Number(t),u=o.getDay();return a(o,((s%7+7)%7<i?7:0)+s-u)}},"6618166d30f296a5c534":function(e,t,r){var n=r("a8320c152686bd6d1083");e.exports=function(e,t){var r=Number(t);return n(e,12*r)}},"68ab3086d0da502d81b3":function(e,t,r){var n=r("6618166d30f296a5c534");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},"69abf536ce24e517be27":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getDate()}},"6abbff92148cd7a286f1":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("2ef4f9f79d36dec28019"),i=r("a7a70b80c2e0d4a3dee4");e.exports=function(e,t){var r=n(e),o=n(t),s=i(r,o),u=Math.abs(a(r,o));return r.setFullYear(r.getFullYear()-s*u),s*(u-(i(r,o)===-s))}},"6cc96edcbaf225e009e2":function(e,t,r){var n=r("e95c05475cb1ce30a750"),a=6e4,i=864e5;e.exports=function(e,t){var r=n(e),o=n(t),s=r.getTime()-r.getTimezoneOffset()*a,u=o.getTime()-o.getTimezoneOffset()*a;return Math.round((s-u)/i)}},"6d2407ceb7812b36a9ba":function(e,t,r){var n=r("5752bada9ed56415c147"),a=r("af4f64c45ab984b03601");e.exports=function(e,t){var r=Number(t);return a(e,n(e)+r)}},"6d9e0e89f6f28e641637":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}},"6e8a6517a4f42a2b5651":function(e,t,r){(function(t){var r="Expected a function",n=NaN,a="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,b=function(){return d.Date.now()};function v(e,t,n){var a,i,o,s,u,f,c=0,l=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(r);function v(t){var r=a,n=i;return a=i=void 0,c=t,s=e.apply(n,r)}function _(e){var r=e-f;return void 0===f||r>=t||r<0||d&&e-c>=o}function w(){var e=b();if(_(e))return x(e);u=setTimeout(w,function(e){var r=t-(e-f);return d?m(r,o-(e-c)):r}(e))}function x(e){return u=void 0,h&&a?v(e):(a=i=void 0,s)}function k(){var e=b(),r=_(e);if(a=arguments,i=this,f=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(w,t),l?v(e):s}(f);if(d)return u=setTimeout(w,t),v(f)}return void 0===u&&(u=setTimeout(w,t)),s}return t=y(t)||0,g(n)&&(l=!!n.leading,o=(d="maxWait"in n)?p(y(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),k.cancel=function(){void 0!==u&&clearTimeout(u),c=0,a=f=i=u=void 0},k.flush=function(){return void 0===u?s:x(b())},k}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==a}(e))return n;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||u.test(e)?f(e.slice(2),r?2:8):o.test(e)?n:+e}e.exports=function(e,t,n){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),v(e,t,{leading:a,maxWait:t,trailing:i})}}).call(this,r("698d75b157f24ae829cc"))},"6f3b013cfa5b1e1328f8":function(e,t,r){var n=r("fc7bcf63e4004b585497");e.exports=function(e,t,r){var a=n(e,r),i=n(t,r);return a.getTime()===i.getTime()}},"6f9b2d5608c3bb8ed61f":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setMilliseconds(999),t}},"711e50b376dd0141364c":function(e,t,r){var n=r("10e8effd7127d8108fb3");e.exports=function(e){return n(new Date,e)}},"712f7ec44ba951026ad8":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 3===n(e).getDay()}},"714b24334fac84cad82c":function(e,t,r){var n=r("0b9327229477a5c28f52");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()===a.getTime()}},"724c78de0cf587728de7":function(e,t){var r=t||r||{};!function(){function e(e){return JSON.stringify(e)}function t(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function n(e){return"string"==typeof e?r.parseSchema(e):e instanceof Uint8Array||e instanceof r.ByteBuffer?r.decodeBinarySchema(e):e}!function(){var e=new Int32Array(1),t=new Float32Array(e.buffer);function n(e){if(e&&!(e instanceof Uint8Array))throw new Error("Must initialize a ByteBuffer with a Uint8Array");this._data=e||new Uint8Array(256),this._index=0,this.length=e?e.length:0}n.prototype.toUint8Array=function(){return this._data.subarray(0,this.length)},n.prototype.readByte=function(){if(this._index+1>this._data.length)throw new Error("Index out of bounds");return this._data[this._index++]},n.prototype.readVarFloat=function(){var r=this._index,n=this._data,a=n.length;if(r+1>a)throw new Error("Index out of bounds");var i=n[r];if(0===i)return this._index=r+1,0;if(r+4>a)throw new Error("Index out of bounds");var o=i|n[r+1]<<8|n[r+2]<<16|n[r+3]<<24;return this._index=r+4,o=o<<23|o>>>9,e[0]=o,t[0]},n.prototype.readVarUint=function(){var e=0,t=0;do{var r=this.readByte();e|=(127&r)<<t,t+=7}while(128&r&&t<35);return e>>>0},n.prototype.readVarInt=function(){var e=0|this.readVarUint();return 1&e?~(e>>>1):e>>>1},n.prototype.readString=function(){for(var e="";;){var t,r=this.readByte();if(r<192)t=r;else{var n=this.readByte();if(r<224)t=(31&r)<<6|63&n;else{var a=this.readByte();if(r<240)t=(15&r)<<12|(63&n)<<6|63&a;else t=(7&r)<<18|(63&n)<<12|(63&a)<<6|63&this.readByte()}}if(0===t)break;t<65536?e+=String.fromCharCode(t):(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t)))}return e},n.prototype._growBy=function(e){if(this.length+e>this._data.length){var t=new Uint8Array(this.length+e<<1);t.set(this._data),this._data=t}this.length+=e},n.prototype.writeByte=function(e){var t=this.length;this._growBy(1),this._data[t]=e},n.prototype.writeVarFloat=function(r){var n=this.length;t[0]=r;var a=e[0];if(0!=(255&(a=a>>>23|a<<9))){this._growBy(4);var i=this._data;i[n]=a,i[n+1]=a>>8,i[n+2]=a>>16,i[n+3]=a>>24}else this.writeByte(0)},n.prototype.writeVarUint=function(e){do{var t=127&e;e>>>=7,this.writeByte(e?128|t:t)}while(e)},n.prototype.writeVarInt=function(e){this.writeVarUint(e<<1^e>>31)},n.prototype.writeString=function(e){for(var t,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(r+1===e.length||n<55296||n>=56320)t=n;else t=(n<<10)+e.charCodeAt(++r)+-56613888;if(0===t)throw new Error("Cannot encode a string containing the null character");t<128?this.writeByte(t):(t<2048?this.writeByte(t>>6&31|192):(t<65536?this.writeByte(t>>12&15|224):(this.writeByte(t>>18&7|240),this.writeByte(t>>12&63|128)),this.writeByte(t>>6&63|128)),this.writeByte(63&t|128))}this.writeByte(0)},r.ByteBuffer=n}(),function(){var n=["bool","byte","float","int","string","uint","float32","map"],a=["ByteBuffer","package"],i=/((?:-|\b)\d+\b|[=;{}]|\[\]|\<|\>|,|\[deprecated\]|\b[A-Za-z_][A-Za-z0-9_]*\b|\/\/.*|\s+)/g,o=/^[A-Za-z_][A-Za-z0-9_]*$/,s=/^\/\/.*|\s+$/,u=/^=$/,f=/^$/,c=/^;$/,l=/^-?\d+$/,d=/^\{$/,h=/^\}$/,p=/^\<$/,m=/^\>$/,b=/^,$/,v=/^\[\]$/,g=/^enum$/,y=/^struct$/,_=/^message$/,w=/^package$/,x=/^\[deprecated\]$/;r.nativeTypes=n,r.reservedNames=a,r.parseSchema=function(r){var k=function(r){function n(){return r[E]}function a(e){return!!e.test(n().text)&&(E++,!0)}function i(r,i){if(!a(r)){var o=n();t("Expected "+i+" but found "+e(o.text),o.line,o.column)}}function s(){var r=n();t("Unexpected token "+e(r.text),r.line,r.column)}var k=[],S=null,E=0;for(a(w)&&(S=n().text,i(o,"identifier"),i(c,'";"'));E<r.length&&!a(f);){var A,T=[];a(g)?A="ENUM":a(y)?A="STRUCT":a(_)?A="MESSAGE":s();var D=n();for(i(o,"identifier"),i(d,'"{"');!a(h);){var O=null,C=!1,M=!1,z=null,I=null,B=!1;B=!1;"ENUM"!==A&&(O=n().text,i(o,"identifier"),C=a(v),"map"===O&&(M=!0,i(p,"<"),a(p),z=n().text,a(o),i(b,","),a(b),I=n().text,a(o),i(m,"<"),a(m)));var F=n();i(o,"identifier");var j=null;"STRUCT"!==A&&(i(u,'"="'),j=n(),i(l,"integer"),(0|j.text)+""!==j.text&&t("Invalid integer "+e(j.text),j.line,j.column));var R=n();a(x)&&("MESSAGE"!==A&&t("Cannot deprecate this field",R.line,R.column),B=!0),i(c,'";"'),T.push({name:F.text,line:F.line,column:F.column,type:O,isArray:C,isMap:M,isDeprecated:B,mapKeyType:z,mapValueType:I,value:null!==j?0|j.text:T.length+1})}k.push({name:D.text,line:D.line,column:D.column,kind:A,fields:T})}return{package:S,definitions:k}}(function(r){for(var n=r.split(i),a=[],o=0,u=0,f=0;f<n.length;f++){var c=n[f];1&f?s.test(c)||a.push({text:c,line:u+1,column:o+1}):""!==c&&t("Syntax error "+e(c),u+1,o+1);var l=c.split("\n");l.length>1&&(o=0),u+=l.length-1,o+=l[l.length-1].length}return a.push({text:"",line:u,column:o}),a}(r));return function(r){for(var i=n.slice(),o={},s=0;s<r.definitions.length;s++){var u=r.definitions[s];-1!==i.indexOf(u.name)&&t("The type "+e(u.name)+" is defined twice",u.line,u.column),-1!==a.indexOf(u.name)&&t("The type name "+e(u.name)+" is reserved",u.line,u.column),i.push(u.name),o[u.name]=u}for(s=0;s<r.definitions.length;s++){var f=(u=r.definitions[s]).fields;if("ENUM"!==u.kind&&0!==f.length){for(var c=0;c<f.length;c++){var l=f[c];-1===i.indexOf(l.type)&&t("The type "+e(l.type)+" is not defined for field "+e(l.name),l.line,l.column)}var d=[];for(c=0;c<f.length;c++){l=f[c];-1!==d.indexOf(l.value)&&t("The id for field "+e(l.name)+" is used twice",l.line,l.column),l.value<=0&&t("The id for field "+e(l.name)+" must be positive",l.line,l.column),l.value>f.length&&t("The id for field "+e(l.name)+" cannot be larger than "+f.length,l.line,l.column),d.push(l.value)}}}var h={},p=function(r){var n=o[r];if(n&&"STRUCT"===n.kind&&(1===h[r]&&t("Recursive nesting of "+e(r)+" is not allowed",n.line,n.column),2!==h[r]&&n)){h[r]=1;for(var a=n.fields,i=0;i<a.length;i++){var s=a[i];s.isArray||p(s.type)}h[r]=2}return!0};for(s=0;s<r.definitions.length;s++)p(r.definitions[s].name)}(k),k}}(),function(){var e=r.ByteBuffer,t=["bool","byte","int","uint","float","string"],a=["ENUM","STRUCT","MESSAGE"];r.decodeBinarySchema=function(r){r instanceof e||(r=new e(r));for(var n=r.readVarUint(),i=[],o=0;o<n;o++){for(var s=r.readString(),u=r.readByte(),f=r.readVarUint(),c=[],l=0;l<f;l++){var d=r.readString(),h=r.readVarInt(),p=!!(1&r.readByte()),m=r.readVarUint();c.push({name:d,line:0,column:0,type:h,isArray:p,isDeprecated:!1,value:m})}i.push({name:s,line:0,column:0,kind:a[u],fields:c})}for(o=0;o<n;o++)for(c=i[o].fields,l=0;l<c.length;l++){var b=c[l];if(b.type<0){if(~b.type>=t.length)throw new Error("Invalid type "+b.type);b.type=t[~b.type]}else{if(b.type>=i.length)throw new Error("Invalid type "+b.type);b.type=i[b.type].name}}return{package:null,definitions:i}},r.encodeBinarySchema=function(r){r=n(r);var i=new e,o=r.definitions,s={};i.writeVarUint(o.length);for(var u=0;u<o.length;u++)s[o[u].name]=u;for(u=0;u<o.length;u++){var f=o[u];i.writeString(f.name),i.writeByte(a.indexOf(f.kind)),i.writeVarUint(f.fields.length);for(var c=0;c<f.fields.length;c++){var l=f.fields[c],d=t.indexOf(l.type);i.writeString(l.name),i.writeVarInt(-1===d?s[l.type]:~d),i.writeByte(l.isArray?1:0),i.writeVarUint(l.value)}}return i.toUint8Array()}}(),function(){var a=r.ByteBuffer;function i(n,a){var o;switch(n.type){case"bool":o="!!bb.readByte()";break;case"byte":o="bb.readByte()";break;case"int":o="bb.readVarInt()";break;case"uint":o="bb.readVarUint()";break;case"float":case"float32":o="bb.readVarFloat()";break;case"string":o="bb.readString()";break;case"map":var s=i({type:n.mapKeyType},a);(!s||r.nativeTypes.indexOf(n.mapKeyType)<0)&&t("Invalid type "+e(n.mapKeyType)+" for map key for "+e(n.name)+".  Map keys must be native fields.",n.line,n.column);var u=i({type:n.mapValueType,line:n.line,column:n.column},a);u||t("Invalid type "+e(n.mapValueType)+" for map value for "+e(n.name),n.line,n.column),o=[s,u];break;default:var f=a[n.type];if(f)if("ENUM"===f.kind){o=["(function (t) {","  var byte = bb.readVarUint();","  if (undefined == t["+e(f.name)+'][byte]) { throw new Error("Attempted to parse invalid enum"); }',"  return t["+e(f.name)+"][byte]","})(this)"].join("\n")}else o="this["+e("decode"+f.name)+"](bb)";else t("Invalid type "+e(n.type)+" for field "+e(n.name),n.line,n.column)}return o}function o(t,r){var n=[],a="  ";n.push("function(bb) {"),n.push("  var result = {};"),n.push("  if (!(bb instanceof this.ByteBuffer)) {"),n.push("    bb = new this.ByteBuffer(bb);"),n.push("  }"),n.push(""),"MESSAGE"===t.kind&&(n.push("  while (true) {"),n.push("    switch (bb.readVarUint()) {"),n.push("    case 0:"),n.push("      return result;"),n.push(""),a="      ");for(var o=0;o<t.fields.length;o++){var s=t.fields[o],u=i(s,r);"MESSAGE"===t.kind&&n.push("    case "+s.value+":"),s.isArray?s.isDeprecated?(n.push(a+"var length = bb.readVarUint();"),n.push(a+"while (length-- > 0) { "+u+" };")):"float32"==s.type?(n.push(a+"var length = bb.readVarUint();"),n.push(a+"var values = result["+e(s.name)+"] = new Float32Array(length);"),n.push(a+"var c = 0;"),n.push(a+"while (length-- > 0) { values[c] = ("+u+"); c++ }")):(n.push(a+"var values = result["+e(s.name)+"] = [];"),n.push(a+"var length = bb.readVarUint();"),n.push(a+"while (length-- > 0) { values.push("+u+"); }")):s.isMap?s.isDeprecated?(n.push(a+"var length = bb.readVarUint();"),n.push(a+"while (length-- > 0) { "+u[0]+";"+u[1]+"; }")):(n.push(a+"var map = result["+e(s.name)+"] = {};"),n.push(a+"var length = bb.readVarUint();"),n.push(a+"while (length-- > 0) { map["+u[0]+"] = "+u[1]+"; }")):s.isDeprecated?n.push(a+u+";"):n.push(a+"result["+e(s.name)+"] = "+u+";"),"MESSAGE"===t.kind&&(n.push("      break;"),n.push(""))}return"MESSAGE"===t.kind?(n.push("    default:"),n.push('      throw new Error("Attempted to parse invalid message");'),n.push("    }"),n.push("  }")):n.push("  return result;"),n.push("}"),n.join("\n")}function s(n,a){switch(n.type){case"bool":case"byte":code="bb.writeByte(value);";break;case"int":code="bb.writeVarInt(value);";break;case"uint":code="bb.writeVarUint(value);";break;case"float":case"float32":code="bb.writeVarFloat(value);";break;case"string":code="bb.writeString(value);";break;case"map":var i=s({type:n.mapKeyType},a);(!i||r.nativeTypes.indexOf(n.mapKeyType)<0)&&t("Invalid type "+e(n.mapKeyType)+" for map key for "+e(n.name)+".  Map keys must be native fields.",n.line,n.column);var o=s({type:n.mapValueType,line:n.line,column:n.column},a);o||t("Invalid type "+e(n.mapValueType)+" for map value for "+e(n.name),n.line,n.column),code=[i,o];break;default:var u=a[n.type];if(!u)throw new Error("Invalid type "+e(n.type)+" for field "+e(n.name));"ENUM"===u.kind?code="var encoded = this["+e(u.name)+'][value]; if (encoded === void 0) throw new Error("Invalid value " + JSON.stringify(value) + '+e(" for enum "+e(u.name))+"); bb.writeVarUint(encoded);":code="this["+e("encode"+u.name)+"](value, bb);"}return code}function u(t,r){var n=[];n.push("function(message, bb) {"),n.push("  var isTopLevel = !bb;"),n.push("  if (isTopLevel) bb = new this.ByteBuffer();");for(var a=0;a<t.fields.length;a++){var i=t.fields[a];if(!i.isDeprecated){var o=s(i,r);n.push(""),n.push("  var value = message["+e(i.name)+"];"),n.push("  if (value != null) {"),"MESSAGE"===t.kind&&n.push("    bb.writeVarUint("+i.value+");"),i.isArray?(n.push("    var values = value, n = values.length;"),n.push("    bb.writeVarUint(n);"),n.push("    for (var i = 0; i < n; i++) {"),n.push("      value = values[i];"),n.push("      "+o),n.push("    }")):i.isMap?(n.push("    var obj = value, keys = Object.keys(obj), n = keys.length;"),n.push("    bb.writeVarUint(n);"),n.push("    for (var i = 0; i < keys.length; i++) {"),n.push("      value = keys[i];"),n.push("      "+o[0]),n.push("      value = obj[keys[i]];"),n.push("      "+o[1]),n.push("    }")):n.push("    "+o),"STRUCT"===t.kind&&(n.push("  } else {"),n.push("    throw new Error("+e("Missing required field "+e(i.name))+");")),n.push("  }")}}return"MESSAGE"===t.kind&&n.push("  bb.writeVarUint(0);"),n.push(""),n.push("  if (isTopLevel) return bb.toUint8Array();"),n.push("}"),n.join("\n")}function f(r){var a={},i=(r=n(r)).package,s=[];null!==i?s.push("var "+i+" = exports || "+i+" || {}, exports;"):(s.push("var exports = exports || {};"),i="exports"),s.push(i+".ByteBuffer = "+i+'.ByteBuffer || require("kiwi-schema").ByteBuffer;');for(var f=0;f<r.definitions.length;f++){a[(c=r.definitions[f]).name]=c}for(f=0;f<r.definitions.length;f++){var c;switch((c=r.definitions[f]).kind){case"ENUM":for(var l={},d=0;d<c.fields.length;d++){var h=c.fields[d];l[h.name]=h.value,l[h.value]=h.name}s.push(i+"["+e(c.name)+"] = "+JSON.stringify(l,null,2)+";");break;case"STRUCT":case"MESSAGE":s.push(""),s.push(i+"["+e("decode"+c.name)+"] = "+o(c,a)+";"),s.push(""),s.push(i+"["+e("encode"+c.name)+"] = "+u(c,a)+";");break;default:t("Invalid definition kind "+e(c.kind),c.line,c.column)}}return s.push(""),s.join("\n")}r.compileSchema=function(e){var t={ByteBuffer:a};return new Function("exports",f(e))(t),t},r.compileSchemaJS=f}(),function(){r.ByteBuffer;function a(r,n,a){var i;switch(n.type){case"bool":i="bool";break;case"byte":i="uint8_t";break;case"int":i="int32_t";break;case"uint":i="uint32_t";break;case"float":case"float32":i="float";break;case"string":i="kiwi::String";break;default:var o=r[n.type];o||t("Invalid type "+e(n.type)+" for field "+e(n.name),n.line,n.column),i=o.name}return a&&(i="kiwi::Array<"+i+">"),i}function i(e){return"_data_"+e.name}function o(e){return e>>5}function s(e){return 1<<e%32>>>0}function u(e,t){return!t.isArray&&t.type in e&&"ENUM"!==e[t.type].kind}r.compileSchemaCPP=function(r){r=n(r);var f={},c=[];c.push('#include "kiwi.h"'),c.push(""),null!==r.package&&(c.push("namespace "+r.package+" {"),c.push(""),c.push("#ifndef INCLUDE_"+r.package.toUpperCase()+"_H"),c.push("#define INCLUDE_"+r.package.toUpperCase()+"_H"),c.push(""));for(var l=0;l<r.definitions.length;l++){f[(b=r.definitions[l]).name]=b}for(c.push("class BinarySchema {"),c.push("public:"),c.push("  bool parse(kiwi::ByteBuffer &bb);"),l=0;l<r.definitions.length;l++){"MESSAGE"===(b=r.definitions[l]).kind&&c.push("  bool skip"+b.name+"Field(kiwi::ByteBuffer &bb, uint32_t id) const;")}for(c.push(""),c.push("private:"),c.push("  kiwi::BinarySchema _schema;"),l=0;l<r.definitions.length;l++){"MESSAGE"===(b=r.definitions[l]).kind&&c.push("  uint32_t _index"+b.name+" = 0;")}for(c.push("};"),c.push(""),l=0;l<r.definitions.length;l++){if("ENUM"===(b=r.definitions[l]).kind){c.push("enum class "+b.name+" : uint32_t {");for(var d=0;d<b.fields.length;d++){var h=b.fields[d];c.push("  "+h.name+" = "+h.value+",")}c.push("};"),c.push("")}else"STRUCT"!==b.kind&&"MESSAGE"!==b.kind&&t("Invalid definition kind "+e(b.kind),b.line,b.column)}for(var p=0;p<3;p++){var m=!1;if(2===p){null!==r.package&&c.push("#endif"),c.push("#ifdef IMPLEMENT_SCHEMA_H"),c.push(""),c.push("bool BinarySchema::parse(kiwi::ByteBuffer &bb) {"),c.push("  if (!_schema.parse(bb)) return false;");for(l=0;l<r.definitions.length;l++){"MESSAGE"===(b=r.definitions[l]).kind&&c.push('  _schema.findDefinition("'+b.name+'", _index'+b.name+");")}c.push("  return true;"),c.push("}"),c.push("");for(l=0;l<r.definitions.length;l++){"MESSAGE"===(b=r.definitions[l]).kind&&(c.push("bool BinarySchema::skip"+b.name+"Field(kiwi::ByteBuffer &bb, uint32_t id) const {"),c.push("  return _schema.skipField(bb, _index"+b.name+", id);"),c.push("}"),c.push(""))}}for(l=0;l<r.definitions.length;l++){var b;if("ENUM"!==(b=r.definitions[l]).kind){var v=b.fields;if(0===p)c.push("class "+b.name+";"),m=!0;else if(1===p){c.push("class "+b.name+" {"),c.push("public:"),c.push("  "+b.name+"() { (void)_flags; }"),c.push("");for(d=0;d<v.length;d++){if(!(h=v[d]).isDeprecated){var g=i(h),y=a(f,h,h.isArray),_=o(d),w=s(d);u(f,h)?(c.push("  "+y+" *"+h.name+"();"),c.push("  const "+y+" *"+h.name+"() const;"),c.push("  void set_"+h.name+"("+y+" *value);")):h.isArray?(c.push("  "+y+" *"+h.name+"();"),c.push("  const "+y+" *"+h.name+"() const;"),c.push("  "+y+" &set_"+h.name+"(kiwi::MemoryPool &pool, uint32_t count);")):(c.push("  "+y+" *"+h.name+"();"),c.push("  const "+y+" *"+h.name+"() const;"),c.push("  void set_"+h.name+"(const "+y+" &value);")),c.push("")}}c.push("  bool encode(kiwi::ByteBuffer &bb);"),c.push("  bool decode(kiwi::ByteBuffer &bb, kiwi::MemoryPool &pool, const BinarySchema *schema = nullptr);"),c.push(""),c.push("private:"),c.push("  uint32_t _flags["+(v.length+31>>5)+"] = {};");var x={bool:1,byte:1,int:4,uint:4,float:4},k=v.slice().sort((function(e,t){var r=!e.isArray&&x[e.type]||8,n=!t.isArray&&x[t.type]||8;return r!==n?n-r:v.indexOf(e)-v.indexOf(t)}));for(d=0;d<k.length;d++){if(!(h=k[d]).isDeprecated){g=i(h),y=a(f,h,h.isArray);u(f,h)?c.push("  "+y+" *"+g+" = {};"):c.push("  "+y+" "+g+" = {};")}}c.push("};"),c.push("")}else{for(d=0;d<v.length;d++){g=i(h=v[d]),y=a(f,h,h.isArray),_=o(d),w=s(d);h.isDeprecated||(u(f,h)?(c.push(y+" *"+b.name+"::"+h.name+"() {"),c.push("  return "+g+";"),c.push("}"),c.push(""),c.push("const "+y+" *"+b.name+"::"+h.name+"() const {"),c.push("  return "+g+";"),c.push("}"),c.push(""),c.push("void "+b.name+"::set_"+h.name+"("+y+" *value) {"),c.push("  "+g+" = value;"),c.push("}"),c.push("")):h.isArray?(c.push(y+" *"+b.name+"::"+h.name+"() {"),c.push("  return _flags["+_+"] & "+w+" ? &"+g+" : nullptr;"),c.push("}"),c.push(""),c.push("const "+y+" *"+b.name+"::"+h.name+"() const {"),c.push("  return _flags["+_+"] & "+w+" ? &"+g+" : nullptr;"),c.push("}"),c.push(""),c.push(y+" &"+b.name+"::set_"+h.name+"(kiwi::MemoryPool &pool, uint32_t count) {"),c.push("  _flags["+_+"] |= "+w+"; return "+g+" = pool.array<"+a(f,h,!1)+">(count);"),c.push("}"),c.push("")):(c.push(y+" *"+b.name+"::"+h.name+"() {"),c.push("  return _flags["+_+"] & "+w+" ? &"+g+" : nullptr;"),c.push("}"),c.push(""),c.push("const "+y+" *"+b.name+"::"+h.name+"() const {"),c.push("  return _flags["+_+"] & "+w+" ? &"+g+" : nullptr;"),c.push("}"),c.push(""),c.push("void "+b.name+"::set_"+h.name+"(const "+y+" &value) {"),c.push("  _flags["+_+"] |= "+w+"; "+g+" = value;"),c.push("}"),c.push("")))}c.push("bool "+b.name+"::encode(kiwi::ByteBuffer &_bb) {");for(d=0;d<v.length;d++){if(!(h=v[d]).isDeprecated){g=i(h);var S=h.isArray?"_it":g;_=o(d),w=s(d);switch(h.type){case"bool":case"byte":A="_bb.writeByte("+S+");";break;case"int":A="_bb.writeVarInt("+S+");";break;case"uint":A="_bb.writeVarUint("+S+");";break;case"float":case"float32":A="_bb.writeVarFloat("+S+");";break;case"string":A="_bb.writeString("+S+".c_str());";break;default:(y=f[h.type])?A="ENUM"===y.kind?"_bb.writeVarUint(static_cast<uint32_t>("+S+"));":"if (!"+S+(u(f,h)?"->":".")+"encode(_bb)) return false;":t("Invalid type "+e(h.type)+" for field "+e(h.name),h.line,h.column)}var E="  ";"STRUCT"===b.kind?c.push("  if ("+h.name+"() == nullptr) return false;"):(c.push("  if ("+h.name+"() != nullptr) {"),E="    "),"MESSAGE"===b.kind&&c.push(E+"_bb.writeVarUint("+h.value+");"),h.isArray?(c.push(E+"_bb.writeVarUint("+g+".size());"),c.push(E+"for ("+a(f,h,!1)+" &_it : "+g+") "+A)):c.push(E+A),"STRUCT"!==b.kind&&c.push("  }")}}"MESSAGE"===b.kind&&c.push("  _bb.writeVarUint(0);"),c.push("  return true;"),c.push("}"),c.push(""),c.push("bool "+b.name+"::decode(kiwi::ByteBuffer &_bb, kiwi::MemoryPool &_pool, const BinarySchema *_schema) {");for(d=0;d<v.length;d++)if(v[d].isArray){c.push("  uint32_t _count;");break}"MESSAGE"===b.kind&&(c.push("  while (true) {"),c.push("    uint32_t _type;"),c.push("    if (!_bb.readVarUint(_type)) return false;"),c.push("    switch (_type) {"),c.push("      case 0:"),c.push("        return true;"));for(d=0;d<v.length;d++){g=i(h=v[d]),S=h.isArray?"_it":g;var A,T=u(f,h);switch(h.type){case"bool":case"byte":A="_bb.readByte("+S+")";break;case"int":A="_bb.readVarInt("+S+")";break;case"uint":A="_bb.readVarUint("+S+")";break;case"float":case"float32":A="_bb.readVarFloat("+S+")";break;case"string":A="_bb.readString("+S+", _pool)";break;default:(y=f[h.type])?A="ENUM"===y.kind?"_bb.readVarUint(reinterpret_cast<uint32_t &>("+S+"))":S+(T?"->":".")+"decode(_bb, _pool, _schema)":t("Invalid type "+e(h.type)+" for field "+e(h.name),h.line,h.column)}y=a(f,h,!1),E="  ";"MESSAGE"===b.kind&&(c.push("      case "+h.value+": {"),E="        "),h.isArray?(c.push(E+"if (!_bb.readVarUint(_count)) return false;"),h.isDeprecated?c.push(E+"for ("+y+" &_it : _pool.array<"+a(f,h,!1)+">(_count)) if (!"+A+") return false;"):c.push(E+"for ("+y+" &_it : set_"+h.name+"(_pool, _count)) if (!"+A+") return false;")):h.isDeprecated?(T?c.push(E+y+" *"+g+" = _pool.allocate<"+y+">();"):c.push(E+y+" "+g+" = {};"),c.push(E+"if (!"+A+") return false;")):(T&&c.push(E+g+" = _pool.allocate<"+y+">();"),c.push(E+"if (!"+A+") return false;"),T||c.push(E+"set_"+h.name+"("+g+");")),"MESSAGE"===b.kind&&(c.push("        break;"),c.push("      }"))}"MESSAGE"===b.kind?(c.push("      default: {"),c.push("        if (!_schema || !_schema->skip"+b.name+"Field(_bb, _type)) return false;"),c.push("        break;"),c.push("      }"),c.push("    }"),c.push("  }")):c.push("  return true;"),c.push("}"),c.push("")}}}2===p?(c.push("#endif"),c.push("")):m&&c.push("")}return null!==r.package&&(c.push("}"),c.push("")),c.join("\n")}}(),function(){r.ByteBuffer;function e(e,t,r){switch(t){case"bool":return{type:"bool ",name:r};case"byte":return{type:"uint8_t ",name:r};case"int":return{type:"int32_t ",name:r};case"uint":return{type:"uint32_t ",name:r};case"float":return{type:"float ",name:r};case"string":return{type:"const char *",name:r};default:var n=e[t];return"ENUM"===n.kind?{type:n.name+" ",name:r}:null}}function t(r,n,a,i){for(var o=[],s=0;s<a.length;s++){var u=a[s],f=n+u.name;if(u.isArray&&!i)return null;var c=e(r,u.type,f);if(null===c){var l=r[u.type];if("STRUCT"!==l.kind)return null;var d=t(r,f+"_",l.fields,!1);if(null===d)return null;o.push.apply(o,d)}else o.push(c)}return o}function a(e){return e.type+e.name}function i(e){return e.name}function o(e){switch(e.type){case"bool ":case"uint8_t ":return"!bb.readByte("+e.name+")";case"int32_t ":return"!bb.readVarInt("+e.name+")";case"uint32_t ":return"!bb.readVarUint("+e.name+")";case"float ":return"!bb.readVarFloat("+e.name+")";case"const char *":return"!bb.readString("+e.name+")";default:return"!bb.readVarUint(reinterpret_cast<uint32_t &>("+e.name+"))"}}function s(e){switch(e.type){case"bool ":case"uint8_t ":return"_bb.writeByte("+e.name+")";case"int32_t ":return"_bb.writeVarInt("+e.name+")";case"uint32_t ":return"_bb.writeVarUint("+e.name+")";case"float ":return"_bb.writeVarFloat("+e.name+")";case"const char *":return"_bb.writeString("+e.name+")";default:return"_bb.writeVarUint(static_cast<uint32_t>("+e.name+"))"}}function u(e,r,n,s,u){var f=s.name;if(s.isArray){var c="_"+f+"_count";e.push(u+"uint32_t "+c+";"),e.push(u+"if (!bb.readVarUint("+c+")) return false;"),s.isDeprecated||e.push(u+"visitor.visit"+n.name+"_"+s.name+"_count("+c+");"),e.push(u+"while ("+c+"-- > 0) {"),u+="  ",f+="_element"}var l=t(r,"",[s],!0);if(null!==l){for(var d=0;d<l.length;d++)e.push(u+a(l[d])+";");e.push(u+"if ("+l.map(o).join(" || ")+") return false;"),s.isDeprecated||e.push(u+"visitor.visit"+n.name+"_"+f+"("+l.map(i).join(", ")+");")}else{s.isDeprecated||e.push(u+"visitor.visit"+n.name+"_"+f+"();");var h=r[s.type];e.push(u+"if (!parse"+h.name+"(bb, visitor)) return false;")}s.isArray&&e.push(u.slice(2)+"}")}r.compileSchemaCallbackCPP=function(e){e=n(e);for(var r={},f=[],c=0;c<e.definitions.length;c++){r[(b=e.definitions[c]).name]=b}for(null!==e.package&&(f.push("#ifndef INCLUDE_"+e.package.toUpperCase()+"_H"),f.push("#define INCLUDE_"+e.package.toUpperCase()+"_H"),f.push("")),f.push('#include "kiwi.h"'),f.push(""),null!==e.package&&(f.push("namespace "+e.package+" {"),f.push("")),c=0;c<e.definitions.length;c++){if("ENUM"===(b=e.definitions[c]).kind){f.push("enum class "+b.name+" : uint32_t {");for(var l=0;l<b.fields.length;l++){(m=b.fields[l]).isDeprecated||f.push("  "+m.name+" = "+m.value+",")}f.push("};"),f.push("")}}for(var d=0;d<2;d++){var h=") = 0;";0===d?(f.push("class Visitor {"),f.push("public:")):(f.push("class Writer : public Visitor {"),f.push("private:"),f.push("  kiwi::ByteBuffer &_bb;"),f.push("public:"),f.push("  Writer(kiwi::ByteBuffer &bb) : _bb(bb) {}"),h=") override;");for(c=0;c<e.definitions.length;c++){if("STRUCT"===(b=e.definitions[c]).kind)if(null!==(v=t(r,"",b.fields,!1))){f.push("  virtual void visit"+b.name+"("+v.map(a).join(", ")+h);continue}if("STRUCT"===b.kind||"MESSAGE"===b.kind){f.push("  virtual void begin"+b.name+"("+h);for(l=0;l<b.fields.length;l++){if(!(m=b.fields[l]).isDeprecated){var p=m.name;m.isArray&&(f.push("  virtual void visit"+b.name+"_"+m.name+"_count(uint32_t size"+h),p+="_element"),null!==(v=t(r,"",[m],!0))?f.push("  virtual void visit"+b.name+"_"+p+"("+v.map(a).join(", ")+h):f.push("  virtual void visit"+b.name+"_"+p+"("+h)}}f.push("  virtual void end"+b.name+"("+h)}}f.push("};"),f.push("")}for(c=0;c<e.definitions.length;c++){"STRUCT"!==(b=e.definitions[c]).kind&&"MESSAGE"!==b.kind||f.push("bool parse"+b.name+"(kiwi::ByteBuffer &bb, Visitor &visitor);")}for(f.push(""),f.push("#ifdef IMPLEMENT_SCHEMA_H"),f.push(""),c=0;c<e.definitions.length;c++){if("STRUCT"===(b=e.definitions[c]).kind)if(null!==(v=t(r,"",b.fields,!1))){f.push("bool parse"+b.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {");for(l=0;l<v.length;l++)f.push("  "+a(v[l])+";");f.push("  if ("+v.map(o).join(" || ")+") return false;"),f.push("  visitor.visit"+b.name+"("+v.map(i).join(", ")+");"),f.push("  return true;"),f.push("}"),f.push("")}else{f.push("bool parse"+b.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {"),f.push("  visitor.begin"+b.name+"();");for(l=0;l<b.fields.length;l++){u(f,r,b,m=b.fields[l],"  ")}f.push("  visitor.end"+b.name+"();"),f.push("  return true;"),f.push("}"),f.push("")}else if("MESSAGE"===b.kind){f.push("bool parse"+b.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {"),f.push("  visitor.begin"+b.name+"();"),f.push("  while (true) {"),f.push("    uint32_t _type;"),f.push("    if (!bb.readVarUint(_type)) return false;"),f.push("    switch (_type) {"),f.push("      case 0: {"),f.push("        visitor.end"+b.name+"();"),f.push("        return true;"),f.push("      }");for(l=0;l<b.fields.length;l++){var m=b.fields[l];f.push("      case "+m.value+": {"),u(f,r,b,m,"        "),f.push("        break;"),f.push("      }")}f.push("      default: return false;"),f.push("    }"),f.push("  }"),f.push("}"),f.push("")}}for(c=0;c<e.definitions.length;c++){var b;if("STRUCT"===(b=e.definitions[c]).kind)if(null!==(v=t(r,"",b.fields,!1))){f.push("void Writer::visit"+b.name+"("+v.map(a).join(", ")+") {");for(l=0;l<v.length;l++)f.push("  "+s(v[l])+";");f.push("}"),f.push("");continue}if("STRUCT"===b.kind||"MESSAGE"===b.kind){f.push("void Writer::begin"+b.name+"() {"),f.push("}"),f.push("");for(l=0;l<b.fields.length;l++){if(!(m=b.fields[l]).isDeprecated){var v;p=m.name;if(m.isArray&&(f.push("void Writer::visit"+b.name+"_"+m.name+"_count(uint32_t size) {"),"MESSAGE"===b.kind&&f.push("  _bb.writeVarUint("+m.value+");"),f.push("  _bb.writeVarUint(size);"),f.push("}"),f.push(""),p+="_element"),null!==(v=t(r,"",[m],!0))){f.push("void Writer::visit"+b.name+"_"+p+"("+v.map(a).join(", ")+") {"),"MESSAGE"!==b.kind||m.isArray||f.push("  _bb.writeVarUint("+m.value+");");for(var g=0;g<v.length;g++)f.push("  "+s(v[g])+";");f.push("}"),f.push("")}else f.push("void Writer::visit"+b.name+"_"+p+"() {"),"MESSAGE"!==b.kind||m.isArray||f.push("  _bb.writeVarUint("+m.value+");"),f.push("}"),f.push("")}}f.push("void Writer::end"+b.name+"() {"),"MESSAGE"===b.kind&&f.push("  _bb.writeVarUint(0);"),f.push("}"),f.push("")}}return f.push("#endif"),f.push(""),null!==e.package&&(f.push("}"),f.push(""),f.push("#endif"),f.push("")),f.join("\n")}}(),function(){r.ByteBuffer;function a(e){""===e[e.length-1]&&e.pop()}function i(e,t){if(t.isArray)return"null";switch(t.type){case"bool":return"false";case"byte":case"int":case"uint":return"0";case"float":case"float32":return"0.0";case"string":return"null"}var r=e[t.type];return"ENUM"===r.kind?r.fields.length>0?"."+r.fields[0].name:"0 as "+t.type:"null"}function o(e){var t;switch(e.type){case"bool":t="bool";break;case"byte":case"int":case"uint":t="int";break;case"float":case"float32":t="double";break;case"string":t="string";break;default:t=e.type}return e.isArray&&(t="List<"+t+">"),t}r.compileSchemaSkew=function(r){var s={},u="",f=[];null!==(r=n(r)).package&&(f.push("namespace "+r.package+" {"),u+="  ");for(var c=0;c<r.definitions.length;c++){s[(l=r.definitions[c]).name]=l}for(f.push(u+"class BinarySchema {"),f.push(u+"  var _schema = Kiwi.BinarySchema.new"),c=0;c<r.definitions.length;c++){"MESSAGE"===(l=r.definitions[c]).kind&&f.push(u+"  var _index"+l.name+" = 0")}for(f.push(""),f.push(u+"  def parse(bytes Uint8Array) {"),f.push(u+"    _schema.parse(Kiwi.ByteBuffer.new(bytes))"),c=0;c<r.definitions.length;c++){"MESSAGE"===(l=r.definitions[c]).kind&&f.push(u+"    _index"+l.name+' = _schema.findDefinition("'+l.name+'")')}for(f.push(u+"  }"),c=0;c<r.definitions.length;c++){"MESSAGE"===(l=r.definitions[c]).kind&&(f.push(""),f.push(u+"  def skip"+l.name+"Field(bb Kiwi.ByteBuffer, id int) {"),f.push(u+"    _schema.skipField(bb, _index"+l.name+", id)"),f.push(u+"  }"))}for(f.push(u+"}"),f.push(""),c=0;c<r.definitions.length;c++){var l;switch((l=r.definitions[c]).kind){case"ENUM":var d={},h={};f.push(u+"enum "+l.name+" {");for(var p=0;p<l.fields.length;p++){d[(_=l.fields[p]).name]=_.value,h[_.value]=_.name,f.push(u+"  "+_.name)}f.push(u+"}"),f.push(""),f.push(u+"namespace "+l.name+" {"),f.push(u+"  const _encode = "+JSON.stringify(d,null,2).replace(/"/g,"").replace(/\n/g,"\n  "+u)),f.push(""),f.push(u+"  const _decode = "+JSON.stringify(h,null,2).replace(/"/g,"").replace(/\n/g,"\n  "+u)),f.push(""),f.push(u+"  def encode(value "+l.name+") int {"),f.push(u+"    return _encode[value]"),f.push(u+"  }"),f.push(""),f.push(u+"  def decode(value int) "+l.name+" {"),f.push(u+"    if !(value in _decode) {"),f.push(u+"      Kiwi.DecodeError.throwInvalidEnumValue("+e(l.name)+")"),f.push(u+"    }"),f.push(u+"    return _decode[value]"),f.push(u+"  }"),f.push(u+"}"),f.push("");break;case"STRUCT":case"MESSAGE":f.push(u+"class "+l.name+" {");for(p=0;p<l.fields.length;p+=32)f.push(u+"  var _flags"+(p>>5)+" = 0");for(p=0;p<l.fields.length;p++){(_=l.fields[p]).isDeprecated||f.push(u+"  var _"+_.name+" "+o(_)+" = "+i(s,_))}f.push("");for(p=0;p<l.fields.length;p++){if(!(_=l.fields[p]).isDeprecated){var m=o(_),b="_flags"+(p>>5),v=""+(1<<p%31);f.push(u+"  def has_"+_.name+" bool {"),f.push(u+"    return ("+b+" & "+v+") != 0"),f.push(u+"  }"),f.push(""),f.push(u+"  def "+_.name+" "+m+" {"),f.push(u+"    assert(has_"+_.name+")"),f.push(u+"    return _"+_.name),f.push(u+"  }"),f.push(""),f.push(u+"  def "+_.name+"=(value "+m+") {"),f.push(u+"    _"+_.name+" = value"),f.push(u+"    "+b+" |= "+v),f.push(u+"  }"),f.push("")}}f.push(u+"  def encode(bb Kiwi.ByteBuffer) {");for(p=0;p<l.fields.length;p++){if(!(_=l.fields[p]).isDeprecated){var g="_"+_.name;switch(_.isArray&&(g="value"),_.type){case"bool":w="bb.writeByte("+g+" as int)";break;case"byte":w="bb.writeByte("+g+")";break;case"int":w="bb.writeVarInt("+g+")";break;case"uint":w="bb.writeVarUint("+g+")";break;case"float":case"float32":w="bb.writeVarFloat("+g+")";break;case"string":w="bb.writeString("+g+")";break;default:if(!(m=s[_.type]))throw new Error("Invalid type "+e(_.type)+" for field "+e(_.name));w="ENUM"===m.kind?"bb.writeVarUint("+m.name+".encode("+g+"))":g+".encode(bb)"}var y=u+"    ";"STRUCT"===l.kind?f.push(y+"assert(has_"+_.name+")"):(f.push(y+"if has_"+_.name+" {"),y+="  "),"MESSAGE"===l.kind&&f.push(y+"bb.writeVarUint("+_.value+")"),_.isArray?(f.push(y+"bb.writeVarUint(_"+_.name+".count)"),f.push(y+"for value in _"+_.name+" {"),f.push(y+"  "+w),f.push(y+"}")):f.push(y+w),"STRUCT"!==l.kind&&f.push(u+"    }"),f.push("")}}"MESSAGE"===l.kind?f.push(u+"    bb.writeVarUint(0)"):a(f),f.push(u+"  }"),f.push(""),f.push(u+"  def encode Uint8Array {"),f.push(u+"    var bb = Kiwi.ByteBuffer.new"),f.push(u+"    encode(bb)"),f.push(u+"    return bb.toUint8Array"),f.push(u+"  }"),f.push(u+"}"),f.push(""),f.push(u+"namespace "+l.name+" {"),f.push(u+"  def decode(bytes Uint8Array) "+l.name+" {"),f.push(u+"    return decode(Kiwi.ByteBuffer.new(bytes), null)"),f.push(u+"  }"),f.push(""),f.push(u+"  def decode(bytes Uint8Array, schema BinarySchema) "+l.name+" {"),f.push(u+"    return decode(Kiwi.ByteBuffer.new(bytes), schema)"),f.push(u+"  }"),f.push(""),f.push(u+"  def decode(bb Kiwi.ByteBuffer, schema BinarySchema) "+l.name+" {"),f.push(u+"    var self = new");for(p=0;p<l.fields.length;p++)if(l.fields[p].isArray){f.push(u+"    var count = 0");break}y=u+"  ";"MESSAGE"===l.kind&&(f.push(u+"    while true {"),f.push(u+"      var type = bb.readVarUint"),f.push(u+"      switch type {"),f.push(u+"        case 0 {"),f.push(u+"          break"),f.push(u+"        }"),f.push(""),y+="      ");for(p=0;p<l.fields.length;p++){var _,w;switch((_=l.fields[p]).type){case"bool":w="bb.readByte as bool";break;case"byte":w="bb.readByte";break;case"int":w="bb.readVarInt";break;case"uint":w="bb.readVarUint";break;case"float":case"float32":w="bb.readVarFloat";break;case"string":w="bb.readString";break;default:if(!(m=s[_.type]))throw new Error("Invalid type "+e(_.type)+" for field "+e(_.name));w="ENUM"===m.kind?m.name+".decode(bb.readVarUint)":m.name+".decode(bb, schema)"}"MESSAGE"===l.kind&&f.push(y+"case "+_.value+" {"),_.isArray?_.isDeprecated?(f.push(y+"  for i in 0..bb.readVarUint {"),f.push(y+"    "+w),f.push(y+"  }")):(f.push(y+"  count = bb.readVarUint"),f.push(y+"  self."+_.name+" = []"),f.push(y+"  for array = self._"+_.name+"; count != 0; count-- {"),f.push(y+"    array.append("+w+")"),f.push(y+"  }")):_.isDeprecated?f.push(y+"  "+w):f.push(y+"  self."+_.name+" = "+w),"MESSAGE"===l.kind&&(f.push(y+"}"),f.push(""))}"MESSAGE"===l.kind&&(f.push(u+"        default {"),f.push(u+"          if schema == null { Kiwi.DecodeError.throwInvalidMessage }"),f.push(u+"          else { schema.skip"+l.name+"Field(bb, type) }"),f.push(u+"        }"),f.push(u+"      }"),f.push(u+"    }")),f.push(u+"    return self"),f.push(u+"  }"),f.push(u+"}"),f.push("");break;default:t("Invalid definition kind "+e(l.kind),l.line,l.column)}}return null!==r.package&&(a(f),f.push("}")),f.push(""),f.join("\n")}}(),function(){r.ByteBuffer;function a(e){var t;switch(e.type){case"bool":t="boolean";break;case"byte":case"int":case"uint":case"float":t="number";break;case"float32":t="Float32Array",e.isArray=!1;break;case"map":t="{ [key: "+a({type:e.mapKeyType})+"]: "+a({type:e.mapValueType})+" }";break;default:t=e.type}return t}r.compileSchemaTypeScript=function(r){var i="",o=[];null!==(r=n(r)).package&&(o.push("export namespace "+r.package+" {"),i+="  ");for(var s=0;s<r.definitions.length;s++){if("ENUM"===(l=r.definitions[s]).kind){o.push(i+"export enum "+l.name+" {");for(var u=0;u<l.fields.length;u++)o.push(i+"  "+l.fields[u].name+" = "+JSON.stringify(l.fields[u].name)+",");o.push(i+"}"),o.push("")}}for(s=0;s<r.definitions.length;s++){if("STRUCT"===(l=r.definitions[s]).kind||"MESSAGE"===l.kind){o.push(i+"export interface "+l.name+" {");for(u=0;u<l.fields.length;u++){var f=l.fields[u];if(!f.isDeprecated){var c=a(f);o.push(i+"  "+f.name+("MESSAGE"===l.kind?"?":"")+": "+c+(f.isArray?"[]":"")+";")}}o.push(i+"}"),o.push("")}else"ENUM"!==l.kind&&t("Invalid definition kind "+e(l.kind),l.line,l.column)}for(o.push(i+"export interface Schema {"),s=0;s<r.definitions.length;s++){var l;"STRUCT"!==(l=r.definitions[s]).kind&&"MESSAGE"!==l.kind||(o.push(i+"  encode"+l.name+"(message: "+l.name+"): Uint8Array;"),o.push(i+"  decode"+l.name+"(buffer: Uint8Array): "+l.name+";"))}return o.push(i+"}"),null!==r.package&&o.push("}"),o.push(""),o.join("\n")}}()}()},"728cccc9176be1ad1e99":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e).getTime(),a=n(t).getTime();return r>a?-1:r<a?1:0}},"7958b2fbbfba56fc0304":function(e,t,r){var n=r("24ac299100e59d22de95"),a=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=a(e),i=a(t);return 4*(r.getFullYear()-i.getFullYear())+(n(r)-n(i))}},"7cd1dda49938fb07ec51":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}},"7d0c61426937d7583c91":function(e,t){var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var a=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+a.join("|")+"|.)","g")}},"7f5089abd2e7ff3401e8":function(e,t,r){var n=r("ae50f0fb6d053525fa76"),a=6e4;e.exports=function(e,t){var r=Number(t);return n(e,r*a)}},"7fffc28f4fa8d3980fba":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var r,a,i=n(e).getTime();return t.forEach((function(e){var t=n(e),o=Math.abs(i-t.getTime());(void 0===r||o<a)&&(r=t,a=o)})),r}},"801c0d82551c03ed5b46":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setDate(1),t.setHours(0,0,0,0),t}},"8180af8e9f7890b148bf":function(e,t,r){var n=r("0073c7917c9fbf791a32");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()===a.getTime()}},"8382f6cda97cd46e702a":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("6cc96edcbaf225e009e2"),i=r("a7a70b80c2e0d4a3dee4");e.exports=function(e,t){var r=n(e),o=n(t),s=i(r,o),u=Math.abs(a(r,o));return r.setDate(r.getDate()-s*u),s*(u-(i(r,o)===-s))}},"84a66bedae475c1024f0":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getSeconds()}},"8540a3217129eda25d63":function(e,t){e.exports=function(e,t){t||(t=[0,""]),e=String(e);var r=parseFloat(e,10);return t[0]=r,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},"85b2e509ec46d66a2fc6":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}},"881ad95e7126688b4894":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 2===n(e).getDay()}},"88a352f87f13664938d1":function(e,t,r){var n=r("e95c05475cb1ce30a750");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()===a.getTime()}},"8aa08b1f6a6526ecc3e9":function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n-1),a.setHours(0,0,0,0),a}},"8bc9b29c71ef266be998":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("601e5cf8f33267c33850"),i=r("1cdd7fc0084d78361169");e.exports=function(e,t){var r=n(e),o=Number(t),s=i(r);return a(r,o-s)}},"8be860d87f76fa0165a6":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 6===n(e).getDay()}},"8d316e0ae2ff0ae29e52":function(e,t,r){var n=r("e95c05475cb1ce30a750");e.exports=function(e){var t=new Date;return t.setDate(t.getDate()+1),n(e).getTime()===n(t).getTime()}},"8e21d5c3c1726f4c6bb8":function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,r,n){var a;return n=n||{},a="string"==typeof e[t]?e[t]:1===r?e[t].one:e[t].other.replace("{{count}}",r),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a}}}},"8f506a964c5d3a4cc738":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=t&&Number(t.weekStartsOn)||0,a=n(e),i=a.getDay(),o=6+(i<r?-7:0)-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}},"8fee138e7b017f8f345e":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 4===n(e).getDay()}},"917e65857cfcff026003":function(e,t,r){var n=r("14ceca2179b6535e3ca9");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},"9333ad2d90813f899792":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()-a.getTime()}},"9402468988d3960ef72a":function(e,t,r){var n=r("09565c4a498df1f319eb"),a=["left","middle","right"];e.exports=function(e,t){var r=new n;r.left=!1,r.right=!1,r.middle=!1,r.dispose=function(){r.left=!1,r.right=!1,r.middle=!1,e&&(e.removeEventListener("contextmenu",s,!1),e.removeEventListener("mousedown",i,!1),window.removeEventListener("mouseup",o,!1))},"undefined"!=typeof window&&((e=e||window).addEventListener("mousedown",i,!1),window.addEventListener("mouseup",o,!1),t&&e.addEventListener("contextmenu",s,!1));return r;function i(e){if(r.right=!1,r[a[e.button]]=!0,r.emit("down",e),t){if(!e.preventDefault)return!1;e.preventDefault(),e.stopPropagation()}}function o(e){r.right=!1,r[a[e.button]]=!1,r.emit("up",e),t&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())}function s(e){return e.preventDefault&&e.preventDefault()&&!1}}},"948b924cc3296c511ec5":function(e,t,r){var n=r("9333ad2d90813f899792"),a=36e5;e.exports=function(e,t){var r=n(e,t)/a;return r>0?Math.floor(r):Math.ceil(r)}},"94e27024222d446009af":function(e,t,r){"use strict";var n=r("ea795334188135c9b5cc");e.exports=function(e,t,r){"function"==typeof e&&(r=!!t,t=e,e=window);var a=n("ex",e),i=function(e){r&&e.preventDefault();var n=e.deltaX||0,i=e.deltaY||0,o=e.deltaZ||0,s=1;switch(e.deltaMode){case 1:s=a;break;case 2:s=window.innerHeight}if(i*=s,o*=s,(n*=s)||i||o)return t(n,i,o,e)};return e.addEventListener("wheel",i),i}},"95d0e70cca4d71997ac3":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setMinutes(59,59,999),t}},"964a8f09beba730f6808":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getDay()}},"96ce7f7a2d8bbb214ddc":function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getTime()<(new Date).getTime()}},"98f4430d321660ec1202":function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n+1),a.setHours(0,0,0,0),a}},"9a70c82fd2199613d3d3":function(e,t,r){var n=r("8e21d5c3c1726f4c6bb8"),a=r("172aa7ba3d106cbfa8dd");e.exports={distanceInWords:n(),format:a()}},"9a8605fe2aea5c9ce24f":function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("09a649859af839bd3916"),i=r("04c52dc9d082ac68247d");e.exports=function(e){var t=n(e);return a(t).getTime()===i(t).getTime()}},"9b2f65c6046c8a4526a5":function(e,t,r){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},i=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function s(e,t,r){return Math.min(Math.max(e,t),r)}function u(e,t){return e.indexOf(t)>-1}function f(e,t){return e.apply(null,t)}var c={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return c.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||c.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return c.hex(e)||c.rgb(e)||c.hsl(e)},key:function(e){return!n.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function l(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function d(e,t){var r=l(e),n=s(c.und(r[0])?1:r[0],.1,100),a=s(c.und(r[1])?100:r[1],.1,100),i=s(c.und(r[2])?10:r[2],.1,100),u=s(c.und(r[3])?0:r[3],.1,100),f=Math.sqrt(a/n),d=i/(2*Math.sqrt(a*n)),h=d<1?f*Math.sqrt(1-d*d):0,p=1,m=d<1?(d*f-u)/h:-u+f;function b(e){var r=t?t*e/1e3:e;return r=d<1?Math.exp(-r*d*f)*(p*Math.cos(h*r)+m*Math.sin(h*r)):(p+m*r)*Math.exp(-r*f),0===e||1===e?e:1-r}return t?b:function(){var t=o.springs[e];if(t)return t;for(var r=0,n=0;;)if(1===b(r+=1/6)){if(++n>=16)break}else n=0;var a=r*(1/6)*1e3;return o.springs[e]=a,a}}function h(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var p=function(){var e=11,t=1/(e-1);function r(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function a(e){return 3*e}function i(e,t,i){return((r(t,i)*e+n(t,i))*e+a(t))*e}function o(e,t,i){return 3*r(t,i)*e*e+2*n(t,i)*e+a(t)}return function(r,n,a,s){if(0<=r&&r<=1&&0<=a&&a<=1){var u=new Float32Array(e);if(r!==n||a!==s)for(var f=0;f<e;++f)u[f]=i(f*t,r,a);return function(e){return r===n&&a===s?e:0===e||1===e?e:i(c(e),n,s)}}function c(n){for(var s=0,f=1,c=e-1;f!==c&&u[f]<=n;++f)s+=t;--f;var l=s+(n-u[f])/(u[f+1]-u[f])*t,d=o(l,r,a);return d>=.001?function(e,t,r,n){for(var a=0;a<4;++a){var s=o(t,r,n);if(0===s)return t;t-=(i(t,r,n)-e)/s}return t}(n,l,r,a):0===d?l:function(e,t,r,n,a){var o,s,u=0;do{(o=i(s=t+(r-t)/2,n,a)-e)>0?r=s:t=s}while(Math.abs(o)>1e-7&&++u<10);return s}(n,s,s+t,r,a)}}}(),m=function(){var e={linear:function(){return function(e){return e}}},t={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=s(e,1,10),n=s(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,r){t[e]=function(){return function(e){return Math.pow(e,r+2)}}})),Object.keys(t).forEach((function(r){var n=t[r];e["easeIn"+r]=n,e["easeOut"+r]=function(e,t){return function(r){return 1-n(e,t)(1-r)}},e["easeInOut"+r]=function(e,t){return function(r){return r<.5?n(e,t)(2*r)/2:1-n(e,t)(-2*r+2)/2}}})),e}();function b(e,t){if(c.fnc(e))return e;var r=e.split("(")[0],n=m[r],a=l(e);switch(r){case"spring":return d(e,t);case"cubicBezier":return f(p,a);case"steps":return f(h,a);default:return f(n,a)}}function v(e){try{return document.querySelectorAll(e)}catch(t){return}}function g(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,a=[],i=0;i<r;i++)if(i in e){var o=e[i];t.call(n,o,i,e)&&a.push(o)}return a}function y(e){return e.reduce((function(e,t){return e.concat(c.arr(t)?y(t):t)}),[])}function _(e){return c.arr(e)?e:(c.str(e)&&(e=v(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function w(e,t){return e.some((function(e){return e===t}))}function x(e){var t={};for(var r in e)t[r]=e[r];return t}function k(e,t){var r=x(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function S(e,t){var r=x(e);for(var n in t)r[n]=c.und(e[n])?t[n]:e[n];return r}function E(e){return c.rgb(e)?function(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}(e):c.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}(e):c.hsl(e)?function(e){var t,r,n,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(a[1],10)/360,o=parseInt(a[2],10)/100,s=parseInt(a[3],10)/100,u=a[4]||1;function f(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==o)t=r=n=s;else{var c=s<.5?s*(1+o):s+o-s*o,l=2*s-c;t=f(l,c,i+1/3),r=f(l,c,i),n=f(l,c,i-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+u+")"}(e):void 0}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function T(e,t){return c.fnc(e)?e(t.target,t.id,t.total):e}function D(e,t){return e.getAttribute(t)}function O(e,t,r){if(w([r,"deg","rad","turn"],A(t)))return t;var n=o.CSS[t+r];if(!c.und(n))return n;var a=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(a),a.style.position="absolute",a.style.width=100+r;var s=100/a.offsetWidth;i.removeChild(a);var u=s*parseFloat(t);return o.CSS[t+r]=u,u}function C(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?O(e,a,r):a}}function M(e,t){return c.dom(e)&&!c.inp(e)&&(D(e,t)||c.svg(e)&&e[t])?"attribute":c.dom(e)&&w(i,t)?"transform":c.dom(e)&&"transform"!==t&&C(e,t)?"css":null!=e[t]?"object":void 0}function z(e){if(c.dom(e)){for(var t,r=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,a=new Map;t=n.exec(r);)a.set(t[1],t[2]);return a}}function I(e,t,r,n){var a=u(t,"scale")?1:0+function(e){return u(e,"translate")||"perspective"===e?"px":u(e,"rotate")||u(e,"skew")?"deg":void 0}(t),i=z(e).get(t)||a;return r&&(r.transforms.list.set(t,i),r.transforms.last=t),n?O(e,i,n):i}function B(e,t,r,n){switch(M(e,t)){case"transform":return I(e,t,n,r);case"css":return C(e,t,r);case"attribute":return D(e,t);default:return e[t]||0}}function F(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=A(e)||0,a=parseFloat(t),i=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return a+i+n;case"-":return a-i+n;case"*":return a*i+n}}function j(e,t){if(c.col(e))return E(e);if(/\s/g.test(e))return e;var r=A(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function R(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function U(e){for(var t,r=e.points,n=0,a=0;a<r.numberOfItems;a++){var i=r.getItem(a);a>0&&(n+=R(t,i)),t=i}return n}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*D(e,"r")}(e);case"rect":return function(e){return 2*D(e,"width")+2*D(e,"height")}(e);case"line":return function(e){return R({x:D(e,"x1"),y:D(e,"y1")},{x:D(e,"x2"),y:D(e,"y2")})}(e);case"polyline":return U(e);case"polygon":return function(e){var t=e.points;return U(e)+R(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function P(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;c.svg(t)&&c.svg(t.parentNode);)t=t.parentNode;return t}(e),a=n.getBoundingClientRect(),i=D(n,"viewBox"),o=a.width,s=a.height,u=r.viewBox||(i?i.split(" "):[0,0,o,s]);return{el:n,viewBox:u,x:u[0]/1,y:u[1]/1,w:o/u[2],h:s/u[3]}}function L(e,t){function r(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var n=P(e.el,e.svg),a=r(),i=r(-1),o=r(1);switch(e.property){case"x":return(a.x-n.x)*n.w;case"y":return(a.y-n.y)*n.h;case"angle":return 180*Math.atan2(o.y-i.y,o.x-i.x)/Math.PI}}function W(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=j(c.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:c.str(e)||t?n.split(r):[]}}function H(e){return g(e?y(c.arr(e)?e.map(_):_(e)):[],(function(e,t,r){return r.indexOf(e)===t}))}function Y(e){var t=H(e);return t.map((function(e,r){return{target:e,id:r,total:t.length,transforms:{list:z(e)}}}))}function V(e,t){var r=x(t);if(/^spring/.test(r.easing)&&(r.duration=d(r.easing)),c.arr(e)){var n=e.length;2===n&&!c.obj(e[0])?e={value:e}:c.fnc(t.duration)||(r.duration=t.duration/n)}var a=c.arr(e)?e:[e];return a.map((function(e,r){var n=c.obj(e)&&!c.pth(e)?e:{value:e};return c.und(n.delay)&&(n.delay=r?0:t.delay),c.und(n.endDelay)&&(n.endDelay=r===a.length-1?t.endDelay:0),n})).map((function(e){return S(e,r)}))}function G(e,t){var r=[],n=t.keyframes;for(var a in n&&(t=S(function(e){for(var t=g(y(e.map((function(e){return Object.keys(e)}))),(function(e){return c.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),r={},n=function(n){var a=t[n];r[a]=e.map((function(e){var t={};for(var r in e)c.key(r)?r==a&&(t.value=e[r]):t[r]=e[r];return t}))},a=0;a<t.length;a++)n(a);return r}(n),t)),t)c.key(a)&&r.push({name:a,tweens:V(t[a],e)});return r}function Z(e,t){var r;return e.tweens.map((function(n){var a=function(e,t){var r={};for(var n in e){var a=T(e[n],t);c.arr(a)&&1===(a=a.map((function(e){return T(e,t)}))).length&&(a=a[0]),r[n]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,t),i=a.value,o=c.arr(i)?i[1]:i,s=A(o),u=B(t.target,e.name,s,t),f=r?r.to.original:u,l=c.arr(i)?i[0]:f,d=A(l)||A(u),h=s||d;return c.und(o)&&(o=f),a.from=W(l,h),a.to=W(F(o,l),h),a.start=r?r.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=b(a.easing,a.duration),a.isPath=c.pth(i),a.isColor=c.col(a.from.original),a.isColor&&(a.round=1),r=a,a}))}var $={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,a){if(n.list.set(t,r),t===n.last||a){var i="";n.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function q(e,t){Y(e).forEach((function(e){for(var r in t){var n=T(t[r],e),a=e.target,i=A(n),o=B(a,r,i,e),s=F(j(n,i||A(o)),o),u=M(a,r);$[u](a,r,s,e.transforms,!0)}}))}function X(e,t){return g(y(e.map((function(e){return t.map((function(t){return function(e,t){var r=M(e.target,t.name);if(r){var n=Z(t,e),a=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:a.end,delay:n[0].delay,endDelay:a.endDelay}}}(e,t)}))}))),(function(e){return!c.und(e)}))}function K(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=r?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,a.delay=r?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,a.endDelay=r?a.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,a}var Q=0;var J,ee=[],te=[],re=function(){function e(){J=requestAnimationFrame(t)}function t(t){var r=ee.length;if(r){for(var n=0;n<r;){var a=ee[n];if(a.paused){var i=ee.indexOf(a);i>-1&&(ee.splice(i,1),r=ee.length)}else a.tick(t);n++}e()}else J=cancelAnimationFrame(J)}return e}();function ne(e){void 0===e&&(e={});var t,r=0,i=0,o=0,u=0,f=null;function c(e){var t=window.Promise&&new Promise((function(e){return f=e}));return e.finished=t,t}var l=function(e){var t=k(n,e),r=k(a,e),i=G(r,e),o=Y(e.targets),s=X(o,i),u=K(s,r),f=Q;return Q++,S(t,{id:f,children:[],animatables:o,animations:s,duration:u.duration,delay:u.delay,endDelay:u.endDelay})}(e);c(l);function d(){var e=l.direction;"alternate"!==e&&(l.direction="normal"!==e?"normal":"reverse"),l.reversed=!l.reversed,t.forEach((function(e){return e.reversed=l.reversed}))}function h(e){return l.reversed?l.duration-e:e}function p(){r=0,i=h(l.currentTime)*(1/ne.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function b(e){for(var t=0,r=l.animations,n=r.length;t<n;){var a=r[t],i=a.animatable,o=a.tweens,u=o.length-1,f=o[u];u&&(f=g(o,(function(t){return e<t.end}))[0]||f);for(var c=s(e-f.start-f.delay,0,f.duration)/f.duration,d=isNaN(c)?1:f.easing(c),h=f.to.strings,p=f.round,m=[],b=f.to.numbers.length,v=void 0,y=0;y<b;y++){var _=void 0,w=f.to.numbers[y],x=f.from.numbers[y]||0;_=f.isPath?L(f.value,d*w):x+d*(w-x),p&&(f.isColor&&y>2||(_=Math.round(_*p)/p)),m.push(_)}var k=h.length;if(k){v=h[0];for(var S=0;S<k;S++){h[S];var E=h[S+1],A=m[S];isNaN(A)||(v+=E?A+E:A+" ")}}else v=m[0];$[a.type](i.target,a.property,v,i.transforms),a.currentValue=v,t++}}function v(e){l[e]&&!l.passThrough&&l[e](l)}function y(e){var n=l.duration,a=l.delay,p=n-l.endDelay,g=h(e);l.progress=s(g/n*100,0,100),l.reversePlayback=g<l.currentTime,t&&function(e){if(l.reversePlayback)for(var r=u;r--;)m(e,t[r]);else for(var n=0;n<u;n++)m(e,t[n])}(g),!l.began&&l.currentTime>0&&(l.began=!0,v("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,v("loopBegin")),g<=a&&0!==l.currentTime&&b(0),(g>=p&&l.currentTime!==n||!n)&&b(n),g>a&&g<p?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,v("changeBegin")),v("change"),b(g)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,v("changeComplete")),l.currentTime=s(g,0,n),l.began&&v("update"),e>=n&&(i=0,function(){l.remaining&&!0!==l.remaining&&l.remaining--}(),l.remaining?(r=o,v("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&d()):(l.paused=!0,l.completed||(l.completed=!0,v("loopComplete"),v("complete"),!l.passThrough&&"Promise"in window&&(f(),c(l)))))}return l.reset=function(){var e=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===e,l.remaining=l.loop,t=l.children;for(var r=u=t.length;r--;)l.children[r].reset();(l.reversed&&!0!==l.loop||"alternate"===e&&1===l.loop)&&l.remaining++,b(l.reversed?l.duration:0)},l.set=function(e,t){return q(e,t),l},l.tick=function(e){o=e,r||(r=o),y((o+(i-r))*ne.speed)},l.seek=function(e){y(h(e))},l.pause=function(){l.paused=!0,p()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,ee.push(l),p(),J||re())},l.reverse=function(){d(),l.completed=!l.reversed,p()},l.restart=function(){l.reset(),l.play()},l.reset(),l.autoplay&&l.play(),l}function ae(e,t){for(var r=t.length;r--;)w(e,t[r].animatable.target)&&t.splice(r,1)}"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){document.hidden?(ee.forEach((function(e){return e.pause()})),te=ee.slice(0),ne.running=ee=[]):te.forEach((function(e){return e.play()}))})),ne.version="3.2.0",ne.speed=1,ne.running=ee,ne.remove=function(e){for(var t=H(e),r=ee.length;r--;){var n=ee[r],a=n.animations,i=n.children;ae(t,a);for(var o=i.length;o--;){var s=i[o],u=s.animations;ae(t,u),u.length||s.children.length||i.splice(o,1)}a.length||i.length||n.pause()}},ne.get=B,ne.set=q,ne.convertPx=O,ne.path=function(e,t){var r=c.str(e)?v(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:P(r),totalLength:N(r)*(n/100)}}},ne.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},ne.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?b(t.easing):null,a=t.grid,i=t.axis,o=t.from||0,s="first"===o,u="center"===o,f="last"===o,l=c.arr(e),d=l?parseFloat(e[0]):parseFloat(e),h=l?parseFloat(e[1]):0,p=A(l?e[1]:e)||0,m=t.start||0+(l?d:0),v=[],g=0;return function(e,t,c){if(s&&(o=0),u&&(o=(c-1)/2),f&&(o=c-1),!v.length){for(var b=0;b<c;b++){if(a){var y=u?(a[0]-1)/2:o%a[0],_=u?(a[1]-1)/2:Math.floor(o/a[0]),w=y-b%a[0],x=_-Math.floor(b/a[0]),k=Math.sqrt(w*w+x*x);"x"===i&&(k=-w),"y"===i&&(k=-x),v.push(k)}else v.push(Math.abs(o-b));g=Math.max.apply(Math,v)}n&&(v=v.map((function(e){return n(e/g)*g}))),"reverse"===r&&(v=v.map((function(e){return i?e<0?-1*e:-e:Math.abs(g-e)})))}return m+(l?(h-d)/g:d)*(Math.round(100*v[t])/100)+p}},ne.timeline=function(e){void 0===e&&(e={});var t=ne(e);return t.duration=0,t.add=function(r,n){var i=ee.indexOf(t),o=t.children;function s(e){e.passThrough=!0}i>-1&&ee.splice(i,1);for(var u=0;u<o.length;u++)s(o[u]);var f=S(r,k(a,e));f.targets=f.targets||e.targets;var l=t.duration;f.autoplay=!1,f.direction=t.direction,f.timelineOffset=c.und(n)?l:F(n,l),s(t),t.seek(f.timelineOffset);var d=ne(f);s(d),o.push(d);var h=K(o,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ne.easing=b,ne.penner=m,ne.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.a=ne},"9e8d9e5af89f373b8e59":function(e,t){e.exports=function(e){return e instanceof Date}},a1aa598375ebfda31697:function(e,t,r){var n=r("9333ad2d90813f899792");e.exports=function(e,t){var r=n(e,t)/1e3;return r>0?Math.floor(r):Math.ceil(r)}},a615f3e614f859da23e1:function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("387fc678a7763efc9c57"),i=r("6cc96edcbaf225e009e2");e.exports=function(e){var t=n(e);return i(t,a(t))+1}},a7a70b80c2e0d4a3dee4:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e).getTime(),a=n(t).getTime();return r<a?-1:r>a?1:0}},a7bb61ba2b05dbfec547:function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("d285c8538869645583ae");e.exports=function(e,t){var r=n(e),i=Number(t),o=r.getFullYear(),s=r.getDate(),u=new Date(0);u.setFullYear(o,i,15),u.setHours(0,0,0,0);var f=a(u);return r.setMonth(i,Math.min(s,f)),r}},a8320c152686bd6d1083:function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("d285c8538869645583ae");e.exports=function(e,t){var r=n(e),i=Number(t),o=r.getMonth()+i,s=new Date(0);s.setFullYear(r.getFullYear(),o,1),s.setHours(0,0,0,0);var u=a(s);return r.setMonth(o,Math.min(u,r.getDate())),r}},a90198a5258cc42f6e6b:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 1===n(e).getDay()}},aa1a56366d27b94d90f0:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getTime()>(new Date).getTime()}},ade330970a7b2bd6d699:function(e,t,r){var n=r("bfe3b85eba61ad50cb21"),a=r("0c7e267795046551f282"),i=6048e5;e.exports=function(e){var t=n(e),r=n(a(t,60)).valueOf()-t.valueOf();return Math.round(r/i)}},ae50f0fb6d053525fa76:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e).getTime(),a=Number(t);return new Date(r+a)}},af4f64c45ab984b03601:function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("bfe3b85eba61ad50cb21"),i=r("6cc96edcbaf225e009e2");e.exports=function(e,t){var r=n(e),o=Number(t),s=i(r,a(r)),u=new Date(0);return u.setFullYear(o,0,4),u.setHours(0,0,0,0),(r=a(u)).setDate(r.getDate()+s),r}},af5762e232febd998147:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()>a.getTime()}},b0e54c4add9436785793:function(e,t,r){var n=r("6f3b013cfa5b1e1328f8");e.exports=function(e,t){return n(e,t,{weekStartsOn:1})}},b0e9208520c53da0c97a:function(e,t,r){var n=r("85b2e509ec46d66a2fc6");e.exports=function(e){return n(e)?366:365}},b0ec6337ee9c9d31e19a:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return 5===n(e).getDay()}},b20a1e53bd791fccd66c:function(e,t,r){var n=r("7f5089abd2e7ff3401e8");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},b282c606f67e57cd891a:function(e,t,r){var n=r("9e8d9e5af89f373b8e59"),a=36e5,i=6e4,o=2,s=/[T ]/,u=/:/,f=/^(\d{2})$/,c=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],l=/^(\d{4})/,d=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,p=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,b=/^-?W(\d{2})$/,v=/^-?W(\d{2})-?(\d{1})$/,g=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,w=/([Z+-].*)$/,x=/^(Z)$/,k=/^([+-])(\d{2})$/,S=/^([+-])(\d{2}):?(\d{2})$/;function E(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var a=7*t+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+a),n}e.exports=function(e,t){if(n(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var r=(t||{}).additionalDigits;r=null==r?o:Number(r);var A=function(e){var t,r={},n=e.split(s);u.test(n[0])?(r.date=null,t=n[0]):(r.date=n[0],t=n[1]);if(t){var a=w.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}(e),T=function(e,t){var r,n=c[t],a=d[t];if(r=l.exec(e)||a.exec(e)){var i=r[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(r=f.exec(e)||n.exec(e)){var o=r[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(A.date,r),D=T.year,O=function(e,t){if(null===t)return null;var r,n,a,i;if(0===e.length)return(n=new Date(0)).setUTCFullYear(t),n;if(r=h.exec(e))return n=new Date(0),a=parseInt(r[1],10)-1,n.setUTCFullYear(t,a),n;if(r=p.exec(e)){n=new Date(0);var o=parseInt(r[1],10);return n.setUTCFullYear(t,0,o),n}if(r=m.exec(e)){n=new Date(0),a=parseInt(r[1],10)-1;var s=parseInt(r[2],10);return n.setUTCFullYear(t,a,s),n}if(r=b.exec(e))return i=parseInt(r[1],10)-1,E(t,i);if(r=v.exec(e)){i=parseInt(r[1],10)-1;var u=parseInt(r[2],10)-1;return E(t,i,u)}return null}(T.restDateString,D);if(O){var C,M=O.getTime(),z=0;return A.time&&(z=function(e){var t,r,n;if(t=g.exec(e))return(r=parseFloat(t[1].replace(",",".")))%24*a;if(t=y.exec(e))return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),r%24*a+n*i;if(t=_.exec(e)){r=parseInt(t[1],10),n=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return r%24*a+n*i+1e3*o}return null}(A.time)),A.timezone?C=function(e){var t,r;if(t=x.exec(e))return 0;if(t=k.exec(e))return r=60*parseInt(t[2],10),"+"===t[1]?-r:r;if(t=S.exec(e))return r=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-r:r;return 0}(A.timezone):(C=new Date(M+z).getTimezoneOffset(),C=new Date(M+z+C*i).getTimezoneOffset()),new Date(M+z+C*i)}return new Date(e)}},b43803cd92b15a10ac6d:function(e,t,r){!function(t,r){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},r="\n";function n(e){return"undefined"!=typeof atob?atob(e):"base64:"+e}function a(e){var t=new Error("(regl) "+e);throw console.error(t),t}function i(e,t){e||a(t)}function o(e){return e?": "+e:""}function s(e,t,r){t.indexOf(e)<0&&a("invalid value"+o(r)+". must be one of: "+t)}var u=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function f(e,t){for(e+="";e.length<t;)e=" "+e;return e}function c(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function l(e,t){this.number=e,this.line=t,this.errors=[]}function d(e,t,r){this.file=e,this.line=t,this.message=r}function h(){var e=new Error,t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return n?n[1]:"unknown"}function p(){var e=new Error,t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return n?n[1]:"unknown"}function m(e,t){var r=e.split("\n"),a=1,i=0,o={unknown:new c,0:new c};o.unknown.name=o[0].name=t||h(),o.unknown.lines.push(new l(0,""));for(var s=0;s<r.length;++s){var u=r[s],f=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(u);if(f)switch(f[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(f[2]);d&&(a=0|d[1],d[2]&&((i=0|d[2])in o||(o[i]=new c)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(f[2]);p&&(o[i].name=p[1]?n(p[2]):p[2])}o[i].lines.push(new l(a++,u))}return Object.keys(o).forEach((function(e){var t=o[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),o}function b(e){e._commandRef=h()}function v(e,t){var r=p();a(e+" in command "+(t||h())+("unknown"===r?"":" called from "+r))}function g(e,t,r,n){typeof e!==t&&v("invalid parameter type"+o(r)+". expected "+t+", got "+typeof e,n||h())}var y=33071,_=9728,w=9984,x=9985,k=9986,S=9987,E=5126,A=32819,T=32820,D=33635,O=34042,C={};function M(e,t){return e===T||e===A||e===D?2:e===O?4:C[e]*t}function z(e){return!(e&e-1||!e)}C[5120]=C[5121]=1,C[5122]=C[5123]=C[36193]=C[D]=C[A]=C[T]=2,C[5124]=C[5125]=C[E]=C[O]=4;var I=t(i,{optional:function(e){e()},raise:a,commandRaise:v,command:function(e,t,r){e||v(t,r||h())},parameter:function(e,t,r){e in t||a("unknown parameter ("+e+")"+o(r)+". possible values: "+Object.keys(t).join())},commandParameter:function(e,t,r,n){e in t||v("unknown parameter ("+e+")"+o(r)+". possible values: "+Object.keys(t).join(),n||h())},constructor:function(e){Object.keys(e).forEach((function(e){u.indexOf(e)<0&&a('invalid regl constructor argument "'+e+'". must be one of '+u)}))},type:function(e,t,r){typeof e!==t&&a("invalid parameter type"+o(r)+". expected "+t+", got "+typeof e)},commandType:g,isTypedArray:function(t,r){e(t)||a("invalid parameter type"+o(r)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||a("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")},oneOf:s,shaderError:function(e,t,n,a,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=a===e.FRAGMENT_SHADER?"fragment":"vertex";g(n,"string",u+" shader source must be a string",o);var c=m(n,o),l=function(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var r=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(e);r?t.push(new d(0|r[1],0|r[2],r[3].trim())):e.length>0&&t.push(new d("unknown",0,e))}})),t}(s);!function(e,t){t.forEach((function(t){var r=e[t.file];if(r){var n=r.index[t.line];if(n)return n.errors.push(t),void(r.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}(c,l),Object.keys(c).forEach((function(e){var t=c[e];if(t.hasErrors){var n=[""],a=[""];i("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){i(f(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(e.line+r,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(n){var a=n.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(a);if(o){var s=o[1];switch(a=o[2],s){case"assign":s="="}t=Math.max(e.line.indexOf(s,t),0)}else t=0;i(f("| ",6)),i(f("^^^",t+3)+r,"font-weight:bold"),i(f("| ",6)),i(a+r,"font-weight:bold")})),i(f("| ",6)+r)}else i(f(e.number,4)+"|  "),i(e.line+r,"color:red")})),"undefined"==typeof document||window.chrome?console.log(n.join("")):(a[0]=n.join("%c"),console.log.apply(console,a))}function i(e,t){n.push(e),a.push(t||"")}})),i.raise("Error compiling "+u+" shader, "+c[0].name)}},linkError:function(e,t,n,a,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=m(n,o),f='Error linking program with vertex shader, "'+m(a,o)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+f+r+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(f+r+s),i.raise(f)}},callSite:p,saveCommandRef:b,saveDrawInfo:function(e,t,r,n){function a(e){return e?n.id(e):0}function i(e,t){Object.keys(t).forEach((function(t){e[n.id(t)]=!0}))}b(e),e._fragId=a(e.static.frag),e._vertId=a(e.static.vert);var o=e._uniformSet={};i(o,t.static),i(o,t.dynamic);var s=e._attributeSet={};i(s,r.static),i(s,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,r){e.texture?s(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):s(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")},guessCommand:h,texture2D:function(e,t,r){var n,a=t.width,o=t.height,s=t.channels;i(a>0&&a<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),e.wrapS===y&&e.wrapT===y||i(z(a)&&z(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==a&&1!==o&&i(e.minFilter!==w&&e.minFilter!==k&&e.minFilter!==x&&e.minFilter!==S,"min filter requires mipmap"):(i(z(a)&&z(o),"texture must be a square power of 2 to support mipmapping"),i(t.mipmask===(a<<1)-1,"missing or incomplete mipmap data")),t.type===E&&(r.extensions.indexOf("oes_texture_float_linear")<0&&i(e.minFilter===_&&e.magFilter===_,"filter not supported, must enable oes_texture_float_linear"),i(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(n=0;n<16;++n)if(u[n]){var f=a>>n,c=o>>n;i(t.mipmask&1<<n,"missing mipmap data");var l=u[n];if(i(l.width===f&&l.height===c,"invalid shape for mip images"),i(l.format===t.format&&l.internalformat===t.internalformat&&l.type===t.type,"incompatible type for mip image"),l.compressed);else if(l.data){var d=Math.ceil(M(l.type,s)*f/l.unpackAlignment)*l.unpackAlignment;i(l.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else e.genMipmaps||i(0==(t.mipmask&1<<n),"extra mipmap data");t.compressed&&i(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,r,n){var a=e.width,o=e.height,s=e.channels;i(a>0&&a<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),i(a===o,"cube map must be square"),i(t.wrapS===y&&t.wrapT===y,"wrap mode not supported by cube map");for(var u=0;u<r.length;++u){var f=r[u];i(f.width===a&&f.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(i(!f.compressed,"can not generate mipmap for compressed textures"),i(1===f.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=f.images,l=0;l<16;++l){var d=c[l];if(d){var h=a>>l,p=o>>l;i(f.mipmask&1<<l,"missing mipmap data"),i(d.width===h&&d.height===p,"invalid shape for mip images"),i(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?i(d.data.byteLength===h*p*Math.max(M(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}}),B=0,F=0;function j(e,t){this.id=B++,this.type=e,this.data=t}function R(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function U(e){return"["+function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(t.length>1&&r===n&&('"'===r||"'"===r))return['"'+R(t.substr(1,t.length-2))+'"'];var a=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(a)return e(t.substr(0,a.index)).concat(e(a[1])).concat(e(t.substr(a.index+a[0].length)));var i=t.split(".");if(1===i.length)return['"'+R(t)+'"'];for(var o=[],s=0;s<i.length;++s)o=o.concat(e(i[s]));return o}(e).join("][")+"]"}var N={DynamicVariable:j,define:function(e,t){return new j(e,U(t+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof j},unbox:function(e,t){return"function"==typeof e?new j(F,e):e},accessor:U},P={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},L="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function W(e){return"string"==typeof e?e.split():(I(Array.isArray(e),"invalid extension array"),e)}function H(e){return"string"==typeof e?(I("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Y(e){var r,n,a,i,o=e||{},s={},u=[],f=[],c="undefined"==typeof window?1:window.devicePixelRatio,l=!1,d=function(e){e&&I.raise(e)},h=function(){};if("string"==typeof o?(I("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),r=document.querySelector(o),I(r,"invalid query string for element")):"object"==typeof o?!function(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}(o)?!function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(o)?(I.constructor(o),"gl"in o?i=o.gl:"canvas"in o?a=H(o.canvas):"container"in o&&(n=H(o.container)),"attributes"in o&&(s=o.attributes,I.type(s,"object","invalid context attributes")),"extensions"in o&&(u=W(o.extensions)),"optionalExtensions"in o&&(f=W(o.optionalExtensions)),"onDone"in o&&(I.type(o.onDone,"function","invalid or missing onDone callback"),d=o.onDone),"profile"in o&&(l=!!o.profile),"pixelRatio"in o&&(c=+o.pixelRatio,I(c>0,"invalid pixel ratio"))):a=(i=o).canvas:r=o:I.raise("invalid arguments to regl"),r&&("canvas"===r.nodeName.toLowerCase()?a=r:n=r),!i){if(!a){I("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var p=function(e,r,n){var a=document.createElement("canvas");function i(){var r=window.innerWidth,i=window.innerHeight;if(e!==document.body){var o=e.getBoundingClientRect();r=o.right-o.left,i=o.bottom-o.top}a.width=n*r,a.height=n*i,t(a.style,{width:r+"px",height:i+"px"})}return t(a.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(a),e===document.body&&(a.style.position="absolute",t(e.style,{margin:0,padding:0})),window.addEventListener("resize",i,!1),i(),{canvas:a,onDestroy:function(){window.removeEventListener("resize",i),e.removeChild(a)}}}(n||document.body,0,c);if(!p)return null;a=p.canvas,h=p.onDestroy}i=function(e,t){function r(r){try{return e.getContext(r,t)}catch(n){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}(a,s)}return i?{gl:i,canvas:a,container:n,extensions:u,optionalExtensions:f,pixelRatio:c,profile:l,onDone:d,onDestroy:h}:(h(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function V(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}var G=5120,Z=5121,$=5122,q=5123,X=5124,K=5125,Q=5126;function J(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1}function ee(){var e=V(8,(function(){return[]}));function t(t){var r=function(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}(t),n=e[J(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r)}function r(t){e[J(t.byteLength)>>2].push(t)}return{alloc:t,free:r,allocType:function(e,r){var n=null;switch(e){case G:n=new Int8Array(t(r),0,r);break;case Z:n=new Uint8Array(t(r),0,r);break;case $:n=new Int16Array(t(2*r),0,r);break;case q:n=new Uint16Array(t(2*r),0,r);break;case X:n=new Int32Array(t(4*r),0,r);break;case K:n=new Uint32Array(t(4*r),0,r);break;case Q:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n},freeType:function(e){r(e.buffer)}}}var te=ee();te.zero=ee();var re=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(34047));var n=1,a=1;t.webgl_draw_buffers&&(n=e.getParameter(34852),a=e.getParameter(36063));var i=!!t.oes_texture_float;if(i){var o=e.createTexture();e.bindTexture(3553,o),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var s=e.createFramebuffer();if(e.bindFramebuffer(36160,s),e.framebufferTexture2D(36160,36064,3553,o,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var u=te.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,u),e.getError()?i=!1:(e.deleteFramebuffer(s),e.deleteTexture(o),i=1===u[0]),te.freeType(u)}}var f=!0;if(!("undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)))){var c=e.createTexture(),l=te.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,c),e.texImage2D(34069,0,6408,3,3,0,6408,5121,l),te.freeType(l),e.bindTexture(34067,null),e.deleteTexture(c),f=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:a,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:i,npotTextureCube:f}};function ne(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var ae=function(e){return Object.keys(e).map((function(t){return e[t]}))},ie={shape:function(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t},flatten:function(e,t,r,n){var a=1;if(t.length)for(var i=0;i<t.length;++i)a*=t[i];else a=0;var o=n||te.allocType(r,a);switch(t.length){case 0:break;case 1:!function(e,t,r){for(var n=0;n<t;++n)r[n]=e[n]}(e,t[0],o);break;case 2:!function(e,t,r,n){for(var a=0,i=0;i<t;++i)for(var o=e[i],s=0;s<r;++s)n[a++]=o[s]}(e,t[0],t[1],o);break;case 3:oe(e,t[0],t[1],t[2],o,0);break;default:!function e(t,r,n,a,i){for(var o=1,s=n+1;s<r.length;++s)o*=r[s];var u=r[n];if(r.length-n==4){var f=r[n+1],c=r[n+2],l=r[n+3];for(s=0;s<u;++s)oe(t[s],f,c,l,a,i),i+=o}else for(s=0;s<u;++s)e(t[s],r,n+1,a,i),i+=o}(e,t,0,o,0)}return o}};function oe(e,t,r,n,a,i){for(var o=i,s=0;s<t;++s)for(var u=e[s],f=0;f<r;++f)for(var c=u[f],l=0;l<n;++l)a[o++]=c[l]}var se={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ue={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},fe={dynamic:35048,stream:35040,static:35044},ce=ie.flatten,le=ie.shape,de=35044,he=35040,pe=5121,me=5126,be=[];function ve(e){return 0|se[Object.prototype.toString.call(e)]}function ge(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function ye(e,t,r,n,a,i,o){for(var s=0,u=0;u<r;++u)for(var f=0;f<n;++f)e[s++]=t[a*u+i*f+o]}be[5120]=1,be[5122]=2,be[5124]=4,be[5121]=1,be[5123]=2,be[5125]=4,be[5126]=4;var _e={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},we=0,xe=1,ke=4,Se=5120,Ee=5121,Ae=5122,Te=5123,De=5124,Oe=5125,Ce=34963,Me=35040,ze=35044;var Ie=new Float32Array(1),Be=new Uint32Array(Ie.buffer),Fe=5123;function je(e){for(var t=te.allocType(Fe,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{Ie[0]=e[r];var n=Be[0],a=n>>>31<<15,i=(n<<1>>>24)-127,o=n>>13&1023;if(i<-24)t[r]=a;else if(i<-14){var s=-14-i;t[r]=a+(o+1024>>s)}else t[r]=i>15?a+31744:a+(i+15<<10)+o}return t}function Re(t){return Array.isArray(t)||e(t)}var Ue=function(e){return!(e&e-1||!e)},Ne=34467,Pe=3553,Le=34067,We=34069,He=6408,Ye=6406,Ve=6407,Ge=6409,Ze=6410,$e=32854,qe=32855,Xe=36194,Ke=32819,Qe=32820,Je=33635,et=34042,tt=6402,rt=34041,nt=35904,at=35906,it=36193,ot=33776,st=33777,ut=33778,ft=33779,ct=35986,lt=35987,dt=34798,ht=35840,pt=35841,mt=35842,bt=35843,vt=36196,gt=5121,yt=5123,_t=5125,wt=5126,xt=10242,kt=10243,St=10497,Et=33071,At=33648,Tt=10240,Dt=10241,Ot=9728,Ct=9729,Mt=9984,zt=9985,It=9986,Bt=9987,Ft=33170,jt=4352,Rt=4353,Ut=4354,Nt=34046,Pt=3317,Lt=37440,Wt=37441,Ht=37443,Yt=37444,Vt=33984,Gt=[Mt,It,zt,Bt],Zt=[0,Ge,Ze,Ve,He],$t={};function qt(e){return"[object "+e+"]"}$t[Ge]=$t[Ye]=$t[tt]=1,$t[rt]=$t[Ze]=2,$t[Ve]=$t[nt]=3,$t[He]=$t[at]=4;var Xt=qt("HTMLCanvasElement"),Kt=qt("CanvasRenderingContext2D"),Qt=qt("ImageBitmap"),Jt=qt("HTMLImageElement"),er=qt("HTMLVideoElement"),tr=Object.keys(se).concat([Xt,Kt,Qt,Jt,er]),rr=[];rr[gt]=1,rr[wt]=4,rr[it]=2,rr[yt]=2,rr[_t]=4;var nr=[];function ar(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function ir(e){return!!Array.isArray(e)&&!(0===e.length||!Re(e[0]))}function or(e){return Object.prototype.toString.call(e)}function sr(e){return or(e)===Xt}function ur(e){if(!e)return!1;var t=or(e);return tr.indexOf(t)>=0||(ar(e)||ir(e)||ne(e))}function fr(e){return 0|se[Object.prototype.toString.call(e)]}function cr(e,t){return te.allocType(e.type===it?wt:e.type,t)}function lr(e,t){e.type===it?(e.data=je(t),te.freeType(t)):e.data=t}function dr(e,t,r,n,a,i){var o;if(o=void 0!==nr[e]?nr[e]:$t[e]*rr[t],i&&(o*=6),a){for(var s=0,u=r;u>=1;)s+=o*u*u,u/=2;return s}return o*r*n}function hr(r,n,a,i,o,s,u){var f={"don't care":jt,"dont care":jt,nice:Ut,fast:Rt},c={repeat:St,clamp:Et,mirror:At},l={nearest:Ot,linear:Ct},d=t({mipmap:Bt,"nearest mipmap nearest":Mt,"linear mipmap nearest":zt,"nearest mipmap linear":It,"linear mipmap linear":Bt},l),h={none:0,browser:Yt},p={uint8:gt,rgba4:Ke,rgb565:Je,"rgb5 a1":Qe},m={alpha:Ye,luminance:Ge,"luminance alpha":Ze,rgb:Ve,rgba:He,rgba4:$e,"rgb5 a1":qe,rgb565:Xe},b={};n.ext_srgb&&(m.srgb=nt,m.srgba=at),n.oes_texture_float&&(p.float32=p.float=wt),n.oes_texture_half_float&&(p.float16=p["half float"]=it),n.webgl_depth_texture&&(t(m,{depth:tt,"depth stencil":rt}),t(p,{uint16:yt,uint32:_t,"depth stencil":et})),n.webgl_compressed_texture_s3tc&&t(b,{"rgb s3tc dxt1":ot,"rgba s3tc dxt1":st,"rgba s3tc dxt3":ut,"rgba s3tc dxt5":ft}),n.webgl_compressed_texture_atc&&t(b,{"rgb atc":ct,"rgba atc explicit alpha":lt,"rgba atc interpolated alpha":dt}),n.webgl_compressed_texture_pvrtc&&t(b,{"rgb pvrtc 4bppv1":ht,"rgb pvrtc 2bppv1":pt,"rgba pvrtc 4bppv1":mt,"rgba pvrtc 2bppv1":bt}),n.webgl_compressed_texture_etc1&&(b["rgb etc1"]=vt);var v=Array.prototype.slice.call(r.getParameter(Ne));Object.keys(b).forEach((function(e){var t=b[e];v.indexOf(t)>=0&&(m[e]=t)}));var g=Object.keys(m);a.textureFormats=g;var y=[];Object.keys(m).forEach((function(e){var t=m[e];y[t]=e}));var _=[];Object.keys(p).forEach((function(e){var t=p[e];_[t]=e}));var w=[];Object.keys(l).forEach((function(e){var t=l[e];w[t]=e}));var x=[];Object.keys(d).forEach((function(e){var t=d[e];x[t]=e}));var k=[];Object.keys(c).forEach((function(e){var t=c[e];k[t]=e}));var S=g.reduce((function(e,t){var r=m[t];return r===Ge||r===Ye||r===Ge||r===Ze||r===tt||r===rt?e[r]=r:r===qe||t.indexOf("rgba")>=0?e[r]=He:e[r]=Ve,e}),{});function E(){this.internalformat=He,this.format=He,this.type=gt,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Yt,this.width=0,this.height=0,this.channels=0}function A(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function T(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(I.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(I.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(I.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(I.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var r=t.type;I(n.oes_texture_float||!("float"===r||"float32"===r),"you must enable the OES_texture_float extension in order to use floating point textures."),I(n.oes_texture_half_float||!("half float"===r||"float16"===r),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),I(n.webgl_depth_texture||!("uint16"===r||"uint32"===r||"depth stencil"===r),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),I.parameter(r,p,"invalid texture type"),e.type=p[r]}var i=e.width,o=e.height,s=e.channels,u=!1;"shape"in t?(I(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),i=t.shape[0],o=t.shape[1],3===t.shape.length&&(s=t.shape[2],I(s>0&&s<=4,"invalid number of channels"),u=!0),I(i>=0&&i<=a.maxTextureSize,"invalid width"),I(o>=0&&o<=a.maxTextureSize,"invalid height")):("radius"in t&&(i=o=t.radius,I(i>=0&&i<=a.maxTextureSize,"invalid radius")),"width"in t&&(i=t.width,I(i>=0&&i<=a.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,I(o>=0&&o<=a.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,I(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|i,e.height=0|o,e.channels=0|s;var f=!1;if("format"in t){var c=t.format;I(n.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),I.parameter(c,m,"invalid texture format");var l=e.internalformat=m[c];e.format=S[l],c in p&&("type"in t||(e.type=p[c])),c in b&&(e.compressed=!0),f=!0}!u&&f?e.channels=$t[e.format]:u&&!f?e.channels!==Zt[e.format]&&(e.format=e.internalformat=Zt[e.channels]):f&&u&&I(e.channels===$t[e.format],"number of channels inconsistent with specified format")}}function D(e){r.pixelStorei(Lt,e.flipY),r.pixelStorei(Wt,e.premultiplyAlpha),r.pixelStorei(Ht,e.colorSpace),r.pixelStorei(Pt,e.unpackAlignment)}function O(){E.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function C(t,r){var n=null;if(ur(r)?n=r:r&&(I.type(r,"object","invalid pixel data type"),T(t,r),"x"in r&&(t.xOffset=0|r.x),"y"in r&&(t.yOffset=0|r.y),ur(r.data)&&(n=r.data)),I(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),r.copy){I(!n,"can not specify copy and data field for the same texture");var i=o.viewportWidth,s=o.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,I(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=i&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(n){if(e(n))t.channels=t.channels||4,t.data=n,"type"in r||t.type!==gt||(t.type=fr(n));else if(ar(n))t.channels=t.channels||4,function(e,t){var r=t.length;switch(e.type){case gt:case yt:case _t:case wt:var n=te.allocType(e.type,r);n.set(t),e.data=n;break;case it:e.data=je(t);break;default:I.raise("unsupported texture type, must specify a typed array")}}(t,n),t.alignment=1,t.needsFree=!0;else if(ne(n)){var u=n.data;Array.isArray(u)||t.type!==gt||(t.type=fr(u));var f,c,l,d,h,p,m=n.shape,b=n.stride;3===m.length?(l=m[2],p=b[2]):(I(2===m.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,p=1),f=m[0],c=m[1],d=b[0],h=b[1],t.alignment=1,t.width=f,t.height=c,t.channels=l,t.format=t.internalformat=Zt[l],t.needsFree=!0,function(e,t,r,n,a,i){for(var o=e.width,s=e.height,u=e.channels,f=cr(e,o*s*u),c=0,l=0;l<s;++l)for(var d=0;d<o;++d)for(var h=0;h<u;++h)f[c++]=t[r*d+n*l+a*h+i];lr(e,f)}(t,u,d,h,p,n.offset)}else if(sr(n)||function(e){return or(e)===Kt}(n))sr(n)?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(function(e){return or(e)===Qt}(n))t.element=n,t.width=n.width,t.height=n.height,t.channels=4;else if(function(e){return or(e)===Jt}(n))t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(function(e){return or(e)===er}(n))t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(ir(n)){var v=t.width||n[0].length,g=t.height||n.length,y=t.channels;y=Re(n[0][0])?y||n[0][0].length:y||1;for(var _=ie.shape(n),w=1,x=0;x<_.length;++x)w*=_[x];var k=cr(t,w);ie.flatten(n,_,"",k),lr(t,k),t.alignment=1,t.width=v,t.height=g,t.channels=y,t.format=t.internalformat=Zt[y],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===wt?I(a.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===it&&I(a.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function M(e,t,n){var a=e.element,o=e.data,s=e.internalformat,u=e.format,f=e.type,c=e.width,l=e.height;D(e),a?r.texImage2D(t,n,u,u,f,a):e.compressed?r.compressedTexImage2D(t,n,s,c,l,0,o):e.needsCopy?(i(),r.copyTexImage2D(t,n,u,e.xOffset,e.yOffset,c,l,0)):r.texImage2D(t,n,u,c,l,0,u,f,o||null)}function z(e,t,n,a,o){var s=e.element,u=e.data,f=e.internalformat,c=e.format,l=e.type,d=e.width,h=e.height;D(e),s?r.texSubImage2D(t,o,n,a,c,l,s):e.compressed?r.compressedTexSubImage2D(t,o,n,a,f,d,h,u):e.needsCopy?(i(),r.copyTexSubImage2D(t,o,n,a,e.xOffset,e.yOffset,d,h)):r.texSubImage2D(t,o,n,a,d,h,c,l,u)}var B=[];function F(){return B.pop()||new O}function j(e){e.needsFree&&te.freeType(e.data),O.call(e),B.push(e)}function R(){E.call(this),this.genMipmaps=!1,this.mipmapHint=jt,this.mipmask=0,this.images=Array(16)}function U(e,t,r){var n=e.images[0]=F();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function N(e,t){var r=null;if(ur(t))A(r=e.images[0]=F(),e),C(r,t),e.mipmask=1;else if(T(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,a=0;a<n.length;++a)A(r=e.images[a]=F(),e),r.width>>=a,r.height>>=a,C(r,n[a]),e.mipmask|=1<<a;else A(r=e.images[0]=F(),e),C(r,t),e.mipmask=1;A(e,e.images[0]),(e.compressed&&e.internalformat===ot||e.internalformat===st||e.internalformat===ut||e.internalformat===ft)&&I(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function P(e,t){for(var r=e.images,n=0;n<r.length;++n){if(!r[n])return;M(r[n],t,n)}}var L=[];function W(){var e=L.pop()||new R;E.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function H(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&j(t[r]),t[r]=null;L.push(e)}function Y(){this.minFilter=Ot,this.magFilter=Ot,this.wrapS=Et,this.wrapT=Et,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=jt}function V(e,t){if("min"in t){var r=t.min;I.parameter(r,d),e.minFilter=d[r],Gt.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var n=t.mag;I.parameter(n,l),e.magFilter=l[n]}var i=e.wrapS,o=e.wrapT;if("wrap"in t){var s=t.wrap;"string"==typeof s?(I.parameter(s,c),i=o=c[s]):Array.isArray(s)&&(I.parameter(s[0],c),I.parameter(s[1],c),i=c[s[0]],o=c[s[1]])}else{if("wrapS"in t){var u=t.wrapS;I.parameter(u,c),i=c[u]}if("wrapT"in t){var h=t.wrapT;I.parameter(h,c),o=c[h]}}if(e.wrapS=i,e.wrapT=o,"anisotropic"in t){var p=t.anisotropic;I("number"==typeof p&&p>=1&&p<=a.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var m=!1;switch(typeof t.mipmap){case"string":I.parameter(t.mipmap,f,"invalid mipmap hint"),e.mipmapHint=f[t.mipmap],e.genMipmaps=!0,m=!0;break;case"boolean":m=e.genMipmaps=t.mipmap;break;case"object":I(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,m=!0;break;default:I.raise("invalid mipmap type")}!m||"min"in t||(e.minFilter=Mt)}}function G(e,t){r.texParameteri(t,Dt,e.minFilter),r.texParameteri(t,Tt,e.magFilter),r.texParameteri(t,xt,e.wrapS),r.texParameteri(t,kt,e.wrapT),n.ext_texture_filter_anisotropic&&r.texParameteri(t,Nt,e.anisotropic),e.genMipmaps&&(r.hint(Ft,e.mipmapHint),r.generateMipmap(t))}var Z=0,$={},q=a.maxTextureUnits,X=Array(q).map((function(){return null}));function K(e){E.call(this),this.mipmask=0,this.internalformat=He,this.id=Z++,this.refCount=1,this.target=e,this.texture=r.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Y,u.profile&&(this.stats={size:0})}function Q(e){r.activeTexture(Vt),r.bindTexture(e.target,e.texture)}function J(){var e=X[0];e?r.bindTexture(e.target,e.texture):r.bindTexture(Pe,null)}function ee(e){var t=e.texture;I(t,"must not double destroy texture");var n=e.unit,a=e.target;n>=0&&(r.activeTexture(Vt+n),r.bindTexture(a,null),X[n]=null),r.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete $[e.id],s.textureCount--}return t(K.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var t=0;t<q;++t){var n=X[t];if(n){if(n.bindCount>0)continue;n.unit=-1}X[t]=this,e=t;break}e>=q&&I.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<e+1&&(s.maxTextureUnits=e+1),this.unit=e,r.activeTexture(Vt+e),r.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1,this.unit>-1&&(r.activeTexture(Vt+this.unit),r.bindTexture(this.target,null),X[this.unit]=null,this.unit=-1,r.activeTexture(Vt))},decRef:function(){--this.refCount<=0&&ee(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys($).forEach((function(t){e+=$[t].stats.size})),e}),{create2D:function(e,t){var n=new K(Pe);function i(e,t){var r=n.texInfo;Y.call(r);var o=W();return"number"==typeof e?U(o,0|e,"number"==typeof t?0|t:0|e):e?(I.type(e,"object","invalid arguments to regl.texture"),V(r,e),N(o,e)):U(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),n.mipmask=o.mipmask,A(n,o),I.texture2D(r,o,a),n.internalformat=o.internalformat,i.width=o.width,i.height=o.height,Q(n),P(o,Pe),G(r,Pe),J(),H(o),u.profile&&(n.stats.size=dr(n.internalformat,n.type,o.width,o.height,r.genMipmaps,!1)),i.format=y[n.internalformat],i.type=_[n.type],i.mag=w[r.magFilter],i.min=x[r.minFilter],i.wrapS=k[r.wrapS],i.wrapT=k[r.wrapT],i}return $[n.id]=n,s.textureCount++,i(e,t),i.subimage=function(e,t,r,a){I(!!e,"must specify image data");var o=0|t,s=0|r,u=0|a,f=F();return A(f,n),f.width=0,f.height=0,C(f,e),f.width=f.width||(n.width>>u)-o,f.height=f.height||(n.height>>u)-s,I(n.type===f.type&&n.format===f.format&&n.internalformat===f.internalformat,"incompatible format for texture.subimage"),I(o>=0&&s>=0&&o+f.width<=n.width&&s+f.height<=n.height,"texture.subimage write out of bounds"),I(n.mipmask&1<<u,"missing mipmap data"),I(f.data||f.element||f.needsCopy,"missing image data"),Q(n),z(f,Pe,o,s,u),J(),j(f),i},i.resize=function(e,t){var a,o=0|e,s=0|t||o;if(o===n.width&&s===n.height)return i;i.width=n.width=o,i.height=n.height=s,Q(n);for(var f=n.channels,c=n.type,l=0;n.mipmask>>l;++l){var d=o>>l,h=s>>l;if(!d||!h)break;a=te.zero.allocType(c,d*h*f),r.texImage2D(Pe,l,n.format,d,h,0,n.format,n.type,a),a&&te.zero.freeType(a)}return J(),u.profile&&(n.stats.size=dr(n.internalformat,n.type,o,s,!1,!1)),i},i._reglType="texture2d",i._texture=n,u.profile&&(i.stats=n.stats),i.destroy=function(){n.decRef()},i},createCube:function(e,t,n,i,o,f){var c=new K(Le);$[c.id]=c,s.cubeCount++;var l=new Array(6);function d(e,t,r,n,i,o){var s,f=c.texInfo;for(Y.call(f),s=0;s<6;++s)l[s]=W();if("number"!=typeof e&&e)if("object"==typeof e)if(t)N(l[0],e),N(l[1],t),N(l[2],r),N(l[3],n),N(l[4],i),N(l[5],o);else if(V(f,e),T(c,e),"faces"in e){var h=e.faces;for(I(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)I("object"==typeof h[s]&&!!h[s],"invalid input for cube map face"),A(l[s],c),N(l[s],h[s])}else for(s=0;s<6;++s)N(l[s],e);else I.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)U(l[s],p,p)}for(A(c,l[0]),a.npotTextureCube||I(Ue(c.width)&&Ue(c.height),"your browser does not support non power or two texture dimensions"),f.genMipmaps?c.mipmask=(l[0].width<<1)-1:c.mipmask=l[0].mipmask,I.textureCube(c,f,l,a),c.internalformat=l[0].internalformat,d.width=l[0].width,d.height=l[0].height,Q(c),s=0;s<6;++s)P(l[s],We+s);for(G(f,Le),J(),u.profile&&(c.stats.size=dr(c.internalformat,c.type,d.width,d.height,f.genMipmaps,!0)),d.format=y[c.internalformat],d.type=_[c.type],d.mag=w[f.magFilter],d.min=x[f.minFilter],d.wrapS=k[f.wrapS],d.wrapT=k[f.wrapT],s=0;s<6;++s)H(l[s]);return d}return d(e,t,n,i,o,f),d.subimage=function(e,t,r,n,a){I(!!t,"must specify image data"),I("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var i=0|r,o=0|n,s=0|a,u=F();return A(u,c),u.width=0,u.height=0,C(u,t),u.width=u.width||(c.width>>s)-i,u.height=u.height||(c.height>>s)-o,I(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),I(i>=0&&o>=0&&i+u.width<=c.width&&o+u.height<=c.height,"texture.subimage write out of bounds"),I(c.mipmask&1<<s,"missing mipmap data"),I(u.data||u.element||u.needsCopy,"missing image data"),Q(c),z(u,We+e,i,o,s),J(),j(u),d},d.resize=function(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,Q(c);for(var n=0;n<6;++n)for(var a=0;c.mipmask>>a;++a)r.texImage2D(We+n,a,c.format,t>>a,t>>a,0,c.format,c.type,null);return J(),u.profile&&(c.stats.size=dr(c.internalformat,c.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=c,u.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d},clear:function(){for(var e=0;e<q;++e)r.activeTexture(Vt+e),r.bindTexture(Pe,null),X[e]=null;ae($).forEach(ee),s.cubeCount=0,s.textureCount=0},getTexture:function(e){return null},restore:function(){for(var e=0;e<q;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null)}ae($).forEach((function(e){e.texture=r.createTexture(),r.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(e.target===Pe)r.texImage2D(Pe,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)r.texImage2D(We+n,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);G(e.texInfo,e.target)}))}}}nr[$e]=2,nr[qe]=2,nr[Xe]=2,nr[rt]=4,nr[ot]=.5,nr[st]=.5,nr[ut]=1,nr[ft]=1,nr[ct]=.5,nr[lt]=1,nr[dt]=1,nr[ht]=.5,nr[pt]=.25,nr[mt]=.5,nr[bt]=.25,nr[vt]=.5;var pr=36161,mr=32854,br=[];function vr(e,t,r){return br[e]*t*r}br[mr]=2,br[32855]=2,br[36194]=2,br[33189]=2,br[36168]=1,br[34041]=4,br[35907]=4,br[34836]=16,br[34842]=8,br[34843]=6;var gr=function(e,t,r,n,a){var i={rgba4:mr,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(i.srgba=35907),t.ext_color_buffer_half_float&&(i.rgba16f=34842,i.rgb16f=34843),t.webgl_color_buffer_float&&(i.rgba32f=34836);var o=[];Object.keys(i).forEach((function(e){var t=i[e];o[t]=e}));var s=0,u={};function f(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=mr,this.width=0,this.height=0,a.profile&&(this.stats={size:0})}function c(t){var r=t.renderbuffer;I(r,"must not double destroy renderbuffer"),e.bindRenderbuffer(pr,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete u[t.id],n.renderbufferCount--}return f.prototype.decRef=function(){--this.refCount<=0&&c(this)},a.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:function(t,s){var c=new f(e.createRenderbuffer());function l(t,n){var s=0,u=0,f=mr;if("object"==typeof t&&t){var d=t;if("shape"in d){var h=d.shape;I(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(I.parameter(d.format,i,"invalid renderbuffer format"),f=i[d.format])}else"number"==typeof t?(s=0|t,u="number"==typeof n?0|n:s):t?I.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(I(s>0&&u>0&&s<=r.maxRenderbufferSize&&u<=r.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||f!==c.format)return l.width=c.width=s,l.height=c.height=u,c.format=f,e.bindRenderbuffer(pr,c.renderbuffer),e.renderbufferStorage(pr,f,s,u),I(0===e.getError(),"invalid render buffer format"),a.profile&&(c.stats.size=vr(c.format,c.width,c.height)),l.format=o[c.format],l}return u[c.id]=c,n.renderbufferCount++,l(t,s),l.resize=function(t,n){var i=0|t,o=0|n||i;return i===c.width&&o===c.height?l:(I(i>0&&o>0&&i<=r.maxRenderbufferSize&&o<=r.maxRenderbufferSize,"invalid renderbuffer size"),l.width=c.width=i,l.height=c.height=o,e.bindRenderbuffer(pr,c.renderbuffer),e.renderbufferStorage(pr,c.format,i,o),I(0===e.getError(),"invalid render buffer format"),a.profile&&(c.stats.size=vr(c.format,c.width,c.height)),l)},l._reglType="renderbuffer",l._renderbuffer=c,a.profile&&(l.stats=c.stats),l.destroy=function(){c.decRef()},l},clear:function(){ae(u).forEach(c)},restore:function(){ae(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(pr,t.renderbuffer),e.renderbufferStorage(pr,t.format,t.width,t.height)})),e.bindRenderbuffer(pr,null)}}},yr=36160,_r=36161,wr=3553,xr=34069,kr=36064,Sr=36096,Er=36128,Ar=33306,Tr=36053,Dr=6402,Or=[6407,6408],Cr=[];Cr[6408]=4,Cr[6407]=3;var Mr=[];Mr[5121]=1,Mr[5126]=4,Mr[36193]=2;var zr=33189,Ir=36168,Br=34041,Fr=[32854,32855,36194,35907,34842,34843,34836],jr={};jr[Tr]="complete",jr[36054]="incomplete attachment",jr[36057]="incomplete dimensions",jr[36055]="incomplete, missing attachment",jr[36061]="unsupported";var Rr=5126;function Ur(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Rr,this.offset=0,this.stride=0,this.divisor=0}var Nr=35632,Pr=35633,Lr=35718,Wr=35721;var Hr=6408,Yr=5121,Vr=3333,Gr=5126;function Zr(t,r,n,a,i,o,s){function u(u){var f;null===r.next?(I(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),f=Yr):(I(null!==r.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),f=r.next.colorAttachments[0].texture._texture.type,o.oes_texture_float?(I(f===Yr||f===Gr,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),f===Gr&&I(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):I(f===Yr,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,l=0,d=a.framebufferWidth,h=a.framebufferHeight,p=null;e(u)?p=u:u&&(I.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,l=0|u.y,I(c>=0&&c<a.framebufferWidth,"invalid x offset for regl.read"),I(l>=0&&l<a.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||a.framebufferWidth-c),h=0|(u.height||a.framebufferHeight-l),p=u.data||null),p&&(f===Yr?I(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):f===Gr&&I(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),I(d>0&&d+c<=a.framebufferWidth,"invalid width for read pixels"),I(h>0&&h+l<=a.framebufferHeight,"invalid height for read pixels"),n();var m=d*h*4;return p||(f===Yr?p=new Uint8Array(m):f===Gr&&(p=p||new Float32Array(m))),I.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),I(p.byteLength>=m,"data buffer for regl.read() too small"),t.pixelStorei(Vr,4),t.readPixels(c,l,d,h,Hr,f,p),p}return function(e){return e&&"framebuffer"in e?function(e){var t;return r.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}(e):u(e)}}function $r(e){return Array.prototype.slice.call(e)}function qr(e){return $r(e).join("")}var Xr="xyzw".split(""),Kr=5121,Qr=1,Jr=2,en=0,tn=1,rn=2,nn=3,an=4,on="dither",sn="blend.enable",un="blend.color",fn="blend.equation",cn="blend.func",ln="depth.enable",dn="depth.func",hn="depth.range",pn="depth.mask",mn="colorMask",bn="cull.enable",vn="cull.face",gn="frontFace",yn="lineWidth",_n="polygonOffset.enable",wn="polygonOffset.offset",xn="sample.alpha",kn="sample.enable",Sn="sample.coverage",En="stencil.enable",An="stencil.mask",Tn="stencil.func",Dn="stencil.opFront",On="stencil.opBack",Cn="scissor.enable",Mn="scissor.box",zn="viewport",In="profile",Bn="framebuffer",Fn="vert",jn="frag",Rn="elements",Un="primitive",Nn="count",Pn="offset",Ln="instances",Wn=Bn+"Width",Hn=Bn+"Height",Yn=zn+"Width",Vn=zn+"Height",Gn="drawingBufferWidth",Zn="drawingBufferHeight",$n=[cn,fn,Tn,Dn,On,Sn,zn,Mn,wn],qn=34962,Xn=34963,Kn=3553,Qn=34067,Jn=2884,ea=3042,ta=3024,ra=2960,na=2929,aa=3089,ia=32823,oa=32926,sa=32928,ua=5126,fa=35664,ca=35665,la=35666,da=5124,ha=35667,pa=35668,ma=35669,ba=35670,va=35671,ga=35672,ya=35673,_a=35674,wa=35675,xa=35676,ka=35678,Sa=35680,Ea=4,Aa=1028,Ta=1029,Da=2304,Oa=2305,Ca=32775,Ma=32776,za=519,Ia=7680,Ba=0,Fa=1,ja=32774,Ra=513,Ua=36160,Na=36064,Pa={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},La=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Wa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ha={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ya={frag:35632,vert:35633},Va={cw:Da,ccw:Oa};function Ga(t){return Array.isArray(t)||e(t)||ne(t)}function Za(e){return e.sort((function(e,t){return e===zn?-1:t===zn?1:e<t?-1:1}))}function $a(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function qa(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function Xa(e){return new $a(!1,!1,!1,e)}function Ka(e,t){var r=e.type;if(r===en){var n=e.data.length;return new $a(!0,n>=1,n>=2,t)}if(r===an){var a=e.data;return new $a(a.thisDep,a.contextDep,a.propDep,t)}return new $a(r===nn,r===rn,r===tn,t)}var Qa=new $a(!1,!1,!1,(function(){}));function Ja(e,r,n,a,i,o,s,u,f,c,l,d,h,p,m){var b=c.Record,v={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(v.min=Ca,v.max=Ma);var g=n.angle_instanced_arrays,y=n.webgl_draw_buffers,_={dirty:!0,profile:m.profile},w={},x=[],k={},S={};function E(e){return e.replace(".","_")}function A(e,t,r){var n=E(e);x.push(e),w[n]=_[n]=!!r,k[n]=t}function T(e,t,r){var n=E(e);x.push(e),Array.isArray(r)?(_[n]=r.slice(),w[n]=r.slice()):_[n]=w[n]=r,S[n]=t}A(on,ta),A(sn,ea),T(un,"blendColor",[0,0,0,0]),T(fn,"blendEquationSeparate",[ja,ja]),T(cn,"blendFuncSeparate",[Fa,Ba,Fa,Ba]),A(ln,na,!0),T(dn,"depthFunc",Ra),T(hn,"depthRange",[0,1]),T(pn,"depthMask",!0),T(mn,mn,[!0,!0,!0,!0]),A(bn,Jn),T(vn,"cullFace",Ta),T(gn,gn,Oa),T(yn,yn,1),A(_n,ia),T(wn,"polygonOffset",[0,0]),A(xn,oa),A(kn,sa),T(Sn,"sampleCoverage",[1,!1]),A(En,ra),T(An,"stencilMask",-1),T(Tn,"stencilFunc",[za,0,-1]),T(Dn,"stencilOpSeparate",[Aa,Ia,Ia,Ia]),T(On,"stencilOpSeparate",[Ta,Ia,Ia,Ia]),A(Cn,aa),T(Mn,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),T(zn,zn,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var D={gl:e,context:h,strings:r,next:w,current:_,draw:d,elements:o,buffer:i,shader:l,attributes:c.state,uniforms:f,framebuffer:u,extensions:n,timer:p,isBufferArgs:Ga},O={primTypes:_e,compareFuncs:Wa,blendFuncs:Pa,blendEquations:v,stencilOps:Ha,glTypes:ue,orientationType:Va};I.optional((function(){D.isArrayLike=Re})),y&&(O.backBuffer=[Ta],O.drawBuffer=V(a.maxDrawbuffers,(function(e){return 0===e?[0]:V(e,(function(e){return Na+e}))})));var C=0;function M(){var e=function(){var e=0,r=[],n=[];function a(){var r=[];var n=[];return t((function(){r.push.apply(r,$r(arguments))}),{def:function(){var t="v"+e++;return n.push(t),arguments.length>0&&(r.push(t,"="),r.push.apply(r,$r(arguments)),r.push(";")),t},toString:function(){return qr([n.length>0?"var "+n.join(",")+";":"",qr(r)])}})}function i(){var e=a(),r=a(),n=e.toString,i=r.toString;function o(t,n){r(t,n,"=",e.def(t,n),";")}return t((function(){e.apply(e,$r(arguments))}),{def:e.def,entry:e,exit:r,save:o,set:function(t,r,n){o(t,r),e(t,r,"=",n,";")},toString:function(){return n()+i()}})}var o=a(),s={};return{global:o,link:function(t){for(var a=0;a<n.length;++a)if(n[a]===t)return r[a];var i="g"+e++;return r.push(i),n.push(t),i},block:a,proc:function(e,r){var n=[];function a(){var e="a"+n.length;return n.push(e),e}r=r||0;for(var o=0;o<r;++o)a();var u=i(),f=u.toString;return s[e]=t(u,{arg:a,toString:function(){return qr(["function(",n.join(),"){",f(),"}"])}})},scope:i,cond:function(){var e=qr(arguments),r=i(),n=i(),a=r.toString,o=n.toString;return t(r,{then:function(){return r.apply(r,$r(arguments)),this},else:function(){return n.apply(n,$r(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),qr(["if(",e,"){",a(),"}",t])}})},compile:function(){var e=['"use strict";',o,"return {"];Object.keys(s).forEach((function(t){e.push('"',t,'":',s[t].toString(),",")})),e.push("}");var t=qr(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,n)}}}(),n=e.link,a=e.global;e.id=C++,e.batchId="0";var i=n(D),o=e.shared={props:"a0"};Object.keys(D).forEach((function(e){o[e]=a.def(i,".",e)})),I.optional((function(){e.CHECK=n(I),e.commandStr=I.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");")},O.invalidBlendCombinations=La}));var s=e.next={},u=e.current={};Object.keys(S).forEach((function(e){Array.isArray(_[e])&&(s[e]=a.def(o.next,".",e),u[e]=a.def(o.current,".",e))}));var f=e.constants={};Object.keys(O).forEach((function(e){f[e]=a.def(JSON.stringify(O[e]))})),e.invoke=function(t,r){switch(r.type){case en:var a=["this",o.context,o.props,e.batchId];return t.def(n(r.data),".call(",a.slice(0,Math.max(r.data.length+1,4)),")");case tn:return t.def(o.props,r.data);case rn:return t.def(o.context,r.data);case nn:return t.def("this",r.data);case an:return r.data.append(e,t),r.data.ref}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var t=r.id(e);if(t in l)return l[t];var a=c.scope[t];return a||(a=c.scope[t]=new b),l[t]=n(a)},e}function z(e,t,n,s,f){var c=e.static,d=e.dynamic;I.optional((function(){var e=[Bn,Fn,jn,Rn,Un,Pn,Nn,Ln,In].concat(x);function t(t){Object.keys(t).forEach((function(t){I.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',f.commandStr)}))}t(c),t(d)}));var h=function(e,t){var r=e.static,n=e.dynamic;if(Bn in r){var a=r[Bn];return a?(a=u.getFramebuffer(a),I.command(a,"invalid framebuffer object"),Xa((function(e,t){var r=e.link(a),n=e.shared;t.set(n.framebuffer,".next",r);var i=n.context;return t.set(i,"."+Wn,r+".width"),t.set(i,"."+Hn,r+".height"),r}))):Xa((function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+Wn,n+"."+Gn),t.set(n,"."+Hn,n+"."+Zn),"null"}))}if(Bn in n){var i=n[Bn];return Ka(i,(function(e,t){var r=e.invoke(t,i),n=e.shared,a=n.framebuffer,o=t.def(a,".getFramebuffer(",r,")");I.optional((function(){e.assert(t,"!"+r+"||"+o,"invalid framebuffer object")})),t.set(a,".next",o);var s=n.context;return t.set(s,"."+Wn,o+"?"+o+".width:"+s+"."+Gn),t.set(s,"."+Hn,o+"?"+o+".height:"+s+"."+Zn),o}))}return null}(e),p=function(e,t,r){var n=e.static,a=e.dynamic;function i(e){if(e in n){var i=n[e];I.commandType(i,"object","invalid "+e,r.commandStr);var o,s,u=!0,f=0|i.x,c=0|i.y;return"width"in i?(o=0|i.width,I.command(o>=0,"invalid "+e,r.commandStr)):u=!1,"height"in i?(s=0|i.height,I.command(s>=0,"invalid "+e,r.commandStr)):u=!1,new $a(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var r=e.shared.context,n=o;"width"in i||(n=t.def(r,".",Wn,"-",f));var a=s;return"height"in i||(a=t.def(r,".",Hn,"-",c)),[f,c,n,a]}))}if(e in a){var l=a[e],d=Ka(l,(function(t,r){var n=t.invoke(r,l);I.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}));var a=t.shared.context,i=r.def(n,".x|0"),o=r.def(n,".y|0"),s=r.def('"width" in ',n,"?",n,".width|0:","(",a,".",Wn,"-",i,")"),u=r.def('"height" in ',n,"?",n,".height|0:","(",a,".",Hn,"-",o,")");return I.optional((function(){t.assert(r,s+">=0&&"+u+">=0","invalid "+e)})),[i,o,s,u]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new $a(t.thisDep,t.contextDep,t.propDep,(function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",Wn),t.def(r,".",Hn)]})):null}var o=i(zn);if(o){var s=o;o=new $a(o.thisDep,o.contextDep,o.propDep,(function(e,t){var r=s.append(e,t),n=e.shared.context;return t.set(n,"."+Yn,r[2]),t.set(n,"."+Vn,r[3]),r}))}return{viewport:o,scissor_box:i(Mn)}}(e,h,f),m=function(e,t){var r=e.static,n=e.dynamic,a=function(){if(Rn in r){var e=r[Rn];Ga(e)?e=o.getElements(o.create(e,!0)):e&&(e=o.getElements(e),I.command(e,"invalid elements",t.commandStr));var a=Xa((function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null}));return a.value=e,a}if(Rn in n){var i=n[Rn];return Ka(i,(function(e,t){var r=e.shared,n=r.isBufferArgs,a=r.elements,o=e.invoke(t,i),s=t.def("null"),u=t.def(n,"(",o,")"),f=e.cond(u).then(s,"=",a,".createStream(",o,");").else(s,"=",a,".getElements(",o,");");return I.optional((function(){e.assert(f.else,"!"+o+"||"+s,"invalid elements")})),t.entry(f),t.exit(e.cond(u).then(a,".destroyStream(",s,");")),e.ELEMENTS=s,s}))}return null}();function i(e,i){if(e in r){var o=0|r[e];return I.command(!i||o>=0,"invalid "+e,t.commandStr),Xa((function(e,t){return i&&(e.OFFSET=o),o}))}if(e in n){var s=n[e];return Ka(s,(function(t,r){var n=t.invoke(r,s);return i&&(t.OFFSET=n,I.optional((function(){t.assert(r,n+">=0","invalid "+e)}))),n}))}return i&&a?Xa((function(e,t){return e.OFFSET="0",0})):null}var s=i(Pn,!0);return{elements:a,primitive:function(){if(Un in r){var e=r[Un];return I.commandParameter(e,_e,"invalid primitve",t.commandStr),Xa((function(t,r){return _e[e]}))}if(Un in n){var i=n[Un];return Ka(i,(function(e,t){var r=e.constants.primTypes,n=e.invoke(t,i);return I.optional((function(){e.assert(t,n+" in "+r,"invalid primitive, must be one of "+Object.keys(_e))})),t.def(r,"[",n,"]")}))}return a?qa(a)?a.value?Xa((function(e,t){return t.def(e.ELEMENTS,".primType")})):Xa((function(){return Ea})):new $a(a.thisDep,a.contextDep,a.propDep,(function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",Ea)})):null}(),count:function(){if(Nn in r){var e=0|r[Nn];return I.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),Xa((function(){return e}))}if(Nn in n){var i=n[Nn];return Ka(i,(function(e,t){var r=e.invoke(t,i);return I.optional((function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count")})),r}))}if(a){if(qa(a)){if(a)return s?new $a(s.thisDep,s.contextDep,s.propDep,(function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return I.optional((function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small")})),r})):Xa((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var o=Xa((function(){return-1}));return I.optional((function(){o.MISSING=!0})),o}var u=new $a(a.thisDep||s.thisDep,a.contextDep||s.contextDep,a.propDep||s.propDep,(function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")}));return I.optional((function(){u.DYNAMIC=!0})),u}return null}(),instances:i(Ln,!1),offset:s}}(e,f),y=function(e,t){var r=e.static,n=e.dynamic,i={};return x.forEach((function(e){var o=E(e);function s(t,a){if(e in r){var s=t(r[e]);i[o]=Xa((function(){return s}))}else if(e in n){var u=n[e];i[o]=Ka(u,(function(e,t){return a(e,t,e.invoke(t,u))}))}}switch(e){case bn:case sn:case on:case En:case ln:case Cn:case _n:case xn:case kn:case pn:return s((function(r){return I.commandType(r,"boolean",e,t.commandStr),r}),(function(t,r,n){return I.optional((function(){t.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+e,t.commandStr)})),n}));case dn:return s((function(r){return I.commandParameter(r,Wa,"invalid "+e,t.commandStr),Wa[r]}),(function(t,r,n){var a=t.constants.compareFuncs;return I.optional((function(){t.assert(r,n+" in "+a,"invalid "+e+", must be one of "+Object.keys(Wa))})),r.def(a,"[",n,"]")}));case hn:return s((function(e){return I.command(Re(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,r){return I.optional((function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")})),[t.def("+",r,"[0]"),t.def("+",r,"[1]")]}));case cn:return s((function(e){I.commandType(e,"object","blend.func",t.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,n="srcAlpha"in e?e.srcAlpha:e.src,a="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return I.commandParameter(r,Pa,o+".srcRGB",t.commandStr),I.commandParameter(n,Pa,o+".srcAlpha",t.commandStr),I.commandParameter(a,Pa,o+".dstRGB",t.commandStr),I.commandParameter(i,Pa,o+".dstAlpha",t.commandStr),I.command(-1===La.indexOf(r+", "+a),"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+a+")",t.commandStr),[Pa[r],Pa[a],Pa[n],Pa[i]]}),(function(t,r,n){var a=t.constants.blendFuncs;function i(i,o){var s=r.def('"',i,o,'" in ',n,"?",n,".",i,o,":",n,".",i);return I.optional((function(){t.assert(r,s+" in "+a,"invalid "+e+"."+i+o+", must be one of "+Object.keys(Pa))})),s}I.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object")}));var o=i("src","RGB"),s=i("dst","RGB");I.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+o+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=r.def(a,"[",o,"]"),f=r.def(a,"[",i("src","Alpha"),"]");return[u,r.def(a,"[",s,"]"),f,r.def(a,"[",i("dst","Alpha"),"]")]}));case fn:return s((function(r){return"string"==typeof r?(I.commandParameter(r,v,"invalid "+e,t.commandStr),[v[r],v[r]]):"object"==typeof r?(I.commandParameter(r.rgb,v,e+".rgb",t.commandStr),I.commandParameter(r.alpha,v,e+".alpha",t.commandStr),[v[r.rgb],v[r.alpha]]):void I.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,r,n){var a=t.constants.blendEquations,i=r.def(),o=r.def(),s=t.cond("typeof ",n,'==="string"');return I.optional((function(){function r(e,r,n){t.assert(e,n+" in "+a,"invalid "+r+", must be one of "+Object.keys(v))}r(s.then,e,n),t.assert(s.else,n+"&&typeof "+n+'==="object"',"invalid "+e),r(s.else,e+".rgb",n+".rgb"),r(s.else,e+".alpha",n+".alpha")})),s.then(i,"=",o,"=",a,"[",n,"];"),s.else(i,"=",a,"[",n,".rgb];",o,"=",a,"[",n,".alpha];"),r(s),[i,o]}));case un:return s((function(e){return I.command(Re(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),V(4,(function(t){return+e[t]}))}),(function(e,t,r){return I.optional((function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")})),V(4,(function(e){return t.def("+",r,"[",e,"]")}))}));case An:return s((function(e){return I.commandType(e,"number",o,t.commandStr),0|e}),(function(e,t,r){return I.optional((function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask")})),t.def(r,"|0")}));case Tn:return s((function(r){I.commandType(r,"object",o,t.commandStr);var n=r.cmp||"keep",a=r.ref||0,i="mask"in r?r.mask:-1;return I.commandParameter(n,Wa,e+".cmp",t.commandStr),I.commandType(a,"number",e+".ref",t.commandStr),I.commandType(i,"number",e+".mask",t.commandStr),[Wa[n],a,i]}),(function(e,t,r){var n=e.constants.compareFuncs;return I.optional((function(){function a(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}a(r+"&&typeof ",r,'==="object"'),a('!("cmp" in ',r,")||(",r,".cmp in ",n,")")})),[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",Ia),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case Dn:case On:return s((function(r){I.commandType(r,"object",o,t.commandStr);var n=r.fail||"keep",a=r.zfail||"keep",i=r.zpass||"keep";return I.commandParameter(n,Ha,e+".fail",t.commandStr),I.commandParameter(a,Ha,e+".zfail",t.commandStr),I.commandParameter(i,Ha,e+".zpass",t.commandStr),[e===On?Ta:Aa,Ha[n],Ha[a],Ha[i]]}),(function(t,r,n){var a=t.constants.stencilOps;function i(i){return I.optional((function(){t.assert(r,'!("'+i+'" in '+n+")||("+n+"."+i+" in "+a+")","invalid "+e+"."+i+", must be one of "+Object.keys(Ha))})),r.def('"',i,'" in ',n,"?",a,"[",n,".",i,"]:",Ia)}return I.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)})),[e===On?Ta:Aa,i("fail"),i("zfail"),i("zpass")]}));case wn:return s((function(e){I.commandType(e,"object",o,t.commandStr);var r=0|e.factor,n=0|e.units;return I.commandType(r,"number",o+".factor",t.commandStr),I.commandType(n,"number",o+".units",t.commandStr),[r,n]}),(function(t,r,n){return I.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)})),[r.def(n,".factor|0"),r.def(n,".units|0")]}));case vn:return s((function(e){var r=0;return"front"===e?r=Aa:"back"===e&&(r=Ta),I.command(!!r,o,t.commandStr),r}),(function(e,t,r){return I.optional((function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face")})),t.def(r,'==="front"?',Aa,":",Ta)}));case yn:return s((function(e){return I.command("number"==typeof e&&e>=a.lineWidthDims[0]&&e<=a.lineWidthDims[1],"invalid line width, must be a positive number between "+a.lineWidthDims[0]+" and "+a.lineWidthDims[1],t.commandStr),e}),(function(e,t,r){return I.optional((function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+a.lineWidthDims[0]+"&&"+r+"<="+a.lineWidthDims[1],"invalid line width")})),r}));case gn:return s((function(e){return I.commandParameter(e,Va,o,t.commandStr),Va[e]}),(function(e,t,r){return I.optional((function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(r+'==="cw"?'+Da+":"+Oa)}));case mn:return s((function(e){return I.command(Re(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,r){return I.optional((function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")})),V(4,(function(e){return"!!"+r+"["+e+"]"}))}));case Sn:return s((function(e){I.command("object"==typeof e&&e,o,t.commandStr);var r="value"in e?e.value:1,n=!!e.invert;return I.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[r,n]}),(function(e,t,r){return I.optional((function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]}))}})),i}(e,f),_=function(e){var t=e.static,n=e.dynamic;function a(e){if(e in t){var a=r.id(t[e]);I.optional((function(){l.shader(Ya[e],a,I.guessCommand())}));var i=Xa((function(){return a}));return i.id=a,i}if(e in n){var o=n[e];return Ka(o,(function(t,r){var n=t.invoke(r,o),a=r.def(t.shared.strings,".id(",n,")");return I.optional((function(){r(t.shared.shader,".shader(",Ya[e],",",a,",",t.command,");")})),a}))}return null}var i,o=a(jn),s=a(Fn),u=null;return qa(o)&&qa(s)?(u=l.program(s.id,o.id),i=Xa((function(e,t){return e.link(u)}))):i=new $a(o&&o.thisDep||s&&s.thisDep,o&&o.contextDep||s&&s.contextDep,o&&o.propDep||s&&s.propDep,(function(e,t){var r,n=e.shared.shader;r=o?o.append(e,t):t.def(n,".",jn);var a=n+".program("+(s?s.append(e,t):t.def(n,".",Fn))+","+r;return I.optional((function(){a+=","+e.command})),t.def(a+")")})),{frag:o,vert:s,progVar:i,program:u}}(e);function w(e){var t=p[e];t&&(y[e]=t)}w(zn),w(E(Mn));var k=Object.keys(y).length>0,S={framebuffer:h,draw:m,shader:_,state:y,dirty:k};return S.profile=function(e){var t,r=e.static,n=e.dynamic;if(In in r){var a=!!r[In];(t=Xa((function(e,t){return a}))).enable=a}else if(In in n){var i=n[In];t=Ka(i,(function(e,t){return e.invoke(t,i)}))}return t}(e),S.uniforms=function(e,t){var r=e.static,n=e.dynamic,a={};return Object.keys(r).forEach((function(e){var n,i=r[e];if("number"==typeof i||"boolean"==typeof i)n=Xa((function(){return i}));else if("function"==typeof i){var o=i._reglType;"texture2d"===o||"textureCube"===o?n=Xa((function(e){return e.link(i)})):"framebuffer"===o||"framebufferCube"===o?(I.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),n=Xa((function(e){return e.link(i.color[0])}))):I.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else Re(i)?n=Xa((function(t){return t.global.def("[",V(i.length,(function(r){return I.command("number"==typeof i[r]||"boolean"==typeof i[r],"invalid uniform "+e,t.commandStr),i[r]})),"]")})):I.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);n.value=i,a[e]=n})),Object.keys(n).forEach((function(e){var t=n[e];a[e]=Ka(t,(function(e,r){return e.invoke(r,t)}))})),a}(n,f),S.attributes=function(e,t){var n=e.static,a=e.dynamic,o={};return Object.keys(n).forEach((function(e){var a=n[e],s=r.id(e),u=new b;if(Ga(a))u.state=Qr,u.buffer=i.getBuffer(i.create(a,qn,!1,!0)),u.type=0;else{var f=i.getBuffer(a);if(f)u.state=Qr,u.buffer=f,u.type=0;else if(I.command("object"==typeof a&&a,"invalid data for attribute "+e,t.commandStr),"constant"in a){var c=a.constant;u.buffer="null",u.state=Jr,"number"==typeof c?u.x=c:(I.command(Re(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),Xr.forEach((function(e,t){t<c.length&&(u[e]=c[t])})))}else{f=Ga(a.buffer)?i.getBuffer(i.create(a.buffer,qn,!1,!0)):i.getBuffer(a.buffer),I.command(!!f,'missing buffer for attribute "'+e+'"',t.commandStr);var l=0|a.offset;I.command(l>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|a.stride;I.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|a.size;I.command(!("size"in a)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!a.normalized,m=0;"type"in a&&(I.commandParameter(a.type,ue,"invalid type for attribute "+e,t.commandStr),m=ue[a.type]);var v=0|a.divisor;"divisor"in a&&(I.command(0===v||g,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),I.command(v>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),I.optional((function(){var r=t.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(a).forEach((function(t){I.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+n+")",r)}))})),u.buffer=f,u.state=Qr,u.size=h,u.normalized=p,u.type=m||f.dtype,u.offset=l,u.stride=d,u.divisor=v}}o[e]=Xa((function(e,t){var r=e.attribCache;if(s in r)return r[s];var n={isStream:!1};return Object.keys(u).forEach((function(e){n[e]=u[e]})),u.buffer&&(n.buffer=e.link(u.buffer),n.type=n.type||n.buffer+".dtype"),r[s]=n,n}))})),Object.keys(a).forEach((function(e){var t=a[e];o[e]=Ka(t,(function(r,n){var a=r.invoke(n,t),i=r.shared,o=r.constants,s=i.isBufferArgs,u=i.buffer;I.optional((function(){r.assert(n,a+"&&(typeof "+a+'==="object"||typeof '+a+'==="function")&&('+s+"("+a+")||"+u+".getBuffer("+a+")||"+u+".getBuffer("+a+".buffer)||"+s+"("+a+'.buffer)||("constant" in '+a+"&&(typeof "+a+'.constant==="number"||'+i.isArrayLike+"("+a+".constant))))",'invalid dynamic attribute "'+e+'"')}));var f={isStream:n.def(!1)},c=new b;c.state=Qr,Object.keys(c).forEach((function(e){f[e]=n.def(""+c[e])}));var l=f.buffer,d=f.type;function h(e){n(f[e],"=",a,".",e,"|0;")}return n("if(",s,"(",a,")){",f.isStream,"=true;",l,"=",u,".createStream(",qn,",",a,");",d,"=",l,".dtype;","}else{",l,"=",u,".getBuffer(",a,");","if(",l,"){",d,"=",l,".dtype;",'}else if("constant" in ',a,"){",f.state,"=",Jr,";","if(typeof "+a+'.constant === "number"){',f[Xr[0]],"=",a,".constant;",Xr.slice(1).map((function(e){return f[e]})).join("="),"=0;","}else{",Xr.map((function(e,t){return f[e]+"="+a+".constant.length>"+t+"?"+a+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",a,".buffer)){",l,"=",u,".createStream(",qn,",",a,".buffer);","}else{",l,"=",u,".getBuffer(",a,".buffer);","}",d,'="type" in ',a,"?",o.glTypes,"[",a,".type]:",l,".dtype;",f.normalized,"=!!",a,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),n("}}"),n.exit("if(",f.isStream,"){",u,".destroyStream(",l,");","}"),f}))})),o}(t,f),S.context=function(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach((function(e){var r=t[e];n[e]=Xa((function(e,t){return"number"==typeof r||"boolean"==typeof r?""+r:e.link(r)}))})),Object.keys(r).forEach((function(e){var t=r[e];n[e]=Ka(t,(function(e,r){return e.invoke(r,t)}))})),n}(s),S}function B(e,t,r){var n=e.shared.context,a=e.scope();Object.keys(r).forEach((function(i){t.save(n,"."+i);var o=r[i];a(n,".",i,"=",o.append(e,t),";")})),t(a)}function F(e,t,r,n){var a,i=e.shared,o=i.gl,s=i.framebuffer;y&&(a=t.def(i.extensions,".webgl_draw_buffers"));var u,f=e.constants,c=f.drawBuffer,l=f.backBuffer;u=r?r.append(e,t):t.def(s,".next"),n||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",o,".bindFramebuffer(",Ua,",",u,".framebuffer);"),y&&t(a,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Ua,",null);"),y&&t(a,".drawBuffersWEBGL(",l,");"),t("}",s,".cur=",u,";"),n||t("}")}function j(e,t,r){var n=e.shared,a=n.gl,i=e.current,o=e.next,s=n.current,u=n.next,f=e.cond(s,".dirty");x.forEach((function(t){var n,c,l=E(t);if(!(l in r.state))if(l in o){n=o[l],c=i[l];var d=V(_[l].length,(function(e){return f.def(n,"[",e,"]")}));f(e.cond(d.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(a,".",S[l],"(",d,");",d.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{n=f.def(u,".",l);var h=e.cond(n,"!==",s,".",l);f(h),l in k?h(e.cond(n).then(a,".enable(",k[l],");").else(a,".disable(",k[l],");"),s,".",l,"=",n,";"):h(a,".",S[l],"(",n,");",s,".",l,"=",n,";")}})),0===Object.keys(r.state).length&&f(s,".dirty=false;"),t(f)}function R(e,t,r,n){var a=e.shared,i=e.current,o=a.current,s=a.gl;Za(Object.keys(r)).forEach((function(a){var u=r[a];if(!n||n(u)){var f=u.append(e,t);if(k[a]){var c=k[a];qa(u)?t(s,f?".enable(":".disable(",c,");"):t(e.cond(f).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(o,".",a,"=",f,";")}else if(Re(f)){var l=i[a];t(s,".",S[a],"(",f,");",f.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";")}else t(s,".",S[a],"(",f,");",o,".",a,"=",f,";")}}))}function U(e,t){g&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function P(e,t,r,n,a){var i,o,s,u=e.shared,f=e.stats,c=u.current,l=u.timer,d=r.profile;function h(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function m(e){e(i=t.def(),"=",h(),";"),"string"==typeof a?e(f,".count+=",a,";"):e(f,".count++;"),p&&(n?e(o=t.def(),"=",l,".getNumPendingQueries();"):e(l,".beginQuery(",f,");"))}function b(e){e(f,".cpuTime+=",h(),"-",i,";"),p&&(n?e(l,".pushScopeStats(",o,",",l,".getNumPendingQueries(),",f,");"):e(l,".endQuery();"))}function v(e){var r=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",r,";")}if(d){if(qa(d))return void(d.enable?(m(t),b(t.exit),v("true")):v("false"));v(s=d.append(e,t))}else s=t.def(c,".profile");var g=e.block();m(g),t("if(",s,"){",g,"}");var y=e.block();b(y),t.exit("if(",s,"){",y,"}")}function L(e,t,r,n,a){var i=e.shared;n.forEach((function(n){var o,s=n.name,u=r.attributes[s];if(u){if(!a(u))return;o=u.append(e,t)}else{if(!a(Qa))return;var f=e.scopeAttrib(s);I.optional((function(){e.assert(t,f+".state","missing attribute "+s)})),o={},Object.keys(new b).forEach((function(e){o[e]=t.def(f,".",e)}))}!function(r,n,a){var o=i.gl,s=t.def(r,".location"),u=t.def(i.attributes,"[",s,"]"),f=a.state,c=a.buffer,l=[a.x,a.y,a.z,a.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",o,".enableVertexAttribArray(",s,");}");var r,i=a.type;if(r=a.size?t.def(a.size,"||",n):n,t("if(",u,".type!==",i,"||",u,".size!==",r,"||",d.map((function(e){return u+"."+e+"!=="+a[e]})).join("||"),"){",o,".bindBuffer(",qn,",",c,".buffer);",o,".vertexAttribPointer(",[s,r,i,a.normalized,a.stride,a.offset],");",u,".type=",i,";",u,".size=",r,";",d.map((function(e){return u+"."+e+"="+a[e]+";"})).join(""),"}"),g){var f=a.divisor;t("if(",u,".divisor!==",f,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,f],");",u,".divisor=",f,";}")}}function p(){t("if(",u,".buffer){",o,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",Xr.map((function(e,t){return u+"."+e+"!=="+l[t]})).join("||"),"){",o,".vertexAttrib4f(",s,",",l,");",Xr.map((function(e,t){return u+"."+e+"="+l[t]+";"})).join(""),"}")}f===Qr?h():f===Jr?p():(t("if(",f,"===",Qr,"){"),h(),t("}else{"),p(),t("}"))}(e.link(n),function(e){switch(e){case fa:case ha:case va:return 2;case ca:case pa:case ga:return 3;case la:case ma:case ya:return 4;default:return 1}}(n.info.type),o)}))}function W(e,t,n,a,i){for(var o,s=e.shared,u=s.gl,f=0;f<a.length;++f){var c,l=a[f],d=l.name,h=l.info.type,p=n.uniforms[d],m=e.link(l)+".location";if(p){if(!i(p))continue;if(qa(p)){var b=p.value;if(I.command(null!=b,'missing uniform "'+d+'"',e.commandStr),h===ka||h===Sa){I.command("function"==typeof b&&(h===ka&&("texture2d"===b._reglType||"framebuffer"===b._reglType)||h===Sa&&("textureCube"===b._reglType||"framebufferCube"===b._reglType)),"invalid texture for uniform "+d,e.commandStr);var v=e.link(b._texture||b.color[0]._texture);t(u,".uniform1i(",m,",",v+".bind());"),t.exit(v,".unbind();")}else if(h===_a||h===wa||h===xa){I.optional((function(){I.command(Re(b),"invalid matrix for uniform "+d,e.commandStr),I.command(h===_a&&4===b.length||h===wa&&9===b.length||h===xa&&16===b.length,"invalid length for matrix uniform "+d,e.commandStr)}));var g=e.global.def("new Float32Array(["+Array.prototype.slice.call(b)+"])"),y=2;h===wa?y=3:h===xa&&(y=4),t(u,".uniformMatrix",y,"fv(",m,",false,",g,");")}else{switch(h){case ua:I.commandType(b,"number","uniform "+d,e.commandStr),o="1f";break;case fa:I.command(Re(b)&&2===b.length,"uniform "+d,e.commandStr),o="2f";break;case ca:I.command(Re(b)&&3===b.length,"uniform "+d,e.commandStr),o="3f";break;case la:I.command(Re(b)&&4===b.length,"uniform "+d,e.commandStr),o="4f";break;case ba:I.commandType(b,"boolean","uniform "+d,e.commandStr),o="1i";break;case da:I.commandType(b,"number","uniform "+d,e.commandStr),o="1i";break;case va:case ha:I.command(Re(b)&&2===b.length,"uniform "+d,e.commandStr),o="2i";break;case ga:case pa:I.command(Re(b)&&3===b.length,"uniform "+d,e.commandStr),o="3i";break;case ya:case ma:I.command(Re(b)&&4===b.length,"uniform "+d,e.commandStr),o="4i"}t(u,".uniform",o,"(",m,",",Re(b)?Array.prototype.slice.call(b):b,");")}continue}c=p.append(e,t)}else{if(!i(Qa))continue;c=t.def(s.uniforms,"[",r.id(d),"]")}h===ka?t("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}"):h===Sa&&t("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}"),I.optional((function(){function r(r,n){e.assert(t,r,'bad data or missing for uniform "'+d+'".  '+n)}function n(e){r("typeof "+c+'==="'+e+'"',"invalid type, expected "+e)}function a(t,n){r(s.isArrayLike+"("+c+")&&"+c+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function i(t){r("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(t===Kn?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case da:n("number");break;case ha:a(2);break;case pa:a(3);break;case ma:a(4);break;case ua:n("number");break;case fa:a(2);break;case ca:a(3);break;case la:a(4);break;case ba:n("boolean");break;case va:a(2);break;case ga:a(3);break;case ya:case _a:a(4);break;case wa:a(9);break;case xa:a(16);break;case ka:i(Kn);break;case Sa:i(Qn)}}));var _=1;switch(h){case ka:case Sa:var w=t.def(c,"._texture");t(u,".uniform1i(",m,",",w,".bind());"),t.exit(w,".unbind();");continue;case da:case ba:o="1i";break;case ha:case va:o="2i",_=2;break;case pa:case ga:o="3i",_=3;break;case ma:case ya:o="4i",_=4;break;case ua:o="1f";break;case fa:o="2f",_=2;break;case ca:o="3f",_=3;break;case la:o="4f",_=4;break;case _a:o="Matrix2fv";break;case wa:o="Matrix3fv";break;case xa:o="Matrix4fv"}if(t(u,".uniform",o,"(",m,","),"M"===o.charAt(0)){var x=Math.pow(h-_a+2,2),k=e.global.def("new Float32Array(",x,")");t("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",V(x,(function(e){return k+"["+e+"]="+c+"["+e+"]"})),",",k,")")}else t(_>1?V(_,(function(e){return c+"["+e+"]"})):c);t(");")}}function H(e,t,r,n){var a=e.shared,i=a.gl,o=a.draw,s=n.draw;var u=function(){var a,u=s.elements,f=t;return u?((u.contextDep&&n.contextDynamic||u.propDep)&&(f=r),a=u.append(e,f)):a=f.def(o,".",Rn),a&&f("if("+a+")"+i+".bindBuffer("+Xn+","+a+".buffer.buffer);"),a}();function f(a){var i=s[a];return i?i.contextDep&&n.contextDynamic||i.propDep?i.append(e,r):i.append(e,t):t.def(o,".",a)}var c,l,d=f(Un),h=f(Pn),p=function(){var a,i=s.count,u=t;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(u=r),a=i.append(e,u),I.optional((function(){i.MISSING&&e.assert(t,"false","missing vertex count"),i.DYNAMIC&&e.assert(u,a+">=0","missing vertex count")}))):(a=u.def(o,".",Nn),I.optional((function(){e.assert(u,a+">=0","missing vertex count")}))),a}();if("number"==typeof p){if(0===p)return}else r("if(",p,"){"),r.exit("}");g&&(c=f(Ln),l=e.instancing);var m=u+".type",b=s.elements&&qa(s.elements);function v(){function e(){r(l,".drawElementsInstancedANGLE(",[d,p,m,h+"<<(("+m+"-"+Kr+")>>1)",c],");")}function t(){r(l,".drawArraysInstancedANGLE(",[d,h,p,c],");")}u?b?e():(r("if(",u,"){"),e(),r("}else{"),t(),r("}")):t()}function y(){function e(){r(i+".drawElements("+[d,p,m,h+"<<(("+m+"-"+Kr+")>>1)"]+");")}function t(){r(i+".drawArrays("+[d,h,p]+");")}u?b?e():(r("if(",u,"){"),e(),r("}else{"),t(),r("}")):t()}g&&("number"!=typeof c||c>=0)?"string"==typeof c?(r("if(",c,">0){"),v(),r("}else if(",c,"<0){"),y(),r("}")):v():y()}function Y(e,t,r,n,a){var i=M(),o=i.proc("body",a);return I.optional((function(){i.commandStr=t.commandStr,i.command=i.link(t.commandStr)})),g&&(i.instancing=o.def(i.shared.extensions,".angle_instanced_arrays")),e(i,o,r,n),i.compile().body}function G(e,t,r,n){U(e,t),L(e,t,r,n.attributes,(function(){return!0})),W(e,t,r,n.uniforms,(function(){return!0})),H(e,t,t,r)}function Z(e,t,r,n){function a(){return!0}e.batchId="a1",U(e,t),L(e,t,r,n.attributes,a),W(e,t,r,n.uniforms,a),H(e,t,t,r)}function $(e,t,r,n){U(e,t);var a=r.contextDep,i=t.def(),o=t.def();e.shared.props=o,e.batchId=i;var s=e.scope(),u=e.scope();function f(e){return e.contextDep&&a||e.propDep}function c(e){return!f(e)}if(t(s.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",o,"=","a0","[",i,"];",u,"}",s.exit),r.needsContext&&B(e,u,r.context),r.needsFramebuffer&&F(e,u,r.framebuffer),R(e,u,r.state,f),r.profile&&f(r.profile)&&P(e,u,r,!1,!0),n)L(e,s,r,n.attributes,c),L(e,u,r,n.attributes,f),W(e,s,r,n.uniforms,c),W(e,u,r,n.uniforms,f),H(e,s,u,r);else{var l=e.global.def("{}"),d=r.shader.progVar.append(e,u),h=u.def(d,".id"),p=u.def(l,"[",h,"]");u(e.shared.gl,".useProgram(",d,".program);","if(!",p,"){",p,"=",l,"[",h,"]=",e.link((function(t){return Y(Z,e,r,t,2)})),"(",d,");}",p,".call(this,a0[",i,"],",i,");")}}function q(e,t,r){var n=t.static[r];if(n&&function(e){if("object"==typeof e&&!Re(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(N.isDynamic(e[t[r]]))return!0;return!1}}(n)){var a=e.global,i=Object.keys(n),o=!1,s=!1,u=!1,f=e.global.def("{}");i.forEach((function(t){var r=n[t];if(N.isDynamic(r)){"function"==typeof r&&(r=n[t]=N.unbox(r));var i=Ka(r,null);o=o||i.thisDep,u=u||i.propDep,s=s||i.contextDep}else{switch(a(f,".",t,"="),typeof r){case"number":a(r);break;case"string":a('"',r,'"');break;case"object":Array.isArray(r)&&a("[",r.join(),"]");break;default:a(e.link(r))}a(";")}})),t.dynamic[r]=new N.DynamicVariable(an,{thisDep:o,contextDep:s,propDep:u,ref:f,append:function(e,t){i.forEach((function(r){var a=n[r];if(N.isDynamic(a)){var i=e.invoke(t,a);t(f,".",r,"=",i,";")}}))}}),delete t.static[r]}}return{next:w,current:_,procs:function(){var e=M(),t=e.proc("poll"),r=e.proc("refresh"),n=e.block();t(n),r(n);var i,o=e.shared,s=o.gl,u=o.next,f=o.current;n(f,".dirty=false;"),F(e,t),F(e,r,null,!0),g&&(i=e.link(g));for(var c=0;c<a.maxAttributes;++c){var l=r.def(o.attributes,"[",c,"]"),d=e.cond(l,".buffer");d.then(s,".enableVertexAttribArray(",c,");",s,".bindBuffer(",qn,",",l,".buffer.buffer);",s,".vertexAttribPointer(",c,",",l,".size,",l,".type,",l,".normalized,",l,".stride,",l,".offset);").else(s,".disableVertexAttribArray(",c,");",s,".vertexAttrib4f(",c,",",l,".x,",l,".y,",l,".z,",l,".w);",l,".buffer=null;"),r(d),g&&r(i,".vertexAttribDivisorANGLE(",c,",",l,".divisor);")}return Object.keys(k).forEach((function(a){var i=k[a],o=n.def(u,".",a),c=e.block();c("if(",o,"){",s,".enable(",i,")}else{",s,".disable(",i,")}",f,".",a,"=",o,";"),r(c),t("if(",o,"!==",f,".",a,"){",c,"}")})),Object.keys(S).forEach((function(a){var i,o,c=S[a],l=_[a],d=e.block();if(d(s,".",c,"("),Re(l)){var h=l.length;i=e.global.def(u,".",a),o=e.global.def(f,".",a),d(V(h,(function(e){return i+"["+e+"]"})),");",V(h,(function(e){return o+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",V(h,(function(e){return i+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",d,"}")}else i=n.def(u,".",a),o=n.def(f,".",a),d(i,");",f,".",a,"=",i,";"),t("if(",i,"!==",o,"){",d,"}");r(d)})),e.compile()}(),compile:function(e,t,n,a,i){var o=M();o.stats=o.link(i),Object.keys(t.static).forEach((function(e){q(o,t,e)})),$n.forEach((function(t){q(o,e,t)}));var s=z(e,t,n,a,o);return function(e,t){var r=e.proc("draw",1);U(e,r),B(e,r,t.context),F(e,r,t.framebuffer),j(e,r,t),R(e,r,t.state),P(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)G(e,r,t,t.shader.program);else{var a=e.global.def("{}"),i=r.def(n,".id"),o=r.def(a,"[",i,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",a,"[",i,"]=",e.link((function(r){return Y(G,e,t,r,1)})),"(",n,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}(o,s),function(e,t){var n=e.proc("scope",3);e.batchId="a2";var a=e.shared,i=a.current;function o(r){var i=t.shader[r];i&&n.set(a.shader,"."+r,i.append(e,n))}B(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),Za(Object.keys(t.state)).forEach((function(r){var i=t.state[r].append(e,n);Re(i)?i.forEach((function(t,a){n.set(e.next[r],"["+a+"]",t)})):n.set(a.next,"."+r,i)})),P(e,n,t,!0,!0),[Rn,Pn,Nn,Ln,Un].forEach((function(r){var i=t.draw[r];i&&n.set(a.draw,"."+r,""+i.append(e,n))})),Object.keys(t.uniforms).forEach((function(i){n.set(a.uniforms,"["+r.id(i)+"]",t.uniforms[i].append(e,n))})),Object.keys(t.attributes).forEach((function(r){var a=t.attributes[r].append(e,n),i=e.scopeAttrib(r);Object.keys(new b).forEach((function(e){n.set(i,"."+e,a[e])}))})),o(Fn),o(jn),Object.keys(t.state).length>0&&(n(i,".dirty=true;"),n.exit(i,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");")}(o,s),function(e,t){var r=e.proc("batch",2);e.batchId="0",U(e,r);var n=!1,a=!0;Object.keys(t.context).forEach((function(e){n=n||t.context[e].propDep})),n||(B(e,r,t.context),a=!1);var i=t.framebuffer,o=!1;function s(e){return e.contextDep&&n||e.propDep}i?(i.propDep?n=o=!0:i.contextDep&&n&&(o=!0),o||F(e,r,i)):F(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),j(e,r,t),R(e,r,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||P(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=a,t.needsFramebuffer=o;var u=t.shader.progVar;if(u.contextDep&&n||u.propDep)$(e,r,t,null);else{var f=u.append(e,r);if(r(e.shared.gl,".useProgram(",f,".program);"),t.shader.program)$(e,r,t,t.shader.program);else{var c=e.global.def("{}"),l=r.def(f,".id"),d=r.def(c,"[",l,"]");r(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",l,"]=",e.link((function(r){return Y($,e,t,r,2)})),"(",f,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}(o,s),o.compile()}}}var ei=34918,ti=34919,ri=35007,ni=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[];function n(e){r.push(e)}var a=[];function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var o=[];function s(e){o.push(e)}var u=[];function f(e,t,r){var n=function(){return o.pop()||new i}();n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,u.push(n)}var c=[],l=[];return{beginQuery:function(e){var n=function(){return r.pop()||t.ext_disjoint_timer_query.createQueryEXT()}();t.ext_disjoint_timer_query.beginQueryEXT(ri,n),a.push(n),f(a.length-1,a.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(ri)},pushScopeStats:f,update:function(){var e,r,i=a.length;if(0!==i){l.length=Math.max(l.length,i+1),c.length=Math.max(c.length,i+1),c[0]=0,l[0]=0;var o=0;for(e=0,r=0;r<a.length;++r){var f=a[r];t.ext_disjoint_timer_query.getQueryObjectEXT(f,ti)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(f,ei),n(f)):a[e++]=f,c[r+1]=o,l[r+1]=e}for(a.length=e,e=0,r=0;r<u.length;++r){var d=u[r],h=d.startQueryIndex,p=d.endQueryIndex;d.sum+=c[p]-c[h];var m=l[h],b=l[p];b===m?(d.stats.gpuTime+=d.sum/1e6,s(d)):(d.startQueryIndex=m,d.endQueryIndex=b,u[e++]=d)}u.length=e}},getNumPendingQueries:function(){return a.length},clear:function(){r.push.apply(r,a);for(var e=0;e<r.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(r[e]);a.length=0,r.length=0},restore:function(){a.length=0,r.length=0}}},ai=16384,ii=256,oi=1024,si=34962,ui="webglcontextlost",fi="webglcontextrestored",ci=1,li=2,di=3;function hi(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}return function(r){var n=Y(r);if(!n)return null;var a=n.gl,i=a.getContextAttributes(),o=a.isContextLost(),s=function(e,t){var r={};function n(t){I.type(t,"string","extension name must be string");var n,a=t.toLowerCase();try{n=r[a]=e.getExtension(a)}catch(i){}return!!n}for(var a=0;a<t.extensions.length;++a){var i=t.extensions[a];if(!n(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach((function(e){if(r[e]&&!n(e))throw new Error("(regl): error restoring extension "+e)}))}}}(a,n);if(!s)return null;var u=function(){var e={"":0},t=[""];return{id:function(r){var n=e[r];return n||(n=e[r]=t.length,t.push(r),n)},str:function(e){return t[e]}}}(),f=function(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}(),c=s.extensions,l=ni(a,c),d=L(),h=a.drawingBufferWidth,p=a.drawingBufferHeight,m={tick:0,time:0,viewportWidth:h,viewportHeight:p,framebufferWidth:h,framebufferHeight:p,drawingBufferWidth:h,drawingBufferHeight:p,pixelRatio:n.pixelRatio},b=re(a,c),v=function(e,t,r,n){for(var a=r.maxAttributes,i=new Array(a),o=0;o<a;++o)i[o]=new Ur;return{Record:Ur,scope:{},state:i}}(0,0,b),g=function(t,r,n,a){var i=0,o={};function s(e){this.id=i++,this.buffer=t.createBuffer(),this.type=e,this.usage=de,this.byteLength=0,this.dimension=1,this.dtype=pe,this.persistentData=null,n.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){l(this)};var u=[];function f(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function c(t,r,n,a,i,o){var s,u;if(t.usage=n,Array.isArray(r)){if(t.dtype=a||me,r.length>0)if(Array.isArray(r[0])){s=le(r);for(var c=1,l=1;l<s.length;++l)c*=s[l];t.dimension=c,f(t,u=ce(r,s,t.dtype),n),o?t.persistentData=u:te.freeType(u)}else if("number"==typeof r[0]){t.dimension=i;var d=te.allocType(t.dtype,r.length);ge(d,r),f(t,d,n),o?t.persistentData=d:te.freeType(d)}else e(r[0])?(t.dimension=r[0].length,t.dtype=a||ve(r[0])||me,f(t,u=ce(r,[r.length,r[0].length],t.dtype),n),o?t.persistentData=u:te.freeType(u)):I.raise("invalid buffer data")}else if(e(r))t.dtype=a||ve(r),t.dimension=i,f(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r.buffer)));else if(ne(r)){s=r.shape;var h=r.stride,p=r.offset,m=0,b=0,v=0,g=0;1===s.length?(m=s[0],b=1,v=h[0],g=0):2===s.length?(m=s[0],b=s[1],v=h[0],g=h[1]):I.raise("invalid shape"),t.dtype=a||ve(r.data)||me,t.dimension=b;var y=te.allocType(t.dtype,m*b);ye(y,r.data,m,b,v,g,p),f(t,y,n),o?t.persistentData=y:te.freeType(y)}else r instanceof ArrayBuffer?(t.dtype=pe,t.dimension=i,f(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r)))):I.raise("invalid buffer data")}function l(e){r.bufferCount--;for(var n=0;n<a.state.length;++n){var i=a.state[n];i.buffer===e&&(t.disableVertexAttribArray(n),i.buffer=null)}var s=e.buffer;I(s,"buffer must not be deleted already"),t.deleteBuffer(s),e.buffer=null,delete o[e.id]}return n.profile&&(r.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach((function(t){e+=o[t].stats.size})),e}),{create:function(a,i,u,f){r.bufferCount++;var d=new s(i);function h(r){var a=de,i=null,o=0,s=0,u=1;return Array.isArray(r)||e(r)||ne(r)||r instanceof ArrayBuffer?i=r:"number"==typeof r?o=0|r:r&&(I.type(r,"object","buffer arguments must be an object, a number or an array"),"data"in r&&(I(null===i||Array.isArray(i)||e(i)||ne(i),"invalid data for buffer"),i=r.data),"usage"in r&&(I.parameter(r.usage,fe,"invalid buffer usage"),a=fe[r.usage]),"type"in r&&(I.parameter(r.type,ue,"invalid buffer type"),s=ue[r.type]),"dimension"in r&&(I.type(r.dimension,"number","invalid dimension"),u=0|r.dimension),"length"in r&&(I.nni(o,"buffer length must be a nonnegative integer"),o=0|r.length)),d.bind(),i?c(d,i,a,s,u,f):(o&&t.bufferData(d.type,o,a),d.dtype=s||pe,d.usage=a,d.dimension=u,d.byteLength=o),n.profile&&(d.stats.size=d.byteLength*be[d.dtype]),h}function p(e,r){I(r+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+r+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,r,e)}return o[d.id]=d,u||h(a),h._reglType="buffer",h._buffer=d,h.subdata=function(t,r){var n,a=0|(r||0);if(d.bind(),e(t)||t instanceof ArrayBuffer)p(t,a);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var i=te.allocType(d.dtype,t.length);ge(i,t),p(i,a),te.freeType(i)}else if(Array.isArray(t[0])||e(t[0])){n=le(t);var o=ce(t,n,d.dtype);p(o,a),te.freeType(o)}else I.raise("invalid buffer data")}else if(ne(t)){n=t.shape;var s=t.stride,u=0,f=0,c=0,l=0;1===n.length?(u=n[0],f=1,c=s[0],l=0):2===n.length?(u=n[0],f=n[1],c=s[0],l=s[1]):I.raise("invalid shape");var m=Array.isArray(t.data)?d.dtype:ve(t.data),b=te.allocType(m,u*f);ye(b,t.data,u,f,c,l,t.offset),p(b,a),te.freeType(b)}else I.raise("invalid data for buffer subdata");return h},n.profile&&(h.stats=d.stats),h.destroy=function(){l(d)},h},createStream:function(e,t){var r=u.pop();return r||(r=new s(e)),r.bind(),c(r,t,he,0,1,!1),r},destroyStream:function(e){u.push(e)},clear:function(){ae(o).forEach(l),u.forEach(l)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:function(){ae(o).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))},_initBuffer:c}}(a,f,n,v),y=function(t,r,n,a){var i={},o=0,s={uint8:Ee,uint16:Te};function u(e){this.id=o++,i[this.id]=this,this.buffer=e,this.primType=ke,this.vertCount=0,this.type=0}r.oes_element_index_uint&&(s.uint32=Oe),u.prototype.bind=function(){this.buffer.bind()};var f=[];function c(a,i,o,s,u,f,c){if(a.buffer.bind(),i){var l=c;c||e(i)&&(!ne(i)||e(i.data))||(l=r.oes_element_index_uint?Oe:Te),n._initBuffer(a.buffer,i,o,l,3)}else t.bufferData(Ce,f,o),a.buffer.dtype=d||Ee,a.buffer.usage=o,a.buffer.dimension=3,a.buffer.byteLength=f;var d=c;if(!c){switch(a.buffer.dtype){case Ee:case Se:d=Ee;break;case Te:case Ae:d=Te;break;case Oe:case De:d=Oe;break;default:I.raise("unsupported type for element array")}a.buffer.dtype=d}a.type=d,I(d!==Oe||!!r.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=a.buffer.byteLength,d===Te?h>>=1:d===Oe&&(h>>=2)),a.vertCount=h;var p=s;if(s<0){p=ke;var m=a.buffer.dimension;1===m&&(p=we),2===m&&(p=xe),3===m&&(p=ke)}a.primType=p}function l(e){a.elementsCount--,I(null!==e.buffer,"must not double destroy elements"),delete i[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,r){var i=n.create(null,Ce,!0),o=new u(i._buffer);function f(t){if(t)if("number"==typeof t)i(t),o.primType=ke,o.vertCount=0|t,o.type=Ee;else{var r=null,n=ze,a=-1,u=-1,l=0,d=0;Array.isArray(t)||e(t)||ne(t)?r=t:(I.type(t,"object","invalid arguments for elements"),"data"in t&&(r=t.data,I(Array.isArray(r)||e(r)||ne(r),"invalid data for element buffer")),"usage"in t&&(I.parameter(t.usage,fe,"invalid element buffer usage"),n=fe[t.usage]),"primitive"in t&&(I.parameter(t.primitive,_e,"invalid element buffer primitive"),a=_e[t.primitive]),"count"in t&&(I("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(I.parameter(t.type,s,"invalid buffer type"),d=s[t.type]),"length"in t?l=0|t.length:(l=u,d===Te||d===Ae?l*=2:d!==Oe&&d!==De||(l*=4))),c(o,r,n,a,u,l,d)}else i(),o.primType=ke,o.vertCount=0,o.type=Ee;return f}return a.elementsCount++,f(t),f._reglType="elements",f._elements=o,f.subdata=function(e,t){return i.subdata(e,t),f},f.destroy=function(){l(o)},f},createStream:function(e){var t=f.pop();return t||(t=new u(n.create(null,Ce,!0,!1)._buffer)),c(t,e,Me,-1,-1,0,0),t},destroyStream:function(e){f.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof u?e._elements:null},clear:function(){ae(i).forEach(l)}}}(a,c,g,f),_=function(e,t,r,n){var a={},i={};function o(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function s(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function u(r,n,o){var s=r===Nr?a:i,u=s[n];if(!u){var f=t.str(n);u=e.createShader(r),e.shaderSource(u,f),e.compileShader(u),I.shaderError(e,u,f,r,o),s[n]=u}return u}var f={},c=[],l=0;function d(e,t){this.id=l++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function h(r,a){var i,f,c=u(Nr,r.fragId),l=u(Pr,r.vertId),d=r.program=e.createProgram();e.attachShader(d,c),e.attachShader(d,l),e.linkProgram(d),I.linkError(e,d,t.str(r.fragId),t.str(r.vertId),a);var h=e.getProgramParameter(d,Lr);n.profile&&(r.stats.uniformsCount=h);var p=r.uniforms;for(i=0;i<h;++i)if(f=e.getActiveUniform(d,i))if(f.size>1)for(var m=0;m<f.size;++m){var b=f.name.replace("[0]","["+m+"]");s(p,new o(b,t.id(b),e.getUniformLocation(d,b),f))}else s(p,new o(f.name,t.id(f.name),e.getUniformLocation(d,f.name),f));var v=e.getProgramParameter(d,Wr);n.profile&&(r.stats.attributesCount=v);var g=r.attributes;for(i=0;i<v;++i)(f=e.getActiveAttrib(d,i))&&s(g,new o(f.name,t.id(f.name),e.getAttribLocation(d,f.name),f))}return n.profile&&(r.getMaxUniformsCount=function(){var e=0;return c.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return c.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);ae(a).forEach(t),a={},ae(i).forEach(t),i={},c.forEach((function(t){e.deleteProgram(t.program)})),c.length=0,f={},r.shaderCount=0},program:function(e,t,n){I.command(e>=0,"missing vertex shader",n),I.command(t>=0,"missing fragment shader",n);var a=f[t];a||(a=f[t]={});var i=a[e];return i||(i=new d(t,e),r.shaderCount++,h(i,n),a[e]=i,c.push(i)),i},restore:function(){a={},i={};for(var e=0;e<c.length;++e)h(c[e])},shader:u,frag:-1,vert:-1}}(a,u,f,n),w=hr(a,c,b,(function(){S.procs.poll()}),m,f,n),x=gr(a,c,b,f,n),k=function(e,r,n,a,i,o){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],f=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&f.push("srgba"),r.ext_color_buffer_half_float&&f.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&f.push("rgba32f");var c=["uint8"];function l(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,a=0;t?(n=t.width,a=t.height):r&&(n=r.width,a=r.height),this.width=n,this.height=a}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,r){if(e)if(e.texture){var n=e.texture._texture,a=Math.max(1,n.width),i=Math.max(1,n.height);I(a===t&&i===r,"inconsistent width/height for supplied texture"),n.refCount+=1}else{var o=e.renderbuffer._renderbuffer;I(o.width===t&&o.height===r,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function p(t,r){r&&(r.texture?e.framebufferTexture2D(yr,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(yr,t,_r,r.renderbuffer._renderbuffer.renderbuffer))}function m(e){var t=wr,r=null,n=null,a=e;"object"==typeof e&&(a=e.data,"target"in e&&(t=0|e.target)),I.type(a,"function","invalid attachment data");var i=a._reglType;return"texture2d"===i?(r=a,I(t===wr)):"textureCube"===i?(r=a,I(t>=xr&&t<xr+6,"invalid cube map target")):"renderbuffer"===i?(n=a,t=_r):I.raise("invalid regl object for attachment"),new l(t,r,n)}function b(e,t,r,n,o){if(r){var s=a.create2D({width:e,height:t,format:n,type:o});return s._texture.refCount=0,new l(wr,s,null)}var u=i.create({width:e,height:t,format:n});return u._renderbuffer.refCount=0,new l(_r,null,u)}function v(e){return e&&(e.texture||e.renderbuffer)}function g(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}r.oes_texture_half_float&&c.push("half float","float16"),r.oes_texture_float&&c.push("float","float32");var y=0,_={};function w(){this.id=y++,_[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function x(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function k(t){var r=t.framebuffer;I(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,o.framebufferCount--,delete _[t.id]}function S(t){var r;e.bindFramebuffer(yr,t.framebuffer);var a=t.colorAttachments;for(r=0;r<a.length;++r)p(kr+r,a[r]);for(r=a.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(yr,kr+r,wr,null,0);e.framebufferTexture2D(yr,Ar,wr,null,0),e.framebufferTexture2D(yr,Sr,wr,null,0),e.framebufferTexture2D(yr,Er,wr,null,0),p(Sr,t.depthAttachment),p(Er,t.stencilAttachment),p(Ar,t.depthStencilAttachment);var i=e.checkFramebufferStatus(yr);e.isContextLost()||i===Tr||I.raise("framebuffer configuration not supported, status = "+jr[i]),e.bindFramebuffer(yr,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function E(e,a){var i=new w;function l(e,t){var a;I(s.next!==i,"can not update framebuffer which is currently in use");var o=0,d=0,p=!0,g=!0,y=null,_=!0,w="rgba",k="uint8",E=1,A=null,T=null,D=null,O=!1;if("number"==typeof e)o=0|e,d=0|t||o;else if(e){I.type(e,"object","invalid arguments for framebuffer");var C=e;if("shape"in C){var M=C.shape;I(Array.isArray(M)&&M.length>=2,"invalid shape for framebuffer"),o=M[0],d=M[1]}else"radius"in C&&(o=d=C.radius),"width"in C&&(o=C.width),"height"in C&&(d=C.height);("color"in C||"colors"in C)&&(y=C.color||C.colors,Array.isArray(y)&&I(1===y.length||r.webgl_draw_buffers,"multiple render targets not supported")),y||("colorCount"in C&&(E=0|C.colorCount,I(E>0,"invalid color buffer count")),"colorTexture"in C&&(_=!!C.colorTexture,w="rgba4"),"colorType"in C&&(k=C.colorType,_?(I(r.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),I(r.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(I(r.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==k&&"float32"!==k||(I(r.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),I.oneOf(k,c,"invalid color type")),"colorFormat"in C&&(w=C.colorFormat,u.indexOf(w)>=0?_=!0:f.indexOf(w)>=0?_=!1:_?I.oneOf(C.colorFormat,u,"invalid color format for texture"):I.oneOf(C.colorFormat,f,"invalid color format for renderbuffer"))),("depthTexture"in C||"depthStencilTexture"in C)&&(O=!(!C.depthTexture&&!C.depthStencilTexture),I(!O||r.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in C&&("boolean"==typeof C.depth?p=C.depth:(A=C.depth,g=!1)),"stencil"in C&&("boolean"==typeof C.stencil?g=C.stencil:(T=C.stencil,p=!1)),"depthStencil"in C&&("boolean"==typeof C.depthStencil?p=g=C.depthStencil:(D=C.depthStencil,p=!1,g=!1))}else o=d=1;var z=null,B=null,F=null,j=null;if(Array.isArray(y))z=y.map(m);else if(y)z=[m(y)];else for(z=new Array(E),a=0;a<E;++a)z[a]=b(o,d,_,w,k);I(r.webgl_draw_buffers||z.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),I(z.length<=n.maxColorAttachments,"too many color attachments, not supported"),o=o||z[0].width,d=d||z[0].height,A?B=m(A):p&&!g&&(B=b(o,d,O,"depth","uint32")),T?F=m(T):g&&!p&&(F=b(o,d,!1,"stencil","uint8")),D?j=m(D):!A&&!T&&g&&p&&(j=b(o,d,O,"depth stencil","depth stencil")),I(!!A+!!T+!!D<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var R=null;for(a=0;a<z.length;++a)if(h(z[a],o,d),I(!z[a]||z[a].texture&&Or.indexOf(z[a].texture._texture.format)>=0||z[a].renderbuffer&&Fr.indexOf(z[a].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+a+" is invalid"),z[a]&&z[a].texture){var U=Cr[z[a].texture._texture.format]*Mr[z[a].texture._texture.type];null===R?R=U:I(R===U,"all color attachments much have the same number of bits per pixel.")}return h(B,o,d),I(!B||B.texture&&B.texture._texture.format===Dr||B.renderbuffer&&B.renderbuffer._renderbuffer.format===zr,"invalid depth attachment for framebuffer object"),h(F,o,d),I(!F||F.renderbuffer&&F.renderbuffer._renderbuffer.format===Ir,"invalid stencil attachment for framebuffer object"),h(j,o,d),I(!j||j.texture&&j.texture._texture.format===Br||j.renderbuffer&&j.renderbuffer._renderbuffer.format===Br,"invalid depth-stencil attachment for framebuffer object"),x(i),i.width=o,i.height=d,i.colorAttachments=z,i.depthAttachment=B,i.stencilAttachment=F,i.depthStencilAttachment=j,l.color=z.map(v),l.depth=v(B),l.stencil=v(F),l.depthStencil=v(j),l.width=i.width,l.height=i.height,S(i),l}return o.framebufferCount++,l(e,a),t(l,{resize:function(e,t){I(s.next!==i,"can not resize a framebuffer which is currently in use");var r=Math.max(0|e,1),n=Math.max(0|t||r,1);if(r===i.width&&n===i.height)return l;for(var a=i.colorAttachments,o=0;o<a.length;++o)g(a[o],r,n);return g(i.depthAttachment,r,n),g(i.stencilAttachment,r,n),g(i.depthStencilAttachment,r,n),i.width=l.width=r,i.height=l.height=n,S(i),l},_reglType:"framebuffer",_framebuffer:i,destroy:function(){k(i),x(i)},use:function(e){s.setFBO({framebuffer:l},e)}})}return t(s,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:E,createCube:function(e){var i=Array(6);function o(e){var n;I(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var f,l={color:null},d=0,h=null,p="rgba",m="uint8",b=1;if("number"==typeof e)d=0|e;else if(e){I.type(e,"object","invalid arguments for framebuffer");var v=e;if("shape"in v){var g=v.shape;I(Array.isArray(g)&&g.length>=2,"invalid shape for framebuffer"),I(g[0]===g[1],"cube framebuffer must be square"),d=g[0]}else"radius"in v&&(d=0|v.radius),"width"in v?(d=0|v.width,"height"in v&&I(v.height===d,"must be square")):"height"in v&&(d=0|v.height);("color"in v||"colors"in v)&&(h=v.color||v.colors,Array.isArray(h)&&I(1===h.length||r.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in v&&(b=0|v.colorCount,I(b>0,"invalid color buffer count")),"colorType"in v&&(I.oneOf(v.colorType,c,"invalid color type"),m=v.colorType),"colorFormat"in v&&(p=v.colorFormat,I.oneOf(v.colorFormat,u,"invalid color format for texture"))),"depth"in v&&(l.depth=v.depth),"stencil"in v&&(l.stencil=v.stencil),"depthStencil"in v&&(l.depthStencil=v.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(f=[],n=0;n<h.length;++n)f[n]=h[n];else f=[h];else{f=Array(b);var y={radius:d,format:p,type:m};for(n=0;n<b;++n)f[n]=a.createCube(y)}for(l.color=Array(f.length),n=0;n<f.length;++n){var _=f[n];I("function"==typeof _&&"textureCube"===_._reglType,"invalid cube map"),d=d||_.width,I(_.width===d&&_.height===d,"invalid cube map shape"),l.color[n]={target:xr,data:f[n]}}for(n=0;n<6;++n){for(var w=0;w<f.length;++w)l.color[w].target=xr+n;n>0&&(l.depth=i[0].depth,l.stencil=i[0].stencil,l.depthStencil=i[0].depthStencil),i[n]?i[n](l):i[n]=E(l)}return t(o,{width:d,height:d,color:f})}return o(e),t(o,{faces:i,resize:function(e){var t,r=0|e;if(I(r>0&&r<=n.maxCubeMapSize,"invalid radius for cube fbo"),r===o.width)return o;var a=o.color;for(t=0;t<a.length;++t)a[t].resize(r);for(t=0;t<6;++t)i[t].resize(r);return o.width=o.height=r,o},_reglType:"framebufferCube",destroy:function(){i.forEach((function(e){e.destroy()}))}})},clear:function(){ae(_).forEach(k)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,ae(_).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}})}(a,c,b,w,x,f),S=Ja(a,u,c,b,g,y,0,k,{},v,_,{elements:null,primitive:4,count:-1,offset:0,instances:-1},m,l,n),E=Zr(a,k,S.procs.poll,m,i,c,b),A=S.next,T=a.canvas,D=[],O=[],C=[],M=[n.onDestroy],z=null;function B(){if(0===D.length)return l&&l.update(),void(z=null);z=P.next(B),$();for(var e=D.length-1;e>=0;--e){var t=D[e];t&&t(m,null,0)}a.flush(),l&&l.update()}function F(){!z&&D.length>0&&(z=P.next(B))}function j(){z&&(P.cancel(B),z=null)}function R(e){e.preventDefault(),o=!0,j(),g.clear(),w.clear(),x.clear(),k.clear(),O.forEach((function(e){e()}))}function U(e){a.getError(),o=!1,s.restore(),_.restore(),l&&l.restore(),S.procs.refresh(),F(),C.forEach((function(e){e()}))}function W(e){function r(e){var t={},r={};return Object.keys(e).forEach((function(n){var a=e[n];N.isDynamic(a)?r[n]=N.unbox(a,n):t[n]=a})),{dynamic:r,static:t}}I(!!e,"invalid args to regl({...})"),I.type(e,"object","invalid args to regl({...})");var n=r(e.context||{}),a=r(e.uniforms||{}),i=r(e.attributes||{}),s=r(function(e){var r=t({},e);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach((function(n){r[e+"."+n]=t[n]}))}}return delete r.uniforms,delete r.attributes,delete r.context,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),r}(e)),u={gpuTime:0,cpuTime:0,count:0},f=S.compile(s,i,a,n,u),c=f.draw,l=f.batch,d=f.scope,h=[];return t((function(e,t){var r;if(o&&I.raise("context lost"),"function"==typeof e)return d.call(this,null,e,0);if("function"==typeof t){if("number"==typeof e){for(r=0;r<e;++r)d.call(this,null,t,r);return}if(Array.isArray(e)){for(r=0;r<e.length;++r)d.call(this,e[r],t,r);return}return d.call(this,e,t,0)}if("number"==typeof e){if(e>0)return l.call(this,function(e){for(;h.length<e;)h.push(null);return h}(0|e),0|e)}else{if(!Array.isArray(e))return c.call(this,e);if(e.length)return l.call(this,e,e.length)}}),{stats:u})}T&&(T.addEventListener(ui,R,!1),T.addEventListener(fi,U,!1));var H=k.setFBO=W({framebuffer:N.define.call(null,ci,"framebuffer")});function V(e,t){var r=0;S.procs.poll();var n=t.color;n&&(a.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=ai),"depth"in t&&(a.clearDepth(+t.depth),r|=ii),"stencil"in t&&(a.clearStencil(0|t.stencil),r|=oi),I(!!r,"called regl.clear with no buffer specified"),a.clear(r)}function G(e){return I.type(e,"function","regl.frame() callback must be a function"),D.push(e),F(),{cancel:function(){var t=hi(D,e);I(t>=0,"cannot cancel a frame twice"),D[t]=function e(){var t=hi(D,e);D[t]=D[D.length-1],D.length-=1,D.length<=0&&j()}}}}function Z(){var e=A.viewport,t=A.scissor_box;e[0]=e[1]=t[0]=t[1]=0,m.viewportWidth=m.framebufferWidth=m.drawingBufferWidth=e[2]=t[2]=a.drawingBufferWidth,m.viewportHeight=m.framebufferHeight=m.drawingBufferHeight=e[3]=t[3]=a.drawingBufferHeight}function $(){m.tick+=1,m.time=X(),Z(),S.procs.poll()}function q(){Z(),S.procs.refresh(),l&&l.update()}function X(){return(L()-d)/1e3}q();var K=t(W,{clear:function(e){if(I("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var r=0;r<6;++r)H(t({framebuffer:e.framebuffer.faces[r]},e),V);else H(e,V);else V(0,e)},prop:N.define.bind(null,ci),context:N.define.bind(null,li),this:N.define.bind(null,di),draw:W({}),buffer:function(e){return g.create(e,si,!1,!1)},elements:function(e){return y.create(e,!1)},texture:w.create2D,cube:w.createCube,renderbuffer:x.create,framebuffer:k.create,framebufferCube:k.createCube,attributes:i,frame:G,on:function(e,t){var r;switch(I.type(t,"function","listener callback must be a function"),e){case"frame":return G(t);case"lost":r=O;break;case"restore":r=C;break;case"destroy":r=M;break;default:I.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t)return r[e]=r[r.length-1],void r.pop()}}},limits:b,hasExtension:function(e){return b.extensions.indexOf(e.toLowerCase())>=0},read:E,destroy:function(){D.length=0,j(),T&&(T.removeEventListener(ui,R),T.removeEventListener(fi,U)),_.clear(),k.clear(),x.clear(),w.clear(),y.clear(),g.clear(),l&&l.clear(),M.forEach((function(e){e()}))},_gl:a,_refresh:q,poll:function(){$(),l&&l.update()},now:X,stats:f});return n.onDone(null,K),K}}()}()},b46320f01e15e6b701be:function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("7cd1dda49938fb07ec51"),i=r("a7a70b80c2e0d4a3dee4");e.exports=function(e,t){var r=n(e),o=n(t),s=i(r,o),u=Math.abs(a(r,o));return r.setMonth(r.getMonth()-s*u),s*(u-(i(r,o)===-s))}},b4eef8247a689979afce:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}},b65f7542ef611af53da7:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getMonth(),a=r-r%3+3;return t.setMonth(a,0),t.setHours(23,59,59,999),t}},b66db0befc9807326ee1:function(e,t,r){var n=r("b282c606f67e57cd891a"),a=864e5;e.exports=function(e,t,r,i){var o=n(e).getTime(),s=n(t).getTime(),u=n(r).getTime(),f=n(i).getTime();if(o>s||u>f)throw new Error("The start of the range cannot be after the end of the range");if(!(o<f&&u<s))return 0;var c=(f>s?s:f)-(u<o?o:u);return Math.ceil(c/a)}},b7648e38d63b25a9c40e:function(e,t,r){var n=r("a615f3e614f859da23e1"),a=r("c2747eb46246857c3378"),i=r("5752bada9ed56415c147"),o=r("b282c606f67e57cd891a"),s=r("f068f34cf5ac43ea6dcd"),u=r("9a70c82fd2199613d3d3");var f={M:function(e){return e.getMonth()+1},MM:function(e){return d(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return d(e.getDate(),2)},DDD:function(e){return n(e)},DDDD:function(e){return d(n(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return a(e)},WW:function(e){return d(a(e),2)},YY:function(e){return d(e.getFullYear(),4).substr(2)},YYYY:function(e){return d(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return d(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return d(f.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return d(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return d(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return d(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return d(e.getMilliseconds(),3)},Z:function(e){return l(e.getTimezoneOffset(),":")},ZZ:function(e){return l(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function c(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function l(e,t){t=t||"";var r=e>0?"-":"+",n=Math.abs(e),a=n%60;return r+d(Math.floor(n/60),2)+t+d(a,2)}function d(e,t){for(var r=Math.abs(e).toString();r.length<t;)r="0"+r;return r}e.exports=function(e,t,r){var n=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",a=(r||{}).locale,i=u.format.formatters,l=u.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(i=a.format.formatters,a.format.formattingTokensRegExp&&(l=a.format.formattingTokensRegExp));var d=o(e);return s(d)?function(e,t,r){var n,a,i=e.match(r),o=i.length;for(n=0;n<o;n++)a=t[i[n]]||f[i[n]],i[n]=a||c(i[n]);return function(e){for(var t="",r=0;r<o;r++)i[r]instanceof Function?t+=i[r](e,f):t+=i[r];return t}}(n,i,l)(d):"Invalid Date"}},b7bd7e19d36e869671bb:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setMonth(0),r.setDate(a),r}},ba29ab6e740f0762e9d7:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getFullYear()}},ba57aff2c496668212b7:function(e,t,r){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var a=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,a=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--a;e[t]=n<<a&255}}(a),t.reverse=function(e){return a[255&e]<<24|a[e>>>8&255]<<16|a[e>>>16&255]<<8|a[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},bb3496e294dd2c973c64:function(e,t,r){var n=r("e95c05475cb1ce30a750");e.exports=function(e){var t=new Date;return t.setDate(t.getDate()-1),n(e).getTime()===n(t).getTime()}},bbd48ad28e8c2099f87f:function(e,t,r){var n=r("1837fb8ae0049233be5d");e.exports=function(e){return n(new Date,e)}},bce47395eb7236ae47da:function(e,t,r){var n=r("fb4a01e9dae31ace51bd");e.exports=function(e){return n(new Date,e)}},bf25f59755b69bd98fe0:function(e,t,r){e.exports={addDays:r("601e5cf8f33267c33850"),addHours:r("3e1db4ff12739fc7495f"),addISOYears:r("6d2407ceb7812b36a9ba"),addMilliseconds:r("ae50f0fb6d053525fa76"),addMinutes:r("7f5089abd2e7ff3401e8"),addMonths:r("a8320c152686bd6d1083"),addQuarters:r("61f27166bdc4d88e75c6"),addSeconds:r("14ceca2179b6535e3ca9"),addWeeks:r("0c7e267795046551f282"),addYears:r("6618166d30f296a5c534"),areRangesOverlapping:r("4e8a8fc75f1dfe368f54"),closestIndexTo:r("4fda4bb7c91e9462050c"),closestTo:r("7fffc28f4fa8d3980fba"),compareAsc:r("a7a70b80c2e0d4a3dee4"),compareDesc:r("728cccc9176be1ad1e99"),differenceInCalendarDays:r("6cc96edcbaf225e009e2"),differenceInCalendarISOWeeks:r("004e098d2f35e516cfd2"),differenceInCalendarISOYears:r("04136e4417a4db611c39"),differenceInCalendarMonths:r("7cd1dda49938fb07ec51"),differenceInCalendarQuarters:r("7958b2fbbfba56fc0304"),differenceInCalendarWeeks:r("3b511a5ed9dc7bc57680"),differenceInCalendarYears:r("2ef4f9f79d36dec28019"),differenceInDays:r("8382f6cda97cd46e702a"),differenceInHours:r("948b924cc3296c511ec5"),differenceInISOYears:r("55cf799bdf33c1090b89"),differenceInMilliseconds:r("9333ad2d90813f899792"),differenceInMinutes:r("db39c1f7a53537979eb5"),differenceInMonths:r("b46320f01e15e6b701be"),differenceInQuarters:r("4c725ac6b65d18e80901"),differenceInSeconds:r("a1aa598375ebfda31697"),differenceInWeeks:r("25140b113159a1a0259a"),differenceInYears:r("6abbff92148cd7a286f1"),distanceInWords:r("3aa65c7187cb93352cc8"),distanceInWordsStrict:r("e651bfb31b35e1b8197a"),distanceInWordsToNow:r("40ff9a3ca0c5e683d2ba"),eachDay:r("f54af8fb2a1f026b5852"),endOfDay:r("09a649859af839bd3916"),endOfHour:r("95d0e70cca4d71997ac3"),endOfISOWeek:r("bf6eb7d423e982d90edf"),endOfISOYear:r("1768e918131f8ec413df"),endOfMinute:r("56ef536d9ac2b1e18f0b"),endOfMonth:r("04c52dc9d082ac68247d"),endOfQuarter:r("b65f7542ef611af53da7"),endOfSecond:r("6f9b2d5608c3bb8ed61f"),endOfToday:r("43679d8435d46fd2085a"),endOfTomorrow:r("42158362bfff8be1adff"),endOfWeek:r("8f506a964c5d3a4cc738"),endOfYear:r("b4eef8247a689979afce"),endOfYesterday:r("3f52c4284d2c80864596"),format:r("b7648e38d63b25a9c40e"),getDate:r("69abf536ce24e517be27"),getDay:r("964a8f09beba730f6808"),getDayOfYear:r("a615f3e614f859da23e1"),getDaysInMonth:r("d285c8538869645583ae"),getDaysInYear:r("b0e9208520c53da0c97a"),getHours:r("0761bce6e4b015e723bf"),getISODay:r("1cdd7fc0084d78361169"),getISOWeek:r("c2747eb46246857c3378"),getISOWeeksInYear:r("ade330970a7b2bd6d699"),getISOYear:r("5752bada9ed56415c147"),getMilliseconds:r("d5b4ab12a987da4a3f5e"),getMinutes:r("f6304df64c4b3e3571ee"),getMonth:r("d0c91bff9e0ec2e09308"),getOverlappingDaysInRanges:r("b66db0befc9807326ee1"),getQuarter:r("24ac299100e59d22de95"),getSeconds:r("84a66bedae475c1024f0"),getTime:r("dd3cf87a3f99e6206650"),getYear:r("ba29ab6e740f0762e9d7"),isAfter:r("af5762e232febd998147"),isBefore:r("e1d863a2e6d38b04af33"),isDate:r("9e8d9e5af89f373b8e59"),isEqual:r("193455b85da2b13634f0"),isFirstDayOfMonth:r("1bf3733ae7c8db6c4a8f"),isFriday:r("b0ec6337ee9c9d31e19a"),isFuture:r("aa1a56366d27b94d90f0"),isLastDayOfMonth:r("9a8605fe2aea5c9ce24f"),isLeapYear:r("85b2e509ec46d66a2fc6"),isMonday:r("a90198a5258cc42f6e6b"),isPast:r("96ce7f7a2d8bbb214ddc"),isSameDay:r("88a352f87f13664938d1"),isSameHour:r("714b24334fac84cad82c"),isSameISOWeek:r("b0e54c4add9436785793"),isSameISOYear:r("1837fb8ae0049233be5d"),isSameMinute:r("10e8effd7127d8108fb3"),isSameMonth:r("6d9e0e89f6f28e641637"),isSameQuarter:r("8180af8e9f7890b148bf"),isSameSecond:r("fb4a01e9dae31ace51bd"),isSameWeek:r("6f3b013cfa5b1e1328f8"),isSameYear:r("d5488afe1ebfdffad50a"),isSaturday:r("8be860d87f76fa0165a6"),isSunday:r("28b17818659724d09043"),isThisHour:r("05e1ab89654c1e0b5320"),isThisISOWeek:r("f2bbbd7ed41401f7b08b"),isThisISOYear:r("bbd48ad28e8c2099f87f"),isThisMinute:r("711e50b376dd0141364c"),isThisMonth:r("054ae29084dd3cee98ad"),isThisQuarter:r("e992ecac00b1c00e7e71"),isThisSecond:r("bce47395eb7236ae47da"),isThisWeek:r("21e3fa23f296b064cecb"),isThisYear:r("f3e8651a0d0842fe2985"),isThursday:r("8fee138e7b017f8f345e"),isToday:r("3ecb43fb24850bd0271c"),isTomorrow:r("8d316e0ae2ff0ae29e52"),isTuesday:r("881ad95e7126688b4894"),isValid:r("f068f34cf5ac43ea6dcd"),isWednesday:r("712f7ec44ba951026ad8"),isWeekend:r("1e015f93b67d80ffd95c"),isWithinRange:r("33c73a33587853795748"),isYesterday:r("bb3496e294dd2c973c64"),lastDayOfISOWeek:r("5530c3f9cee457051ccb"),lastDayOfISOYear:r("608452d19e6e89117c0c"),lastDayOfMonth:r("ff060652fa4500a5be4f"),lastDayOfQuarter:r("3e189ca8101ab49b8a17"),lastDayOfWeek:r("dbc16af6a80a9dc2591f"),lastDayOfYear:r("dc1452cc1dfc2f44ef09"),max:r("d405ef37a679ad5e4761"),min:r("e229a56dbe7d99765e61"),parse:r("b282c606f67e57cd891a"),setDate:r("c8db48e1fdd4e02cfd75"),setDay:r("6497eca3595e9c9fff6e"),setDayOfYear:r("b7bd7e19d36e869671bb"),setHours:r("57d1d2048439dd4eb0ad"),setISODay:r("8bc9b29c71ef266be998"),setISOWeek:r("45fa488df7dfa7c6f0f3"),setISOYear:r("af4f64c45ab984b03601"),setMilliseconds:r("f6995dec26bdc0905ab7"),setMinutes:r("34dc9008ddab79dd91ea"),setMonth:r("a7bb61ba2b05dbfec547"),setQuarter:r("2e09be94ddeefd988fe1"),setSeconds:r("048c4abeb1051424bfae"),setYear:r("0249c044334300c8c3e1"),startOfDay:r("e95c05475cb1ce30a750"),startOfHour:r("0b9327229477a5c28f52"),startOfISOWeek:r("30a06a14ca0580116377"),startOfISOYear:r("bfe3b85eba61ad50cb21"),startOfMinute:r("247ffbaab52f6e3e78cc"),startOfMonth:r("801c0d82551c03ed5b46"),startOfQuarter:r("0073c7917c9fbf791a32"),startOfSecond:r("e9ce710af15e5551826a"),startOfToday:r("37c6dbd1f05a6f73daaa"),startOfTomorrow:r("98f4430d321660ec1202"),startOfWeek:r("fc7bcf63e4004b585497"),startOfYear:r("387fc678a7763efc9c57"),startOfYesterday:r("8aa08b1f6a6526ecc3e9"),subDays:r("ee12b592a88da367b8cc"),subHours:r("dc26ebfa3e06f593ca16"),subISOYears:r("d9c76b070c85e2cc3746"),subMilliseconds:r("56dd25bf3156433045e7"),subMinutes:r("b20a1e53bd791fccd66c"),subMonths:r("3af7b13529600628258d"),subQuarters:r("59500a1b45f74f212deb"),subSeconds:r("917e65857cfcff026003"),subWeeks:r("5657d179c1ea0a3bceab"),subYears:r("68ab3086d0da502d81b3")}},bf6eb7d423e982d90edf:function(e,t,r){var n=r("8f506a964c5d3a4cc738");e.exports=function(e){return n(e,{weekStartsOn:1})}},bfe3b85eba61ad50cb21:function(e,t,r){var n=r("5752bada9ed56415c147"),a=r("30a06a14ca0580116377");e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),a(r)}},c2747eb46246857c3378:function(e,t,r){var n=r("b282c606f67e57cd891a"),a=r("30a06a14ca0580116377"),i=r("bfe3b85eba61ad50cb21"),o=6048e5;e.exports=function(e){var t=n(e),r=a(t).getTime()-i(t).getTime();return Math.round(r/o)+1}},c8db48e1fdd4e02cfd75:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setDate(a),r}},d0c91bff9e0ec2e09308:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getMonth()}},d285c8538869645583ae:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}},d3949897a1eac25025cc:function(e,t,r){(function(t,r,n){var a;!function(i){e.exports=function(){return function e(t,r,n){function i(s,u){if(!r[s]){if(!t[s]){if(!u&&("function"==typeof a&&a))return a(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof a&&a,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,a,o,s,u,f,c=[],l=0,d=e.length,h=d,p="string"!==n.getTypeOf(e);l<e.length;)h=d-l,a=p?(t=e[l++],r=l<d?e[l++]:0,l<d?e[l++]:0):(t=e.charCodeAt(l++),r=l<d?e.charCodeAt(l++):0,l<d?e.charCodeAt(l++):0),o=t>>2,s=(3&t)<<4|r>>4,u=1<h?(15&r)<<2|a>>6:64,f=2<h?63&a:64,c.push(i.charAt(o)+i.charAt(s)+i.charAt(u)+i.charAt(f));return c.join("")},r.decode=function(e){var t,r,n,o,s,u,f=0,c=0,l="data:";if(e.substr(0,l.length)===l)throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&h--,e.charAt(e.length-2)===i.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=a.uint8array?new Uint8Array(0|h):new Array(0|h);f<e.length;)t=i.indexOf(e.charAt(f++))<<2|(o=i.indexOf(e.charAt(f++)))>>4,r=(15&o)<<4|(s=i.indexOf(e.charAt(f++)))>>2,n=(3&s)<<6|(u=i.indexOf(e.charAt(f++))),d[c++]=t,64!==s&&(d[c++]=r),64!==u&&(d[c++]=n);return d}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),a=e("./stream/DataWorker"),i=e("./stream/DataLengthProbe"),o=e("./stream/Crc32Probe");function s(e,t,r,n,a){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=a}i=e("./stream/DataLengthProbe"),s.prototype={getContentWorker:function(){var e=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new o).pipe(new i("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),a=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var i=a,o=0+r;e^=-1;for(var s=0;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,r,n){var i=a,o=0+r;e^=-1;for(var s=0;s<o;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("pako"),i=e("./utils"),o=e("./stream/GenericWorker"),s=n?"uint8array":"array";function u(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",i.inherits(u,o),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new u("Deflate",e)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function a(e,t,r,a,o,c){var l,d,h=e.file,p=e.compression,m=c!==s.utf8encode,b=i.transformTo("string",c(h.name)),v=i.transformTo("string",s.utf8encode(h.name)),g=h.comment,y=i.transformTo("string",c(g)),_=i.transformTo("string",s.utf8encode(g)),w=v.length!==h.name.length,x=_.length!==g.length,k="",S="",E="",A=h.dir,T=h.date,D={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(D.crc32=e.crc32,D.compressedSize=e.compressedSize,D.uncompressedSize=e.uncompressedSize);var O=0;t&&(O|=8),m||!w&&!x||(O|=2048);var C=0,M=0;A&&(C|=16),"UNIX"===o?(M=798,C|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,A)):(M=20,C|=function(e){return 63&(e||0)}(h.dosPermissions)),l=T.getUTCHours(),l<<=6,l|=T.getUTCMinutes(),l<<=5,l|=T.getUTCSeconds()/2,d=T.getUTCFullYear()-1980,d<<=4,d|=T.getUTCMonth()+1,d<<=5,d|=T.getUTCDate(),w&&(S=n(1,1)+n(u(b),4)+v,k+="up"+n(S.length,2)+S),x&&(E=n(1,1)+n(u(y),4)+_,k+="uc"+n(E.length,2)+E);var z="";return z+="\n\0",z+=n(O,2),z+=p.magic,z+=n(l,2),z+=n(d,2),z+=n(D.crc32,4),z+=n(D.compressedSize,4),z+=n(D.uncompressedSize,4),z+=n(b.length,2),z+=n(k.length,2),{fileRecord:f.LOCAL_FILE_HEADER+z+b+k,dirRecord:f.CENTRAL_FILE_HEADER+n(M,2)+z+n(y.length,2)+"\0\0\0\0"+n(C,4)+n(a,4)+b+k+y}}var i=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),u=e("../crc32"),f=e("../signature");function c(e,t,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(c,o),c.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=a(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=a(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return f.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,a=function(e,t,r,a,o){var s=i.transformTo("string",o(a));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),a=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var i=new a(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,r){o++;var a=function(e,t){var r=e||t,a=n[r];if(!a)throw new Error(r+" is not a valid compression method !");return a}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},u=r.dir,f=r.date;r._compressWorker(a,s).withStreamInfo("file",{name:e,dir:u,date:f,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(i)})),i.entriesCount=o}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.2.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./external"),i=e("./utf8"),o=(n=e("./utils"),e("./zipEntries")),s=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function f(e){return new a.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),u.isNode&&u.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new o(t);return r.load(e),r})).then((function(e){var r=[a.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var i=0;i<n.length;i++)r.push(f(n[i]));return a.Promise.all(r)})).then((function(e){for(var n=e.shift(),a=n.files,i=0;i<a.length;i++){var o=a[i];r.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../stream/GenericWorker");function i(e,t){a.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(i,a),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},i.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function a(e,t,r){n.call(this,t),this._helper=e;var a=this;e.on("data",(function(e,t){a.push(e)||a._helper.pause(),r&&r(t)})).on("error",(function(e){a.emit("error",e)})).on("end",(function(){a.push(null)}))}e("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,r,n){"use strict";r.exports={isNode:void 0!==t,newBufferFrom:function(e,r){if(t.from&&t.from!==Uint8Array.from)return t.from(e,r);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,r)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var r=new t(e);return r.fill(0),r},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n,a=i.getTypeOf(t),s=i.extend(r||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(n=p(e))&&b.call(this,n,!0);var l="string"===a&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!l),(t instanceof f&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",a="string");var v;v=t instanceof f||t instanceof o?t:d.isNode&&d.isStream(t)?new h(e,t):i.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var g=new c(e,v,s);this.files[e]=g}var a=e("./utf8"),i=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),u=e("./defaults"),f=e("./compressedObject"),c=e("./zipObject"),l=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},b=function(e,t){return t=void 0!==t?t:u.createFolders,e=m(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(v(e)){var a=e;return this.filter((function(e,t){return!t.dir&&a.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=b.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");i.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=l.generateWorker(this,r,n)}catch(e){(t=new o("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function a(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(a,n),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),a=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===t&&this.data[i+1]===r&&this.data[i+2]===n&&this.data[i+3]===a)return i-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),a=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&r===i[1]&&n===i[2]&&a===i[3]},a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function a(e){n.call(this,e)}e("../utils").inherits(a,n),a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function a(e){n.call(this,e)}e("../utils").inherits(a,n),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function a(e){n.call(this,e)}e("../utils").inherits(a,n),a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../support"),i=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||a.uint8array?"nodebuffer"===t?new s(e):a.uint8array?new u(n.transformTo("uint8array",e)):new i(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../utils");function i(e){n.call(this,"ConvertWorker to "+e),this.destType=e}a.inherits(i,n),i.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,n),i.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function i(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(i,a),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}a.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function i(e){a.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(i,a),i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,r,n){"use strict";var a=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),u=e("../support"),f=e("../external"),c=null;if(u.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,a.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}l.prototype={accumulate:function(e){return function(e,r){return new f.Promise((function(n,i){var o=[],u=e._internalType,f=e._outputType,c=e._mimeType;e.on("data",(function(e,t){o.push(e),r&&r(t)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return a.newBlob(a.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return a.transformTo(e,t)}}(f,function(e,r){var n,a=0,i=null,o=0;for(n=0;n<r.length;n++)o+=r[n].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(i=new Uint8Array(o),n=0;n<r.length;n++)i.set(r[n],a),a+=r[n].length;return i;case"nodebuffer":return t.concat(r);default:throw new Error("concat : unsupported type '"+e+"'")}}(u,o),c);n(e)}catch(e){i(e)}o=[]})).resume()}))}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){a.delay(t,arguments,r)})),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},r.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var a=new ArrayBuffer(0);try{n.blob=0===new Blob([a],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(a),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),a=e("./support"),i=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return a.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,r,n,i,o,s=e.length,u=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=a.uint8array?new Uint8Array(u):new Array(u),i=o=0;o<u;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t}(e)},r.utf8decode=function(e){return a.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,a,i,o=e.length,u=new Array(2*o);for(t=r=0;t<o;)if((a=e[t++])<128)u[r++]=a;else if(4<(i=s[a]))u[r++]=65533,t+=i-1;else{for(a&=2===i?31:3===i?15:7;1<i&&t<o;)a=a<<6|63&e[t++],i--;1<i?u[r++]=65533:a<65536?u[r++]=a:(a-=65536,u[r++]=55296|a>>10&1023,u[r++]=56320|1023&a)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),n.applyFromCharCode(u)}(e=n.transformTo(a.uint8array?"uint8array":"array",e))},n.inherits(f,o),f.prototype.processChunk=function(e){var t=n.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=t;(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+s[e[r]]>t?r:t}(t),u=t;o!==t.length&&(a.uint8array?(u=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(u=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:r.utf8decode(u),meta:e.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=f,n.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),a=e("./base64"),i=e("./nodejsUtils"),o=e("set-immediate-shim"),s=e("./external");function u(e){return e}function f(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r.newBlob=function(t,n){r.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(t),a.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],a=0,i=e.length;if(i<=r)return String.fromCharCode.apply(null,e);for(;a<i;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+r,i)))):n.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+r,i)))),a+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function l(e){var t=65536,n=r.getTypeOf(e),a=!0;if("uint8array"===n?a=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(a=c.applyCanBeUsed.nodebuffer),a)for(;1<t;)try{return c.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=l;var h={};h.string={string:u,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:function(e){return f(e,i.allocBuffer(e.length))}},h.array={string:l,array:u,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},h.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:u,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:l,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:u,nodebuffer:function(e){return i.newBufferFrom(e)}},h.nodebuffer={string:l,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:u},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return h[n][e](t)},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&i.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){o((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,i,o,u){return s.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var c=r.getTypeOf(t);return c?("arraybuffer"===c?t=r.transformTo("uint8array",t):"string"===c&&(u?t=a.decode(t):i&&!0!==o&&(t=function(e){return f(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),i=e("./signature"),o=e("./zipEntry"),s=(e("./utf8"),e("./support"));function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=a.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),i=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),u=e("./compressions"),f=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(u.hasOwnProperty(t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,a=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<a;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n}},handleUTF8:function(){var e=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var a=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),u=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new o.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new u("error")).error(e)}return new a(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new i(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<f.length;l++)n.prototype[f[l]]=c;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var r,n,a=e.MutationObserver||e.WebKitMutationObserver;if(a){var i=0,o=new a(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),r=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var u=new e.MessageChannel;u.port1.onmessage=c,r=function(){u.port2.postMessage(0)}}var f=[];function c(){var e,t;n=!0;for(var r=f.length;r;){for(t=f,f=[],e=-1;++e<r;)t[e]();r=f.length}n=!1}t.exports=function(e){1!==f.push(e)||n||r()}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function a(){}var i={},o=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==a&&h(this,e)}function c(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function l(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return i.reject(e,n)}n===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function n(t){r||(r=!0,i.reject(e,t))}function a(t){r||(r=!0,i.resolve(e,t))}var o=p((function(){t(a,n)}));"error"===o.status&&n(o.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=f).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(a);return this.state!==u?l(r,this.state===s?e:t,this.outcome):this.queue.push(new c(r,e,t)),r},c.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){i.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},i.resolve=function(e,t){var r=p(d,t);if("error"===r.status)return i.reject(e,r.value);var n=r.value;if(n)h(e,n);else{e.state=s,e.outcome=t;for(var a=-1,o=e.queue.length;++a<o;)e.queue[a].callFulfilled(t)}return e},i.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},f.resolve=function(e){return e instanceof this?e:i.resolve(new this(a),e)},f.reject=function(e){var t=new this(a);return i.reject(t,e)},f.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,u=-1,f=new this(a);++u<r;)c(e[u],u);return f;function c(e,a){t.resolve(e).then((function(e){o[a]=e,++s!==r||n||(n=!0,i.resolve(f,o))}),(function(e){n||(n=!0,i.reject(f,e))}))}},f.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,o=-1,s=new this(a);++o<t;)n=e[o],this.resolve(n).then((function(e){r||(r=!0,i.resolve(s,e))}),(function(e){r||(r=!0,i.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),a=e("./utils/common"),i=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),u=Object.prototype.toString,f=0,c=-1,l=0,d=8;function h(e){if(!(this instanceof h))return new h(e);this.options=a.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==f)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==f)throw new Error(o[r]);this._dict_set=!0}}function p(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}h.prototype.push=function(e,t){var r,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new a.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=n.deflate(s,o))&&r!==f)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(s.output,s.next_out))):this.onData(a.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===f):2!==o||(this.onEnd(f),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=h,r.deflate=p,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),a=e("./utils/common"),i=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),u=e("./zlib/zstream"),f=e("./zlib/gzheader"),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);this.header=new f,n.inflateGetHeader(this.strm,this.header)}function d(e,t){var r=new l(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}l.prototype.push=function(e,t){var r,s,u,f,l,d,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,b=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?h.input=i.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(p),h.next_out=0,h.avail_out=p),(r=n.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(d="string"==typeof m?i.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,r=n.inflateSetDictionary(this.strm,d)),r===o.Z_BUF_ERROR&&!0===b&&(r=o.Z_OK,b=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=i.utf8border(h.output,h.next_out),f=h.next_out-u,l=i.buf2string(h.output,u),h.next_out=f,h.avail_out=p-f,f&&a.arraySet(h.output,h.output,u,f,0),this.onData(l)):this.onData(a.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(b=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=l,r.inflate=d,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),a);else for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){var t,r,n,a,i,o;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),t=a=0,r=e.length;t<r;t++)i=e[t],o.set(i,a),a+=i.length;return o}},i={arraySet:function(e,t,r,n,a){for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,r.string2buf=function(e){var t,r,a,i,o,s=e.length,u=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(a-56320),i++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(u),i=o=0;o<u;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(a-56320),i++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},r.buf2binstring=function(e){return u(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,a=t.length;r<a;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,a,i,s=t||e.length,f=new Array(2*s);for(r=n=0;r<s;)if((a=e[r++])<128)f[n++]=a;else if(4<(i=o[a]))f[n++]=65533,r+=i-1;else{for(a&=2===i?31:3===i?15:7;1<i&&r<s;)a=a<<6|63&e[r++],i--;1<i?f[n++]=65533:a<65536?f[n++]=a:(a-=65536,f[n++]=55296|a>>10&1023,f[n++]=56320|1023&a)}return u(f,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+o[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;i=i+(a=a+t[n++]|0)|0,--o;);a%=65521,i%=65521}return a|i<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,a){var i=n,o=a+r;e^=-1;for(var s=a;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,r){"use strict";var n,a=e("../utils/common"),i=e("./trees"),o=e("./adler32"),s=e("./crc32"),u=e("./messages"),f=0,c=4,l=0,d=-2,h=-1,p=4,m=2,b=8,v=9,g=286,y=30,_=19,w=2*g+1,x=15,k=3,S=258,E=S+k+1,A=42,T=113,D=1,O=2,C=3,M=4;function z(e,t){return e.msg=u[t],t}function I(e){return(e<<1)-(4<e?9:0)}function B(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(a.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function j(e,t){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function R(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function N(e,t){var r,n,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,f=e.window,c=e.w_mask,l=e.prev,d=e.strstart+S,h=f[i+o-1],p=f[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(f[(r=t)+o]===p&&f[r+o-1]===h&&f[r]===f[i]&&f[++r]===f[i+1]){i+=2,r++;do{}while(f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&i<d);if(n=S-(d-i),i=d-S,o<n){if(e.match_start=t,s<=(o=n))break;h=f[i+o-1],p=f[i+o]}}}while((t=l[t&c])>u&&0!=--a);return o<=e.lookahead?o:e.lookahead}function P(e){var t,r,n,i,u,f,c,l,d,h,p=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(a.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;n=e.head[--t],e.head[t]=p<=n?n-p:0,--r;);for(t=r=p;n=e.prev[--t],e.prev[t]=p<=n?n-p:0,--r;);i+=p}if(0===e.strm.avail_in)break;if(f=e.strm,c=e.window,l=e.strstart+e.lookahead,h=void 0,(d=i)<(h=f.avail_in)&&(h=d),r=0===h?0:(f.avail_in-=h,a.arraySet(c,f.input,f.next_in,h,l),1===f.state.wrap?f.adler=o(f.adler,c,h,l):2===f.state.wrap&&(f.adler=s(f.adler,c,h,l)),f.next_in+=h,f.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=k)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+k-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function L(e,t){for(var r,n;;){if(e.lookahead<E){if(P(e),e.lookahead<E&&t===f)return D;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-E&&(e.match_length=N(e,r)),e.match_length>=k)if(n=i._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(j(e,!1),0===e.strm.avail_out))return D}return e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(j(e,!0),0===e.strm.avail_out?C:M):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?D:O}function W(e,t){for(var r,n,a;;){if(e.lookahead<E){if(P(e),e.lookahead<E&&t===f)return D;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-E&&(e.match_length=N(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(a=e.strstart+e.lookahead-k,n=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,n&&(j(e,!1),0===e.strm.avail_out))return D}else if(e.match_available){if((n=i._tr_tally(e,0,e.window[e.strstart-1]))&&j(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return D}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(j(e,!0),0===e.strm.avail_out?C:M):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?D:O}function H(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*w),this.dyn_dtree=new a.Buf16(2*(2*y+1)),this.bl_tree=new a.Buf16(2*(2*_+1)),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(x+1),this.heap=new a.Buf16(2*g+1),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*g+1),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?A:T,e.adler=2===t.wrap?0:1,t.last_flush=f,i._tr_init(t),l):z(e,d)}function G(e){var t=V(e);return t===l&&function(e){e.window_size=2*e.w_size,B(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function Z(e,t,r,n,i,o){if(!e)return d;var s=1;if(t===h&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),i<1||v<i||r!==b||n<8||15<n||t<0||9<t||o<0||p<o)return z(e,d);8===n&&(n=9);var u=new Y;return(e.state=u).strm=e,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+k-1)/k),u.window=new a.Buf8(2*u.w_size),u.head=new a.Buf16(u.hash_size),u.prev=new a.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new a.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=r,G(e)}n=[new H(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(P(e),0===e.lookahead&&t===f)return D;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,j(e,!1),0===e.strm.avail_out))return D;if(e.strstart-e.block_start>=e.w_size-E&&(j(e,!1),0===e.strm.avail_out))return D}return e.insert=0,t===c?(j(e,!0),0===e.strm.avail_out?C:M):(e.strstart>e.block_start&&(j(e,!1),e.strm.avail_out),D)})),new H(4,4,8,4,L),new H(4,5,16,8,L),new H(4,6,32,32,L),new H(4,4,16,16,W),new H(8,16,32,32,W),new H(8,16,128,128,W),new H(8,32,128,256,W),new H(32,128,258,1024,W),new H(32,258,258,4096,W)],r.deflateInit=function(e,t){return Z(e,t,b,15,8,0)},r.deflateInit2=Z,r.deflateReset=G,r.deflateResetKeep=V,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,l):d},r.deflate=function(e,t){var r,a,o,u;if(!e||!e.state||5<t||t<0)return e?z(e,d):d;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||666===a.status&&t!==c)return z(e,0===e.avail_out?-5:d);if(a.strm=e,r=a.last_flush,a.last_flush=t,a.status===A)if(2===a.wrap)e.adler=0,R(a,31),R(a,139),R(a,8),a.gzhead?(R(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),R(a,255&a.gzhead.time),R(a,a.gzhead.time>>8&255),R(a,a.gzhead.time>>16&255),R(a,a.gzhead.time>>24&255),R(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),R(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(R(a,255&a.gzhead.extra.length),R(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=s(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(R(a,0),R(a,0),R(a,0),R(a,0),R(a,0),R(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),R(a,3),a.status=T);else{var h=b+(a.w_bits-8<<4)<<8;h|=(2<=a.strategy||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(h|=32),h+=31-h%31,a.status=T,U(a,h),0!==a.strstart&&(U(a,e.adler>>>16),U(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),F(e),o=a.pending,a.pending!==a.pending_buf_size));)R(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),F(e),o=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,R(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===u&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),F(e),o=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,R(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===u&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&F(e),a.pending+2<=a.pending_buf_size&&(R(a,255&e.adler),R(a,e.adler>>8&255),e.adler=0,a.status=T)):a.status=T),0!==a.pending){if(F(e),0===e.avail_out)return a.last_flush=-1,l}else if(0===e.avail_in&&I(t)<=I(r)&&t!==c)return z(e,-5);if(666===a.status&&0!==e.avail_in)return z(e,-5);if(0!==e.avail_in||0!==a.lookahead||t!==f&&666!==a.status){var p=2===a.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(P(e),0===e.lookahead)){if(t===f)return D;break}if(e.match_length=0,r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(j(e,!1),0===e.strm.avail_out))return D}return e.insert=0,t===c?(j(e,!0),0===e.strm.avail_out?C:M):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?D:O}(a,t):3===a.strategy?function(e,t){for(var r,n,a,o,s=e.window;;){if(e.lookahead<=S){if(P(e),e.lookahead<=S&&t===f)return D;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(n=s[a=e.strstart-1])===s[++a]&&n===s[++a]&&n===s[++a]){o=e.strstart+S;do{}while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<o);e.match_length=S-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(r=i._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(j(e,!1),0===e.strm.avail_out))return D}return e.insert=0,t===c?(j(e,!0),0===e.strm.avail_out?C:M):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?D:O}(a,t):n[a.level].func(a,t);if(p!==C&&p!==M||(a.status=666),p===D||p===C)return 0===e.avail_out&&(a.last_flush=-1),l;if(p===O&&(1===t?i._tr_align(a):5!==t&&(i._tr_stored_block(a,0,0,!1),3===t&&(B(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),F(e),0===e.avail_out))return a.last_flush=-1,l}return t!==c?l:a.wrap<=0?1:(2===a.wrap?(R(a,255&e.adler),R(a,e.adler>>8&255),R(a,e.adler>>16&255),R(a,e.adler>>24&255),R(a,255&e.total_in),R(a,e.total_in>>8&255),R(a,e.total_in>>16&255),R(a,e.total_in>>24&255)):(U(a,e.adler>>>16),U(a,65535&e.adler)),F(e),0<a.wrap&&(a.wrap=-a.wrap),0!==a.pending?l:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==A&&69!==t&&73!==t&&91!==t&&103!==t&&t!==T&&666!==t?z(e,d):(e.state=null,t===T?z(e,-3):l):d},r.deflateSetDictionary=function(e,t){var r,n,i,s,u,f,c,h,p=t.length;if(!e||!e.state)return d;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==A||r.lookahead)return d;for(1===s&&(e.adler=o(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(B(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new a.Buf8(r.w_size),a.arraySet(h,t,p-r.w_size,r.w_size,0),t=h,p=r.w_size),u=e.avail_in,f=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,P(r);r.lookahead>=k;){for(n=r.strstart,i=r.lookahead-(k-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+k-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=k-1,P(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=k-1,r.match_available=0,e.next_in=f,e.input=c,e.avail_in=u,r.wrap=s,l},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,a,i,o,s,u,f,c,l,d,h,p,m,b,v,g,y,_,w,x,k,S,E,A;r=e.state,n=e.next_in,E=e.input,a=n+(e.avail_in-5),i=e.next_out,A=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),u=r.dmax,f=r.wsize,c=r.whave,l=r.wnext,d=r.window,h=r.hold,p=r.bits,m=r.lencode,b=r.distcode,v=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;e:do{p<15&&(h+=E[n++]<<p,p+=8,h+=E[n++]<<p,p+=8),y=m[h&v];t:for(;;){if(h>>>=_=y>>>24,p-=_,0==(_=y>>>16&255))A[i++]=65535&y;else{if(!(16&_)){if(0==(64&_)){y=m[(65535&y)+(h&(1<<_)-1)];continue t}if(32&_){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&y,(_&=15)&&(p<_&&(h+=E[n++]<<p,p+=8),w+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=E[n++]<<p,p+=8,h+=E[n++]<<p,p+=8),y=b[h&g];r:for(;;){if(h>>>=_=y>>>24,p-=_,!(16&(_=y>>>16&255))){if(0==(64&_)){y=b[(65535&y)+(h&(1<<_)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(x=65535&y,p<(_&=15)&&(h+=E[n++]<<p,(p+=8)<_&&(h+=E[n++]<<p,p+=8)),u<(x+=h&(1<<_)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=_,p-=_,(_=i-o)<x){if(c<(_=x-_)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=d,(k=0)===l){if(k+=f-_,_<w){for(w-=_;A[i++]=d[k++],--_;);k=i-x,S=A}}else if(l<_){if(k+=f+l-_,(_-=l)<w){for(w-=_;A[i++]=d[k++],--_;);if(k=0,l<w){for(w-=_=l;A[i++]=d[k++],--_;);k=i-x,S=A}}}else if(k+=l-_,_<w){for(w-=_;A[i++]=d[k++],--_;);k=i-x,S=A}for(;2<w;)A[i++]=S[k++],A[i++]=S[k++],A[i++]=S[k++],w-=3;w&&(A[i++]=S[k++],1<w&&(A[i++]=S[k++]))}else{for(k=i-x;A[i++]=A[k++],A[i++]=A[k++],A[i++]=A[k++],2<(w-=3););w&&(A[i++]=A[k++],1<w&&(A[i++]=A[k++]))}break}}break}}while(n<a&&i<s);n-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=i<s?s-i+257:257-(i-s),r.hold=h,r.bits=p}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),a=e("./adler32"),i=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),u=1,f=2,c=0,l=-2,d=1,h=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(h),t.distcode=t.distdyn=new n.Buf32(p),t.sane=1,t.back=-1,c):l}function g(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):l}function y(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,g(e))):l}function _(e,t){var r,n;return e?(n=new b,(e.state=n).window=null,(r=y(e,t))!==c&&(e.state=null),r):l}var w,x,k=!0;function S(e){if(k){var t;for(w=new n.Buf32(512),x=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(f,e.lens,0,32,x,0,e.work,{bits:5}),k=!1}e.lencode=w,e.lenbits=9,e.distcode=x,e.distbits=5}function E(e,t,r,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),a>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(a<(i=o.wsize-o.wnext)&&(i=a),n.arraySet(o.window,t,r-a,i,o.wnext),(a-=i)?(n.arraySet(o.window,t,r-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}r.inflateReset=g,r.inflateReset2=y,r.inflateResetKeep=v,r.inflateInit=function(e){return _(e,15)},r.inflateInit2=_,r.inflate=function(e,t){var r,h,p,b,v,g,y,_,w,x,k,A,T,D,O,C,M,z,I,B,F,j,R,U,N=0,P=new n.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(r=e.state).mode&&(r.mode=13),v=e.next_out,p=e.output,y=e.avail_out,b=e.next_in,h=e.input,g=e.avail_in,_=r.hold,w=r.bits,x=g,k=y,j=c;e:for(;;)switch(r.mode){case d:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(2&r.wrap&&35615===_){P[r.check=0]=255&_,P[1]=_>>>8&255,r.check=i(r.check,P,2,0),w=_=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&_)<<8)+(_>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&_)){e.msg="unknown compression method",r.mode=30;break}if(w-=4,F=8+(15&(_>>>=4)),0===r.wbits)r.wbits=F;else if(F>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<F,e.adler=r.check=1,r.mode=512&_?10:12,w=_=0;break;case 2:for(;w<16;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(r.flags=_,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=_>>8&1),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,r.check=i(r.check,P,2,0)),w=_=0,r.mode=3;case 3:for(;w<32;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}r.head&&(r.head.time=_),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,P[2]=_>>>16&255,P[3]=_>>>24&255,r.check=i(r.check,P,4,0)),w=_=0,r.mode=4;case 4:for(;w<16;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}r.head&&(r.head.xflags=255&_,r.head.os=_>>8),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,r.check=i(r.check,P,2,0)),w=_=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}r.length=_,r.head&&(r.head.extra_len=_),512&r.flags&&(P[0]=255&_,P[1]=_>>>8&255,r.check=i(r.check,P,2,0)),w=_=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(g<(A=r.length)&&(A=g),A&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,h,b,A,F)),512&r.flags&&(r.check=i(r.check,h,A,b)),g-=A,b+=A,r.length-=A),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break e;for(A=0;F=h[b+A++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F)),F&&A<g;);if(512&r.flags&&(r.check=i(r.check,h,A,b)),g-=A,b+=A,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break e;for(A=0;F=h[b+A++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F)),F&&A<g;);if(512&r.flags&&(r.check=i(r.check,h,A,b)),g-=A,b+=A,F)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(_!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}w=_=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}e.adler=r.check=m(_),w=_=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=v,e.avail_out=y,e.next_in=b,e.avail_in=g,r.hold=_,r.bits=w,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){_>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}switch(r.last=1&_,w-=1,3&(_>>>=1)){case 0:r.mode=14;break;case 1:if(S(r),r.mode=20,6!==t)break;_>>>=2,w-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}_>>>=2,w-=2;break;case 14:for(_>>>=7&w,w-=7&w;w<32;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if((65535&_)!=(_>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&_,w=_=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(A=r.length){if(g<A&&(A=g),y<A&&(A=y),0===A)break e;n.arraySet(p,h,b,A,v),g-=A,b+=A,y-=A,v+=A,r.length-=A;break}r.mode=12;break;case 17:for(;w<14;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(r.nlen=257+(31&_),_>>>=5,w-=5,r.ndist=1+(31&_),_>>>=5,w-=5,r.ncode=4+(15&_),_>>>=4,w-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}r.lens[L[r.have++]]=7&_,_>>>=3,w-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},j=s(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,j){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;C=(N=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,M=65535&N,!((O=N>>>24)<=w);){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(M<16)_>>>=O,w-=O,r.lens[r.have++]=M;else{if(16===M){for(U=O+2;w<U;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(_>>>=O,w-=O,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}F=r.lens[r.have-1],A=3+(3&_),_>>>=2,w-=2}else if(17===M){for(U=O+3;w<U;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}w-=O,F=0,A=3+(7&(_>>>=O)),_>>>=3,w-=3}else{for(U=O+7;w<U;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}w-=O,F=0,A=11+(127&(_>>>=O)),_>>>=7,w-=7}if(r.have+A>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;A--;)r.lens[r.have++]=F}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},j=s(u,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,j){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},j=s(f,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,j){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=g&&258<=y){e.next_out=v,e.avail_out=y,e.next_in=b,e.avail_in=g,r.hold=_,r.bits=w,o(e,k),v=e.next_out,p=e.output,y=e.avail_out,b=e.next_in,h=e.input,g=e.avail_in,_=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;C=(N=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,M=65535&N,!((O=N>>>24)<=w);){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(C&&0==(240&C)){for(z=O,I=C,B=M;C=(N=r.lencode[B+((_&(1<<z+I)-1)>>z)])>>>16&255,M=65535&N,!(z+(O=N>>>24)<=w);){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}_>>>=z,w-=z,r.back+=z}if(_>>>=O,w-=O,r.back+=O,r.length=M,0===C){r.mode=26;break}if(32&C){r.back=-1,r.mode=12;break}if(64&C){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&C,r.mode=22;case 22:if(r.extra){for(U=r.extra;w<U;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}r.length+=_&(1<<r.extra)-1,_>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;C=(N=r.distcode[_&(1<<r.distbits)-1])>>>16&255,M=65535&N,!((O=N>>>24)<=w);){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(0==(240&C)){for(z=O,I=C,B=M;C=(N=r.distcode[B+((_&(1<<z+I)-1)>>z)])>>>16&255,M=65535&N,!(z+(O=N>>>24)<=w);){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}_>>>=z,w-=z,r.back+=z}if(_>>>=O,w-=O,r.back+=O,64&C){e.msg="invalid distance code",r.mode=30;break}r.offset=M,r.extra=15&C,r.mode=24;case 24:if(r.extra){for(U=r.extra;w<U;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}r.offset+=_&(1<<r.extra)-1,_>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===y)break e;if(A=k-y,r.offset>A){if((A=r.offset-A)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}T=A>r.wnext?(A-=r.wnext,r.wsize-A):r.wnext-A,A>r.length&&(A=r.length),D=r.window}else D=p,T=v-r.offset,A=r.length;for(y<A&&(A=y),y-=A,r.length-=A;p[v++]=D[T++],--A;);0===r.length&&(r.mode=21);break;case 26:if(0===y)break e;p[v++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===g)break e;g--,_|=h[b++]<<w,w+=8}if(k-=y,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?i(r.check,p,k,v-k):a(r.check,p,k,v-k)),k=y,(r.flags?_:m(_))!==r.check){e.msg="incorrect data check",r.mode=30;break}w=_=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===g)break e;g--,_+=h[b++]<<w,w+=8}if(_!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}w=_=0}r.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=v,e.avail_out=y,e.next_in=b,e.avail_in=g,r.hold=_,r.bits=w,(r.wsize||k!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&E(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(x-=e.avail_in,k-=e.avail_out,e.total_in+=x,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?i(r.check,p,k,e.next_out-k):a(r.check,p,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==x&&0===k||4===t)&&j===c&&(j=-5),j)},r.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,c},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?l:((r.head=t).done=!1,c):l},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&a(1,t,n,0)!==r.check?-3:E(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,c):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,u,f,c,l,d){var h,p,m,b,v,g,y,_,w,x=d.bits,k=0,S=0,E=0,A=0,T=0,D=0,O=0,C=0,M=0,z=0,I=null,B=0,F=new n.Buf16(16),j=new n.Buf16(16),R=null,U=0;for(k=0;k<=15;k++)F[k]=0;for(S=0;S<u;S++)F[t[r+S]]++;for(T=x,A=15;1<=A&&0===F[A];A--);if(A<T&&(T=A),0===A)return f[c++]=20971520,f[c++]=20971520,d.bits=1,0;for(E=1;E<A&&0===F[E];E++);for(T<E&&(T=E),k=C=1;k<=15;k++)if(C<<=1,(C-=F[k])<0)return-1;if(0<C&&(0===e||1!==A))return-1;for(j[1]=0,k=1;k<15;k++)j[k+1]=j[k]+F[k];for(S=0;S<u;S++)0!==t[r+S]&&(l[j[t[r+S]]++]=S);if(g=0===e?(I=R=l,19):1===e?(I=a,B-=257,R=i,U-=257,256):(I=o,R=s,-1),k=E,v=c,O=S=z=0,m=-1,b=(M=1<<(D=T))-1,1===e&&852<M||2===e&&592<M)return 1;for(;;){for(y=k-O,w=l[S]<g?(_=0,l[S]):l[S]>g?(_=R[U+l[S]],I[B+l[S]]):(_=96,0),h=1<<k-O,E=p=1<<D;f[v+(z>>O)+(p-=h)]=y<<24|_<<16|w|0,0!==p;);for(h=1<<k-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,S++,0==--F[k]){if(k===A)break;k=t[r+l[S]]}if(T<k&&(z&b)!==m){for(0===O&&(O=T),v+=E,C=1<<(D=k-O);D+O<A&&!((C-=F[D+O])<=0);)D++,C<<=1;if(M+=1<<D,1===e&&852<M||2===e&&592<M)return 1;f[m=z&b]=T<<24|D<<16|v-c|0}}return 0!==z&&(f[v+z]=k-O<<24|64<<16|0),d.bits=T,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common");function a(e){for(var t=e.length;0<=--t;)e[t]=0}var i=0,o=256,s=o+1+29,u=30,f=19,c=2*s+1,l=15,d=16,h=256,p=16,m=17,b=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],g=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=new Array(2*(s+2));a(w);var x=new Array(2*u);a(x);var k=new Array(512);a(k);var S=new Array(256);a(S);var E=new Array(29);a(E);var A,T,D,O=new Array(u);function C(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function M(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?k[e]:k[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function F(e,t,r){B(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function R(e,t,r){var n,a,i=new Array(l+1),o=0;for(n=1;n<=l;n++)i[n]=o=o+r[n-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=j(i[s]++,s))}}function U(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<u;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*h]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function N(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,r,n){var a=2*t,i=2*r;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]}function L(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&P(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!P(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n}function W(e,t,r){var n,a,i,s,u=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],a=e.pending_buf[e.l_buf+u],u++,0===n?F(e,a,t):(F(e,(i=S[a])+o+1,t),0!==(s=v[i])&&B(e,a-=E[i],s),F(e,i=z(--n),r),0!==(s=g[i])&&B(e,n-=O[i],s)),u<e.last_lit;);F(e,h,t)}function H(e,t){var r,n,a,i=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=c,r=0;r<u;r++)0!==i[2*r]?(e.heap[++e.heap_len]=f=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=f,r=e.heap_len>>1;1<=r;r--)L(e,i,r);for(a=u;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*a]=i[2*r]+i[2*n],e.depth[a]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=a,e.heap[1]=a++,L(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,a,i,o,s,u=t.dyn_tree,f=t.max_code,d=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,b=t.stat_desc.max_length,v=0;for(i=0;i<=l;i++)e.bl_count[i]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<c;r++)b<(i=u[2*u[2*(n=e.heap[r])+1]+1]+1)&&(i=b,v++),u[2*n+1]=i,f<n||(e.bl_count[i]++,o=0,m<=n&&(o=p[n-m]),s=u[2*n],e.opt_len+=s*(i+o),h&&(e.static_len+=s*(d[2*n+1]+o)));if(0!==v){do{for(i=b-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[b]--,v-=2}while(0<v);for(i=b;0!==i;i--)for(n=e.bl_count[i];0!==n;)f<(a=e.heap[--r])||(u[2*a+1]!==i&&(e.opt_len+=(i-u[2*a+1])*u[2*a],u[2*a+1]=i),n--)}}(e,t),R(i,f,e.bl_count)}function Y(e,t,r){var n,a,i=-1,o=t[1],s=0,u=7,f=4;for(0===o&&(u=138,f=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=o,o=t[2*(n+1)+1],++s<u&&a===o||(s<f?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*p]++):s<=10?e.bl_tree[2*m]++:e.bl_tree[2*b]++,i=a,f=(s=0)===o?(u=138,3):a===o?(u=6,3):(u=7,4))}function V(e,t,r){var n,a,i=-1,o=t[1],s=0,u=7,f=4;for(0===o&&(u=138,f=3),n=0;n<=r;n++)if(a=o,o=t[2*(n+1)+1],!(++s<u&&a===o)){if(s<f)for(;F(e,a,e.bl_tree),0!=--s;);else 0!==a?(a!==i&&(F(e,a,e.bl_tree),s--),F(e,p,e.bl_tree),B(e,s-3,2)):s<=10?(F(e,m,e.bl_tree),B(e,s-3,3)):(F(e,b,e.bl_tree),B(e,s-11,7));i=a,f=(s=0)===o?(u=138,3):a===o?(u=6,3):(u=7,4)}}a(O);var G=!1;function Z(e,t,r,a){B(e,(i<<1)+(a?1:0),3),function(e,t,r,a){N(e),I(e,r),I(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}r._tr_init=function(e){G||(function(){var e,t,r,n,a,i=new Array(l+1);for(n=r=0;n<28;n++)for(E[n]=r,e=0;e<1<<v[n];e++)S[r++]=n;for(S[r-1]=n,n=a=0;n<16;n++)for(O[n]=a,e=0;e<1<<g[n];e++)k[a++]=n;for(a>>=7;n<u;n++)for(O[n]=a<<7,e=0;e<1<<g[n]-7;e++)k[256+a++]=n;for(t=0;t<=l;t++)i[t]=0;for(e=0;e<=143;)w[2*e+1]=8,e++,i[8]++;for(;e<=255;)w[2*e+1]=9,e++,i[9]++;for(;e<=279;)w[2*e+1]=7,e++,i[7]++;for(;e<=287;)w[2*e+1]=8,e++,i[8]++;for(R(w,s+1,i),e=0;e<u;e++)x[2*e+1]=5,x[2*e]=j(e,5);A=new C(w,v,o+1,s,l),T=new C(x,g,0,u,l),D=new C(new Array(0),y,0,f,7)}(),G=!0),e.l_desc=new M(e.dyn_ltree,A),e.d_desc=new M(e.dyn_dtree,T),e.bl_desc=new M(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,U(e)},r._tr_stored_block=Z,r._tr_flush_block=function(e,t,r,n){var a,i,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),H(e,e.l_desc),H(e,e.d_desc),s=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),H(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=r+5,r+4<=a&&-1!==t?Z(e,t,r,n):4===e.strategy||i===a?(B(e,2+(n?1:0),3),W(e,w,x)):(B(e,4+(n?1:0),3),function(e,t,r,n){var a;for(B(e,t-257,5),B(e,r-1,5),B(e,n-4,4),a=0;a<n;a++)B(e,e.bl_tree[2*_[a]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),W(e,e.dyn_ltree,e.dyn_dtree)),U(e),n&&N(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(S[r]+o+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){B(e,2,3),F(e,h,w),function(e){16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){"use strict";t.exports="function"==typeof n?n:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}()}()}).call(this,r("4de17b50d35d24f9c74a").Buffer,r("698d75b157f24ae829cc"),r("e9aab379f407c6096333").setImmediate)},d405ef37a679ad5e4761:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(){var e=Array.prototype.slice.call(arguments).map((function(e){return n(e)})),t=Math.max.apply(null,e);return new Date(t)}},d5488afe1ebfdffad50a:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getFullYear()===a.getFullYear()}},d5b4ab12a987da4a3f5e:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getMilliseconds()}},d9c76b070c85e2cc3746:function(e,t,r){var n=r("6d2407ceb7812b36a9ba");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},db39c1f7a53537979eb5:function(e,t,r){var n=r("9333ad2d90813f899792"),a=6e4;e.exports=function(e,t){var r=n(e,t)/a;return r>0?Math.floor(r):Math.ceil(r)}},dbc16af6a80a9dc2591f:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=t&&Number(t.weekStartsOn)||0,a=n(e),i=a.getDay(),o=6+(i<r?-7:0)-(i-r);return a.setHours(0,0,0,0),a.setDate(a.getDate()+o),a}},dc1452cc1dfc2f44ef09:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(0,0,0,0),t}},dc26ebfa3e06f593ca16:function(e,t,r){var n=r("3e1db4ff12739fc7495f");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},dc4f7c8d8f14e7075792:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.withResizeDetector=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r("8af190b70a6bc55c6f1b")),a=f(r("8a2d1b95e05b6a321e74")),i=f(r("4be109e4f90b746dc153")),o=f(r("f9afcabf039666982141")),s=f(r("6e8a6517a4f42a2b5651")),u=f(r("f9b95b050e044c9b3ed4"));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function m(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={debounce:o.default,throttle:s.default},x={position:"absolute",width:0,height:0,visibility:"hidden",display:"none"};var k=function(e){function t(e){var r;d(this,t),_(y(y(r=m(this,b(t).call(this,e)))),"getElement",(function(){var e=r.props.resizableElementId,t=e&&document.getElementById(e),n=r.el&&r.el.parentElement;return t||n})),_(y(y(r)),"createResizeHandler",(function(e){var t=r.props,n=t.handleWidth,a=t.handleHeight,i=t.onResize;e.forEach((function(e){var t=e.contentRect,o=t.width,s=t.height,u=n&&r.state.width!==o,f=a&&r.state.height!==s;r.skipOnMount||!u&&!f||"undefined"==typeof window||(r.animationFrameID=window.requestAnimationFrame((function(){i(o,s),r.setState({width:o,height:s})}))),r.skipOnMount=!1}))})),_(y(y(r)),"handleRenderProp",(function(){var e=r.state,t=e.width,a=e.height,i=r.props.render;if(i&&"function"==typeof i)return(0,n.cloneElement)(i({width:t,height:a}),{key:"render"})})),_(y(y(r)),"renderChildren",(function(){var e=r.state,t=e.width,a=e.height;return function(e){return e?Array.isArray(e)?e:[e]:[]}(r.props.children).filter((function(e){return!!e})).map((function(e,r){return(0,u.default)(e)?(0,n.cloneElement)(e(t,a),{key:r}):(0,n.isValidElement)(e)?(0,n.cloneElement)(e,{width:t,height:a,key:r}):e}))}));var a=e.skipOnMount,o=e.refreshMode,s=e.refreshRate;return r.state={width:void 0,height:void 0},r.skipOnMount=a,r.animationFrameID=null,r.resizeHandler=w[o]&&w[o](r.createResizeHandler,s)||r.createResizeHandler,r.ro=new i.default(r.resizeHandler),r}return v(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this.getElement();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.getElement();e&&this.ro.unobserve(e),"undefined"!=typeof window&&this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeHandler&&this.resizeHandler.cancel&&this.resizeHandler.cancel()}},{key:"render",value:function(){var e=this;return[n.default.createElement("div",{key:"resize-detector",style:x,ref:function(t){e.el=t}}),this.handleRenderProp()].concat(l(this.renderChildren()))}}]),t}(n.PureComponent);k.propTypes={handleWidth:a.default.bool,handleHeight:a.default.bool,skipOnMount:a.default.bool,refreshRate:a.default.number,refreshMode:a.default.string,resizableElementId:a.default.string,onResize:a.default.func,render:a.default.func,children:a.default.any},k.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,resizableElementId:"",onResize:function(e){return e},render:void 0,children:null};t.withResizeDetector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return(function(r){function a(){return d(this,a),m(this,b(a).apply(this,arguments))}return v(a,r),p(a,[{key:"render",value:function(){return n.default.createElement(k,t,n.default.createElement(e,this.props))}}]),a}(n.Component))};var S=k;t.default=S},dd3cf87a3f99e6206650:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getTime()}},e1d863a2e6d38b04af33:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()<a.getTime()}},e229a56dbe7d99765e61:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(){var e=Array.prototype.slice.call(arguments).map((function(e){return n(e)})),t=Math.min.apply(null,e);return new Date(t)}},e651bfb31b35e1b8197a:function(e,t,r){var n=r("728cccc9176be1ad1e99"),a=r("b282c606f67e57cd891a"),i=r("a1aa598375ebfda31697"),o=r("9a70c82fd2199613d3d3"),s=1440,u=43200,f=525600;e.exports=function(e,t,r){var c=r||{},l=n(e,t),d=c.locale,h=o.distanceInWords.localize;d&&d.distanceInWords&&d.distanceInWords.localize&&(h=d.distanceInWords.localize);var p,m,b,v={addSuffix:Boolean(c.addSuffix),comparison:l};l>0?(p=a(e),m=a(t)):(p=a(t),m=a(e));var g=Math[c.partialMethod?String(c.partialMethod):"floor"],y=i(m,p),_=m.getTimezoneOffset()-p.getTimezoneOffset(),w=g(y/60)-_;if("s"===(b=c.unit?String(c.unit):w<1?"s":w<60?"m":w<s?"h":w<u?"d":w<f?"M":"Y"))return h("xSeconds",y,v);if("m"===b)return h("xMinutes",w,v);if("h"===b)return h("xHours",g(w/60),v);if("d"===b)return h("xDays",g(w/s),v);if("M"===b)return h("xMonths",g(w/u),v);if("Y"===b)return h("xYears",g(w/f),v);throw new Error("Unknown unit: "+b)}},e95c05475cb1ce30a750:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setHours(0,0,0,0),t}},e992ecac00b1c00e7e71:function(e,t,r){var n=r("8180af8e9f7890b148bf");e.exports=function(e){return n(new Date,e)}},e9ce710af15e5551826a:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e);return t.setMilliseconds(0),t}},ea795334188135c9b5cc:function(e,t,r){"use strict";var n=r("8540a3217129eda25d63");e.exports=o;var a=96;function i(e,t){var r=n(getComputedStyle(e).getPropertyValue(t));return r[0]*o(r[1],e)}function o(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return function(e,t){var r=document.createElement("div");r.style["font-size"]="128"+e,t.appendChild(r);var n=i(r,"font-size")/128;return t.removeChild(r),n}(e,t);case"em":return i(t,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},ee12b592a88da367b8cc:function(e,t,r){var n=r("601e5cf8f33267c33850");e.exports=function(e,t){var r=Number(t);return n(e,-r)}},f068f34cf5ac43ea6dcd:function(e,t,r){var n=r("9e8d9e5af89f373b8e59");e.exports=function(e){if(n(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},f2bbbd7ed41401f7b08b:function(e,t,r){var n=r("b0e54c4add9436785793");e.exports=function(e){return n(new Date,e)}},f3e8651a0d0842fe2985:function(e,t,r){var n=r("d5488afe1ebfdffad50a");e.exports=function(e){return n(new Date,e)}},f54af8fb2a1f026b5852:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t,r){var a=n(e),i=void 0!==r?r:1,o=n(t).getTime();if(a.getTime()>o)throw new Error("The first date cannot be after the second date");var s=[],u=a;for(u.setHours(0,0,0,0);u.getTime()<=o;)s.push(n(u)),u.setDate(u.getDate()+i);return s}},f6304df64c4b3e3571ee:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){return n(e).getMinutes()}},f6995dec26bdc0905ab7:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=n(e),a=Number(t);return r.setMilliseconds(a),r}},f9afcabf039666982141:function(e,t,r){(function(t){var r="Expected a function",n=NaN,a="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,b=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==a}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||u.test(e)?f(e.slice(2),r?2:8):o.test(e)?n:+e}e.exports=function(e,t,n){var a,i,o,s,u,f,c=0,l=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(r);function y(t){var r=a,n=i;return a=i=void 0,c=t,s=e.apply(n,r)}function _(e){var r=e-f;return void 0===f||r>=t||r<0||d&&e-c>=o}function w(){var e=b();if(_(e))return x(e);u=setTimeout(w,function(e){var r=t-(e-f);return d?m(r,o-(e-c)):r}(e))}function x(e){return u=void 0,h&&a?y(e):(a=i=void 0,s)}function k(){var e=b(),r=_(e);if(a=arguments,i=this,f=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(w,t),l?y(e):s}(f);if(d)return u=setTimeout(w,t),y(f)}return void 0===u&&(u=setTimeout(w,t)),s}return t=g(t)||0,v(n)&&(l=!!n.leading,o=(d="maxWait"in n)?p(g(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),k.cancel=function(){void 0!==u&&clearTimeout(u),c=0,a=f=i=u=void 0},k.flush=function(){return void 0===u?s:x(b())},k}}).call(this,r("698d75b157f24ae829cc"))},f9b95b050e044c9b3ed4:function(e,t,r){(function(t){var r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Null]",o="[object Proxy]",s="[object Undefined]",u="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,c=u||f||Function("return this")(),l=Object.prototype,d=l.hasOwnProperty,h=l.toString,p=c.Symbol,m=p?p.toStringTag:void 0;function b(e){return null==e?void 0===e?s:i:m&&m in Object(e)?function(e){var t=d.call(e,m),r=e[m];try{e[m]=void 0;var n=!0}catch(i){}var a=h.call(e);n&&(t?e[m]=r:delete e[m]);return a}(e):function(e){return h.call(e)}(e)}e.exports=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=b(e);return t==n||t==a||t==r||t==o}}).call(this,r("698d75b157f24ae829cc"))},fb4a01e9dae31ace51bd:function(e,t,r){var n=r("e9ce710af15e5551826a");e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()===a.getTime()}},fc7bcf63e4004b585497:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e,t){var r=t&&Number(t.weekStartsOn)||0,a=n(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}},ff060652fa4500a5be4f:function(e,t,r){var n=r("b282c606f67e57cd891a");e.exports=function(e){var t=n(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}}}]);
//# sourceMappingURL=58.f0345c53c1017924118c.bundle.js.map